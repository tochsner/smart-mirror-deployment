(self.webpackChunksmart_mirror_display=self.webpackChunksmart_mirror_display||[]).push([[179],{211:(V,ue,D)=>{"use strict";function E(t){return"function"==typeof t}function P(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const R=P(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function C(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class S{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(s){e=s instanceof R?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{F(s)}catch(o){e=null!=e?e:[],o instanceof R?e=[...e,...o.errors]:e.push(o)}}if(e)throw new R(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F(e);else{if(e instanceof S){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&C(n,e)}remove(e){const{_teardowns:n}=this;n&&C(n,e),e instanceof S&&e._removeParent(this)}}S.EMPTY=(()=>{const t=new S;return t.closed=!0,t})();const L=S.EMPTY;function w(t){return t instanceof S||t&&"closed"in t&&E(t.remove)&&E(t.add)&&E(t.unsubscribe)}function F(t){E(t)?t():t.unsubscribe()}const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(...t){const{delegate:e}=y;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=y;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function q(t){y.setTimeout(()=>{const{onUnhandledError:e}=x;if(!e)throw t;e(t)})}function J(){}const ie=et("C",void 0,void 0);function et(t,e,n){return{kind:t,value:e,error:n}}let A=null;function se(t){if(x.useDeprecatedSynchronousErrorHandling){const e=!A;if(e&&(A={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=A;if(A=null,n)throw r}}else t()}class me extends S{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,w(e)&&e.add(this)):this.destination=O}static create(e,n,r){return new ee(e,n,r)}next(e){this.isStopped?On(function K(t){return et("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?On(function z(t){return et("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?On(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ee extends me{constructor(e,n,r){let i;if(super(),E(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&x.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?tt(i):J,error:tt(null!=n?n:Nt),complete:r?tt(r):J}}}function tt(t,e){return(...n)=>{try{t(...n)}catch(r){x.useDeprecatedSynchronousErrorHandling?function Ee(t){x.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=t)}(r):q(r)}}}function Nt(t){throw t}function On(t,e){const{onStoppedNotification:n}=x;n&&y.setTimeout(()=>n(t,e))}const O={closed:!0,next:J,error:Nt,complete:J},Wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function It(t){return t}let Se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function cU(t){return t&&t instanceof me||function uU(t){return t&&E(t.next)&&E(t.error)&&E(t.complete)}(t)&&w(t)}(n)?n:new ee(n,r,i);return se(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=vD(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Wt](){return this}pipe(...n){return function Ot(t){return 0===t.length?It:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=vD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function vD(t){var e;return null!==(e=null!=t?t:x.Promise)&&void 0!==e?e:Promise}const lU=P(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ci=(()=>{class t extends Se{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new wD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lU}next(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?L:(s.push(n),new S(()=>C(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Se;return n.source=this,n}}return t.create=(e,n)=>new wD(e,n),t})();class wD extends ci{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:L}}function ED(t){return E(null==t?void 0:t.lift)}function Kt(t){return e=>{if(ED(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Qt extends me{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Pe(t,e){return Kt((n,r)=>{let i=0;n.subscribe(new Qt(r,s=>{r.next(t.call(e,s,i++))}))})}function vs(t){return this instanceof vs?(this.v=t,this):new vs(t)}function fU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof vs?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function pU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function TD(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const DD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function CD(t){return E(null==t?void 0:t.then)}function SD(t){return E(t[Wt])}function AD(t){return Symbol.asyncIterator&&E(null==t?void 0:t[Symbol.asyncIterator])}function xD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const MD=function mU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function RD(t){return E(null==t?void 0:t[MD])}function kD(t){return fU(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vs(n.read());if(i)return yield vs(void 0);yield yield vs(r)}}finally{n.releaseLock()}})}function ND(t){return E(null==t?void 0:t.getReader)}function li(t){if(t instanceof Se)return t;if(null!=t){if(SD(t))return function yU(t){return new Se(e=>{const n=t[Wt]();if(E(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(DD(t))return function _U(t){return new Se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(CD(t))return function vU(t){return new Se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,q)})}(t);if(AD(t))return OD(t);if(RD(t))return function wU(t){return new Se(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ND(t))return function EU(t){return OD(kD(t))}(t)}throw xD(t)}function OD(t){return new Se(e=>{(function IU(t,e){var n,r,i,s;return function dU(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=pU(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function di(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Pt(t,e,n=1/0){return E(e)?Pt((r,i)=>Pe((s,o)=>e(r,s,i,o))(li(t(r,i))),n):("number"==typeof e&&(n=e),Kt((r,i)=>function bU(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;li(n(m,l++)).subscribe(new Qt(e,I=>{null==i||i(I),s?f(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const I=u.shift();o?di(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(new Qt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Eu(t=1/0){return Pt(It,t)}const hi=new Se(t=>t.complete());function Tp(t){return t[t.length-1]}function Iu(t){return function DU(t){return t&&E(t.schedule)}(Tp(t))?t.pop():void 0}function jl(t,e=0){return Kt((n,r)=>{n.subscribe(new Qt(r,i=>di(r,t,()=>r.next(i),e),()=>di(r,t,()=>r.complete(),e),i=>di(r,t,()=>r.error(i),e)))})}function Bl(t,e=0){return Kt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function PD(t,e){if(!t)throw new Error("Iterable cannot be null");return new Se(n=>{di(n,e,()=>{const r=t[Symbol.asyncIterator]();di(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Yt(t,e){return e?function NU(t,e){if(null!=t){if(SD(t))return function AU(t,e){return li(t).pipe(Bl(e),jl(e))}(t,e);if(DD(t))return function MU(t,e){return new Se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(CD(t))return function xU(t,e){return li(t).pipe(Bl(e),jl(e))}(t,e);if(AD(t))return PD(t,e);if(RD(t))return function RU(t,e){return new Se(n=>{let r;return di(n,e,()=>{r=t[MD](),di(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>E(null==r?void 0:r.return)&&r.return()})}(t,e);if(ND(t))return function kU(t,e){return PD(kD(t),e)}(t,e)}throw xD(t)}(t,e):li(t)}function $l(t){return t<=0?()=>hi:Kt((e,n)=>{let r=0;e.subscribe(new Qt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function FD(t={}){const{connector:e=(()=>new ci),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Kt((m,_)=>{c++,!d&&!l&&h();const I=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=Dp(p,i))}),I.subscribe(_),o||(o=new ee({next:v=>I.next(v),error:v=>{d=!0,h(),a=Dp(f,n,v),I.error(v)},complete:()=>{l=!0,h(),a=Dp(f,r),I.complete()}}),Yt(m).subscribe(o))})(s)}}function Dp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe($l(1)).subscribe(()=>t())}function Be(t){for(let e in t)if(t[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function Ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Sp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const PU=Be({__forward_ref__:Be});function Ap(t){return t.__forward_ref__=Ap,t.toString=function(){return Ve(this())},t}function ye(t){return function LD(t){return"function"==typeof t&&t.hasOwnProperty(PU)&&t.__forward_ref__===Ap}(t)?t():t}class Fe extends Error{constructor(e,n){super(function xp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function wn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}function Hl(t,e){const n=e?` in ${e}`:"";throw new Fe(-201,`No provider for ${wn(t)} found${n}`)}function zn(t,e){null==t&&function Ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function he(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mp(t){return UD(t,ql)||UD(t,jD)}function UD(t,e){return t.hasOwnProperty(e)?t[e]:null}function VD(t){return t&&(t.hasOwnProperty(Rp)||t.hasOwnProperty($U))?t[Rp]:null}const ql=Be({\u0275prov:Be}),Rp=Be({\u0275inj:Be}),jD=Be({ngInjectableDef:Be}),$U=Be({ngInjectorDef:Be});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let kp;function ji(t){const e=kp;return kp=t,e}function BD(t,e,n){const r=Mp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&fe.Optional?null:void 0!==e?e:void Hl(Ve(t),"Injector")}function Bi(t){return{toString:t}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),$r=(()=>{return(t=$r||($r={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$r;var t})();const qU="undefined"!=typeof globalThis&&globalThis,GU="undefined"!=typeof window&&window,zU="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je=qU||"undefined"!=typeof global&&global||GU||zU,vo={},$e=[],Gl=Be({\u0275cmp:Be}),Np=Be({\u0275dir:Be}),Op=Be({\u0275pipe:Be}),$D=Be({\u0275mod:Be}),pi=Be({\u0275fac:Be}),bu=Be({__NG_ELEMENT_ID__:Be});let WU=0;function Hr(t){return Bi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$e,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||$r.Emulated,id:"c",styles:t.styles||$e,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=WU++,r.inputs=zD(t.inputs,n),r.outputs=zD(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(HD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(qD):null,r})}function HD(t){return dn(t)||function $i(t){return t[Np]||null}(t)}function qD(t){return function ws(t){return t[Op]||null}(t)}const GD={};function cr(t){return Bi(()=>{const e={type:t.type,bootstrap:t.bootstrap||$e,declarations:t.declarations||$e,imports:t.imports||$e,exports:t.exports||$e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(GD[t.id]=t.type),e})}function zD(t,e){if(null==t)return vo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ln=Hr;function dn(t){return t[Gl]||null}function lr(t,e){const n=t[$D]||null;if(!n&&!0===e)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return n}function qr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Sr(t){return Array.isArray(t)&&!0===t[1]}function Lp(t){return 0!=(8&t.flags)}function Ql(t){return 2==(2&t.flags)}function Yl(t){return 1==(1&t.flags)}function Ar(t){return null!==t.template}function ZU(t){return 0!=(512&t[2])}function Ts(t,e){return t.hasOwnProperty(pi)?t[pi]:null}class n2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function KD(t){return t.type.prototype.ngOnChanges&&(t.setInput=i2),r2}function r2(){const t=YD(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function i2(t,e,n,r){const i=YD(t)||function s2(t,e){return t[QD]=e}(t,{previous:vo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new n2(u&&u.currentValue,e,o===vo),t[r]=e}const QD="__ngSimpleChanges__";function YD(t){return t[QD]||null}let jp;function nt(t){return!!t.listen}const ZD={createRenderer:(t,e)=>function Bp(){return void 0!==jp?jp:"undefined"!=typeof document?document:void 0}()};function ft(t){for(;Array.isArray(t);)t=t[0];return t}function Jl(t,e){return ft(e[t])}function fr(t,e){return ft(e[t.index])}function $p(t,e){return t.data[e]}function Qn(t,e){const n=e[t];return qr(n)?n:n[0]}function Hp(t){return 128==(128&t[2])}function Hi(t,e){return null==e?null:t[e]}function t0(t){t[18]=0}function qp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ae={lFrame:d0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function n0(){return ae.bindingsEnabled}function M(){return ae.lFrame.lView}function Me(){return ae.lFrame.tView}function bt(){let t=s0();for(;null!==t&&64===t.type;)t=t.parent;return t}function s0(){return ae.lFrame.currentTNode}function Gr(t,e){const n=ae.lFrame;n.currentTNode=t,n.isParent=e}function Gp(){return ae.lFrame.isParent}function zp(){ae.lFrame.isParent=!1}function Xl(){return ae.isInCheckNoChangesMode}function Zl(t){ae.isInCheckNoChangesMode=t}function Do(){return ae.lFrame.bindingIndex++}function mi(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function v2(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wp(e)}function Wp(t){ae.lFrame.currentDirectiveIndex=t}function Qp(t){ae.lFrame.currentQueryIndex=t}function E2(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function c0(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&fe.Host||(i=E2(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ae.lFrame=l0();return r.currentTNode=e,r.lView=t,!0}function ed(t){const e=l0(),n=t[1];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function l0(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?d0(t):e}function d0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function h0(){const t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const f0=h0;function td(){const t=h0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function In(){return ae.lFrame.selectedIndex}function qi(t){ae.lFrame.selectedIndex=t}function rt(){const t=ae.lFrame;return $p(t.tView,t.selectedIndex)}function nd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function rd(t,e,n){p0(t,e,3,n)}function id(t,e,n,r){(3&t[2])===n&&p0(t,e,n,r)}function Yp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function p0(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(M2(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function M2(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Au{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sd(t,e,n){const r=nt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Xp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function g0(t){return 3===t||4===t||6===t}function Xp(t){return 64===t.charCodeAt(0)}function od(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||m0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function m0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function y0(t){return-1!==t}function Co(t){return 32767&t}function So(t,e){let n=function P2(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Zp=!0;function ad(t){const e=Zp;return Zp=t,e}let F2=0;function Mu(t,e){const n=tg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,eg(r.data,t),eg(e,null),eg(r.blueprint,null));const i=ud(t,e),s=t.injectorIndex;if(y0(i)){const o=Co(i),a=So(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function eg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ud(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function cd(t,e,n){!function L2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(bu)&&(r=n[bu]),null==r&&(r=n[bu]=F2++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function w0(t,e,n){if(n&fe.Optional)return t;Hl(e,"NodeInjector")}function E0(t,e,n,r){if(n&fe.Optional&&void 0===r&&(r=null),0==(n&(fe.Self|fe.Host))){const i=t[9],s=ji(void 0);try{return i?i.get(e,r,n&fe.Optional):BD(e,r,n&fe.Optional)}finally{ji(s)}}return w0(r,e,n)}function I0(t,e,n,r=fe.Default,i){if(null!==t){const s=function B2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(bu)?t[bu]:void 0;return"number"==typeof e?e>=0?255&e:V2:e}(n);if("function"==typeof s){if(!c0(e,t,r))return r&fe.Host?w0(i,n,r):E0(e,n,r,i);try{const o=s(r);if(null!=o||r&fe.Optional)return o;Hl(n)}finally{f0()}}else if("number"==typeof s){let o=null,a=tg(t,e),u=-1,c=r&fe.Host?e[16][6]:null;for((-1===a||r&fe.SkipSelf)&&(u=-1===a?ud(t,e):e[a+8],-1!==u&&D0(r,!1)?(o=e[1],a=Co(u),e=So(u,e)):a=-1);-1!==a;){const l=e[1];if(T0(s,a,l.data)){const d=j2(a,e,n,o,r,c);if(d!==b0)return d}u=e[a+8],-1!==u&&D0(r,e[1].data[a+8]===c)&&T0(s,a,e)?(o=l,a=Co(u),e=So(u,e)):a=-1}}}return E0(e,n,r,i)}const b0={};function V2(){return new Ao(bt(),M())}function j2(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function ld(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Ar(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ql(a)&&Zp:r!=o&&0!=(3&a.type),i&fe.Host&&s===a);return null!==l?Ru(e,o,l,a):b0}function Ru(t,e,n,r){let i=t[n];const s=e.data;if(function R2(t){return t instanceof Au}(i)){const o=i;o.resolving&&function FU(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${t}${n}`)}(wn(s[n]));const a=ad(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ji(o.injectImpl):null;c0(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function x2(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=KD(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&ji(u),ad(a),o.resolving=!1,f0()}}return i}function T0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function D0(t,e){return!(t&fe.Self||t&fe.Host&&e)}class Ao{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return I0(this._tNode,this._lView,e,r,n)}}const Mo="__parameters__";function ko(t,e,n){return Bi(()=>{const r=function rg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Mo)?u[Mo]:Object.defineProperty(u,Mo,{value:[]})[Mo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class we{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const q2=new we("AnalyzeForEntryComponents");function zr(t,e){t.forEach(n=>Array.isArray(n)?zr(n,e):e(n))}function S0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yn(t,e,n){let r=No(t,e);return r>=0?t[1|r]=n:(r=~r,function W2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sg(t,e){const n=No(t,e);if(n>=0)return t[1|n]}function No(t,e){return function M0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Fu={},ag="__NG_DI_FLAG__",fd="ngTempTokenPath",eV=/\n/gm,k0="__source",nV=Be({provide:String,useValue:Be});let Lu;function N0(t){const e=Lu;return Lu=t,e}function rV(t,e=fe.Default){if(void 0===Lu)throw new Fe(203,"");return null===Lu?BD(t,void 0,e):Lu.get(t,e&fe.Optional?null:void 0,e)}function Q(t,e=fe.Default){return(function HU(){return kp}()||rV)(ye(t),e)}function ug(t){const e=[];for(let n=0;n<t.length;n++){const r=ye(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Fe(900,"");let i,s=fe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=iV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function Uu(t,e){return t[ag]=e,t.prototype[ag]=e,t}function iV(t){return t[ag]}const Vu=Uu(ko("Inject",t=>({token:t})),-1),ct=Uu(ko("Optional"),8),Oo=Uu(ko("SkipSelf"),4);class $0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function zi(t){return t instanceof $0?t.changingThisBreaksApplicationSecurity:t}const CV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,SV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var pt=(()=>((pt=pt||{})[pt.NONE=0]="NONE",pt[pt.HTML=1]="HTML",pt[pt.STYLE=2]="STYLE",pt[pt.SCRIPT=3]="SCRIPT",pt[pt.URL=4]="URL",pt[pt.RESOURCE_URL=5]="RESOURCE_URL",pt))();function Lo(t){const e=function Hu(){const t=M();return t&&t[12]}();return e?e.sanitize(pt.URL,t)||"":function Bu(t,e){const n=function IV(t){return t instanceof $0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?zi(t):function yd(t){return(t=String(t)).match(CV)||t.match(SV)?t:"unsafe:"+t}(le(t))}const X0="__ngContext__";function fn(t,e){t[X0]=e}function yg(t){const e=function qu(t){return t[X0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function vg(t){return t.ngOriginalError}function YV(t,...e){t.error(...e)}class Uo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function QV(t){return t&&t.ngErrorLogger||YV}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vg(e);for(;n&&vg(n);)n=vg(n);return n||null}}const rC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je))();function Kr(t){return t instanceof Function?t():t}var Jn=(()=>((Jn=Jn||{})[Jn.Important=1]="Important",Jn[Jn.DashCase=2]="DashCase",Jn))();function Eg(t,e){return undefined(t,e)}function Gu(t){const e=t[3];return Sr(e)?e[3]:e}function Ig(t){return uC(t[13])}function bg(t){return uC(t[4])}function uC(t){for(;null!==t&&!Sr(t);)t=t[4];return t}function jo(t,e,n,r,i){if(null!=r){let s,o=!1;Sr(r)?s=r:qr(r)&&(o=!0,r=r[0]);const a=ft(r);0===t&&null!==n?null==i?pC(e,n,a):Cs(e,n,a,i||null,!0):1===t&&null!==n?Cs(e,n,a,i||null,!0):2===t?function EC(t,e,n){const r=vd(t,e);r&&function vj(t,e,n,r){nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Ij(t,e,n,r,i){const s=n[7];s!==ft(n)&&jo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];zu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Dg(t,e,n){return nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function lC(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qp(i,-1)),n.splice(r,1)}function Cg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&lC(i,r),e>0&&(t[n-1][4]=r[4]);const s=dd(t,10+e);!function dj(t,e){zu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function dC(t,e){if(!(256&e[2])){const n=e[11];nt(n)&&n.destroyNode&&zu(t,e,n,3,null,null),function pj(t){let e=t[13];if(!e)return Sg(t[1],t);for(;e;){let n=null;if(qr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)qr(e)&&Sg(e[1],e),e=e[3];null===e&&(e=t),qr(e)&&Sg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Sg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function _j(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Au)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function yj(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):ft(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Sr(e[3])){n!==e[3]&&lC(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function hC(t,e,n){return function fC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===$r.None||i===$r.Emulated)return null}return fr(r,n)}(t,e.parent,n)}function Cs(t,e,n,r,i){nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function pC(t,e,n){nt(t)?t.appendChild(e,n):e.appendChild(n)}function gC(t,e,n,r,i){null!==r?Cs(t,e,n,r,i):pC(t,e,n)}function vd(t,e){return nt(t)?t.parentNode(e):e.parentNode}let _C=function yC(t,e,n){return 40&t.type?fr(t,n):null};function wd(t,e,n,r){const i=hC(t,r,e),s=e[11],a=function mC(t,e,n){return _C(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)gC(s,i,n[u],a,!1);else gC(s,i,n,a,!1)}function Ed(t,e){if(null!==e){const n=e.type;if(3&n)return fr(e,t);if(4&n)return xg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ed(t,r);{const i=t[e.index];return Sr(i)?xg(-1,i):ft(i)}}if(32&n)return Eg(e,t)()||ft(t[e.index]);{const r=wC(t,e);return null!==r?Array.isArray(r)?r[0]:Ed(Gu(t[16]),r):Ed(t,e.next)}}return null}function wC(t,e){return null!==e?t[16][6].projection[e.projection]:null}function xg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Ed(r,i)}return e[7]}function Mg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&fn(ft(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Mg(t,e,n.child,r,i,s,!1),jo(e,t,i,a,s);else if(32&u){const c=Eg(n,r);let l;for(;l=c();)jo(e,t,i,l,s);jo(e,t,i,a,s)}else 16&u?IC(t,e,r,n,i,s):jo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zu(t,e,n,r,i,s){Mg(n,r,t.firstChild,e,i,s,!1)}function IC(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)jo(e,t,i,u[c],s);else Mg(t,e,u,o[3],i,s,!0)}function bC(t,e,n){nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Rg(t,e,n){nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function TC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const DC="ng-template";function Tj(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==TC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function CC(t){return 4===t.type&&t.value!==DC}function Dj(t,e,n){return e===(4!==t.type||n?t.value:DC)}function Cj(t,e,n){let r=4;const i=t.attrs||[],s=function xj(t){for(let e=0;e<t.length;e++)if(g0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Dj(t,u,n)||""===u&&1===e.length){if(xr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Tj(t.attrs,c,n)){if(xr(r))return!1;o=!0}continue}const d=Sj(8&r?"class":u,i,CC(t),n);if(-1===d){if(xr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==TC(f,c,0)||2&r&&c!==h){if(xr(r))return!1;o=!0}}}}else{if(!o&&!xr(r)&&!xr(u))return!1;if(o&&xr(u))continue;o=!1,r=u|1&r}}return xr(r)||o}function xr(t){return 0==(1&t)}function Sj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Mj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function SC(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cj(t,e[r],n))return!0;return!1}function AC(t,e){return t?":not("+e.trim()+")":e}function kj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xr(o)&&(e+=AC(s,i),i=""),r=o,s=s||!xr(r);n++}return""!==i&&(e+=AC(s,i)),e}const de={};function Le(t){xC(Me(),M(),In()+t,Xl())}function xC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&rd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&id(e,s,0,n)}qi(n)}function Id(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function kg(t){return 2|t}function yi(t){return(131068&t)>>2}function Ng(t,e){return-131069&t|e<<2}function Og(t){return 1|t}function jC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Qp(i),o.contentQueries(2,e[s],s)}}}function Wu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,t0(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Bo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Hg(t,e,n,r,i){const s=s0(),o=Gp(),u=t.data[e]=function Yj(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function _2(){return ae.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Su(){const t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Gr(s,!0),s}function $o(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ku(t,e,n){ed(e);try{const r=t.viewQuery;null!==r&&Xg(1,r,n);const i=t.template;null!==i&&BC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jC(t,e),t.staticViewQueries&&Xg(2,t.viewQuery,n);const s=t.components;null!==s&&function Wj(t,e){for(let n=0;n<e.length;n++)pB(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,td()}}function Ho(t,e,n,r){const i=e[2];if(256==(256&i))return;ed(e);const s=Xl();try{t0(e),function o0(t){return ae.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&BC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&rd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&id(e,c,0,null),Yp(e,0)}if(function hB(t){for(let e=Ig(t);null!==e;e=bg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&qp(s,1),i[2]|=1024}}}(e),function dB(t){for(let e=Ig(t);null!==e;e=bg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Hp(r)&&Ho(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&jC(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&rd(e,c)}else{const c=t.contentHooks;null!==c&&id(e,c,1),Yp(e,1)}!function Gj(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)qi(~i);else{const s=i,o=n[++r],a=n[++r];v2(o,s),a(2,e[s])}}}finally{qi(-1)}}(t,e);const a=t.components;null!==a&&function zj(t,e){for(let n=0;n<e.length;n++)fB(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&rd(e,c)}else{const c=t.viewHooks;null!==c&&id(e,c,2),Yp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qp(e[3],-1))}finally{td()}}function Kj(t,e,n,r){const i=e[10],s=!Xl(),o=function e0(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Ku(t,e,r),Ho(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function BC(t,e,n,r,i){const s=In(),o=2&r;try{qi(-1),o&&e.length>20&&xC(t,e,20,Xl()),n(r,i)}finally{qi(s)}}function $C(t,e,n){if(Lp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function qg(t,e,n){!n0()||(function rB(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Mu(n,e),fn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ar(u);c&&uB(e,n,u);const l=Ru(e,t,a,n);fn(l,e),null!==o&&cB(0,a-i,l,u,0,o),c&&(Qn(n.index,e)[8]=l)}}(t,e,n,fr(n,e)),128==(128&n.flags)&&function iB(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function w2(){return ae.lFrame.currentDirectiveIndex}();try{qi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];Wp(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&YC(c,l)}}finally{qi(-1),Wp(a)}}(t,e,n))}function Gg(t,e,n=fr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function HC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Dd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Dd(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function Qj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:de);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function WC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xn(t,e,n,r,i,s,o,a){const u=fr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(oS(t,n,l,r,i),Ql(e)&&function Zj(t,e){const n=Qn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function Xj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,nt(s)?s.setProperty(u,r,i):Xp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function zg(t,e,n,r){let i=!1;if(n0()){const s=function sB(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];SC(n,o.selectors,!1)&&(i||(i=[]),cd(Mu(n,e),t,o.type),Ar(o)?(JC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,XC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=$o(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=od(n.mergedAttrs,d.hostAttrs),ZC(t,n,e,c,d),aB(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function Jj(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||CC(e)?null:lB(d,s);o.push(h),a=WC(d,c,a),u=WC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function oB(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Fe(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=od(n.mergedAttrs,n.attrs),i}function QC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function nB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function YC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function JC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function aB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ar(e)&&(n[""]=t)}}function XC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZC(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ts(i.type)),o=new Au(s,Ar(i),null);t.blueprint[r]=o,n[r]=o,QC(t,e,0,r,$o(t,n,i.hostVars,de),i)}function uB(t,e,n){const r=fr(e,t),i=HC(n),s=t[10],o=Cd(t,Wu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function cB(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function lB(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function eS(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fB(t,e){const n=Qn(e,t);if(Hp(n)){const r=n[1];80&n[2]?Ho(r,n,r.template,n[8]):n[5]>0&&Kg(n)}}function Kg(t){for(let r=Ig(t);null!==r;r=bg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ho(o,s,o.template,s[8])}else s[5]>0&&Kg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Qn(n[r],t);Hp(i)&&i[5]>0&&Kg(i)}}function pB(t,e){const n=Qn(e,t),r=n[1];(function gB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Ku(r,n,n[8])}function Cd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qg(t){for(;t;){t[2]|=64;const e=Gu(t);if(ZU(t)&&!e)return t;t=e}return null}function Jg(t,e,n){const r=e[10];r.begin&&r.begin();try{Ho(t,e,t.template,n)}catch(i){throw sS(e,i),i}finally{r.end&&r.end()}}function tS(t){!function Yg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=yg(n),i=r[1];Kj(i,r,i.template,n)}}(t[8])}function Xg(t,e,n){Qp(0),e(t,n)}const vB=(()=>Promise.resolve(null))();function nS(t){return t[7]||(t[7]=[])}function rS(t){return t.cleanup||(t.cleanup=[])}function sS(t,e){const n=t[9],r=n?n.get(Uo,null):null;r&&r.handleError(e)}function oS(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function _i(t,e,n){const r=Jl(e,t);!function cC(t,e,n){nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Sd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Sp(i,a):2==s&&(r=Sp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Zg=new we("INJECTOR",-1);class aS{get(e,n=Fu){if(n===Fu){const r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return n}}const em=new we("Set Injector scope."),Qu={},IB={};let tm;function uS(){return void 0===tm&&(tm=new aS),tm}function cS(t,e=null,n=null,r){const i=lS(t,e,n,r);return i._resolveInjectorDefTypes(),i}function lS(t,e=null,n=null,r){return new bB(t,n,e||uS(),r)}class bB{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&zr(n,a=>this.processProvider(a,e,n)),zr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Zg,qo(void 0,this));const o=this.records.get(em);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Fu,r=fe.Default){this.assertNotDestroyed();const i=N0(this),s=ji(void 0);try{if(!(r&fe.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function RB(t){return"function"==typeof t||"object"==typeof t&&t instanceof we}(e)&&Mp(e);a=u&&this.injectableDefInScope(u)?qo(nm(e),Qu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&fe.Self?uS():this.parent).get(e,n=r&fe.Optional&&n===Fu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[fd]=o[fd]||[]).unshift(Ve(e)),i)throw o;return function sV(t,e,n,r){const i=t[fd];throw e[k0]&&i.unshift(e[k0]),t.message=function oV(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(eV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[fd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{ji(s),N0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ve(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,"")}processInjectorType(e,n,r){if(!(e=ye(e)))return!1;let i=VD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=VD(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{zr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];zr(f,p=>this.processProvider(p,h,f||$e))}}this.injectorDefTypes.add(o);const u=Ts(o)||(()=>new o);this.records.set(o,qo(u,Qu));const c=i.providers;if(null!=c&&!a){const l=e;zr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Go(e=ye(e))?e:ye(e&&e.provide);const s=function DB(t,e,n){return hS(t)?qo(void 0,t.useValue):qo(function dS(t,e,n){let r;if(Go(t)){const i=ye(t);return Ts(i)||nm(i)}if(hS(t))r=()=>ye(t.useValue);else if(function SB(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ug(t.deps||[]));else if(function CB(t){return!(!t||!t.useExisting)}(t))r=()=>Q(ye(t.useExisting));else{const i=ye(t&&(t.useClass||t.provide));if(!function xB(t){return!!t.deps}(t))return Ts(i)||nm(i);r=()=>new i(...ug(t.deps))}return r}(t),Qu)}(e);if(Go(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=qo(void 0,Qu,!0),o.factory=()=>ug(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Qu&&(n.value=IB,n.value=n.factory()),"object"==typeof n.value&&n.value&&function MB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ye(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function nm(t){const e=Mp(t),n=null!==e?e.factory:Ts(t);if(null!==n)return n;if(t instanceof we)throw new Fe(204,"");if(t instanceof Function)return function TB(t){const e=t.length;if(e>0)throw function Pu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Fe(204,"");const n=function jU(t){const e=t&&(t[ql]||t[jD]);if(e){const n=function BU(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Fe(204,"")}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hS(t){return null!==t&&"object"==typeof t&&nV in t}function Go(t){return"function"==typeof t}let Dt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return cS({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return cS({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Fu,t.NULL=new aS,t.\u0275prov=he({token:t,providedIn:"any",factory:()=>Q(Zg)}),t.__NG_ELEMENT_ID__=-1,t})();function VB(t,e){nd(yg(t)[1],bt())}let Ad=null;function zo(){if(!Ad){const t=je.Symbol;if(t&&t.iterator)Ad=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ad=r)}}}return Ad}function Yu(t){return!!om(t)&&(Array.isArray(t)||!(t instanceof Map)&&zo()in t)}function om(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function pn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ko(t,e,n,r){return pn(t,Do(),n)?e+le(n)+r:de}function Qo(t,e,n,r,i,s){const a=function Ss(t,e,n,r){const i=pn(t,e,n);return pn(t,e+1,r)||i}(t,function gi(){return ae.lFrame.bindingIndex}(),n,i);return mi(2),a?e+le(n)+r+le(i)+s:de}function Zn(t,e,n,r,i,s,o,a){const u=M(),c=Me(),l=t+20,d=c.firstCreatePass?function YB(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Bo(e,t,4,o||null,Hi(c,a));zg(e,n,l,Hi(c,u)),nd(e,l);const d=l.tViews=Dd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Gr(d,!1);const h=u[11].createComment("");wd(c,u,h,d),fn(h,u),Cd(u,u[l]=eS(h,u,h,d)),Yl(d)&&qg(c,u,d),null!=o&&Gg(u,d,a)}function Z(t,e=fe.Default){const n=M();return null===n?Q(t,e):I0(bt(),n,ye(t),e)}function hm(){throw new Error("invalid")}function gn(t,e,n){const r=M();return pn(r,Do(),e)&&Xn(Me(),rt(),r,t,e,r[11],n,!1),gn}function fm(t,e,n,r,i){const o=i?"class":"style";oS(t,n,e.inputs[o],o,r)}function be(t,e,n,r){const i=M(),s=Me(),o=20+t,a=i[11],u=i[o]=Dg(a,e,function A2(){return ae.lFrame.currentNamespace}()),c=s.firstCreatePass?function _$(t,e,n,r,i,s,o){const a=e.consts,c=Bo(e,t,2,i,Hi(a,s));return zg(e,n,c,Hi(a,o)),null!==c.attrs&&Sd(c,c.attrs,!1),null!==c.mergedAttrs&&Sd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Gr(c,!0);const l=c.mergedAttrs;null!==l&&sd(a,u,l);const d=c.classes;null!==d&&Rg(a,u,d);const h=c.styles;null!==h&&bC(a,u,h),64!=(64&c.flags)&&wd(s,i,u,c),0===function h2(){return ae.lFrame.elementDepthCount}()&&fn(u,i),function f2(){ae.lFrame.elementDepthCount++}(),Yl(c)&&(qg(s,i,c),$C(s,c,i)),null!==r&&Gg(i,c)}function Te(){let t=bt();Gp()?zp():(t=t.parent,Gr(t,!1));const e=t;!function p2(){ae.lFrame.elementDepthCount--}();const n=Me();n.firstCreatePass&&(nd(n,t),Lp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function N2(t){return 0!=(16&t.flags)}(e)&&fm(n,e,M(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function O2(t){return 0!=(32&t.flags)}(e)&&fm(n,e,M(),e.stylesWithoutHost,!1)}function Tn(t,e,n,r){be(t,e,n,r),Te()}function Rd(t){return!!t&&"function"==typeof t.then}const WS=function zS(t){return!!t&&"function"==typeof t.subscribe};function Xu(t,e,n,r){const i=M(),s=Me(),o=bt();return function QS(t,e,n,r,i,s,o,a){const u=Yl(r),l=t.firstCreatePass&&rS(t),d=e[8],h=nS(e);let f=!0;if(3&r.type||a){const _=fr(r,e),I=a?a(_):_,v=h.length,U=a?Y=>a(ft(Y[r.index])):r.index;if(nt(n)){let Y=null;if(!a&&u&&(Y=function E$(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==Y)(Y.__ngLastListenerFn__||Y).__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,f=!1;else{s=mm(r,e,d,s,!1);const pe=n.listen(I,i,s);h.push(s,pe),l&&l.push(i,U,v,v+1)}}else s=mm(r,e,d,s,!0),I.addEventListener(i,s,o),h.push(s),l&&l.push(i,U,v,o)}else s=mm(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let I=0;I<_;I+=2){const kt=e[m[I]][m[I+1]].subscribe(s),ur=h.length;h.push(s,kt),l&&l.push(i,r.index,ur,-(ur+1))}}}(s,i,i[11],o,t,e,!!n,r),Xu}function YS(t,e,n,r){try{return!1!==n(r)}catch(i){return sS(t,i),!1}}function mm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Qn(t.index,e):e;0==(32&e[2])&&Qg(a);let u=YS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=YS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function vi(t=1){return function I2(t){return(ae.lFrame.contextLView=function b2(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function Zu(t,e,n){return ec(t,"",e,"",n),Zu}function ec(t,e,n,r,i){const s=M(),o=Ko(s,e,n,r);return o!==de&&Xn(Me(),rt(),s,t,o,s[11],i,!1),ec}function sA(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Mr(s):yi(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];S$(t[a],e)&&(u=!0,t[a+1]=r?Og(l):kg(l)),a=r?Mr(l):yi(l)}u&&(t[n+1]=r?kg(s):Og(s))}function S$(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&No(t,e)>=0}const Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oA(t){return t.substring(Ct.key,Ct.keyEnd)}function aA(t,e){const n=Ct.textEnd;return n===e?-1:(e=Ct.keyEnd=function R$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ct.key=e,n),ra(t,e,n))}function ra(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ia(t){Nr(Yn,Xr,t,!0)}function Xr(t,e){for(let n=function x$(t){return function cA(t){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=t.length}(t),aA(t,ra(t,0,Ct.textEnd))}(e);n>=0;n=aA(e,n))Yn(t,oA(e),!0)}function Nr(t,e,n,r){const i=Me(),s=mi(2);i.firstUpdatePass&&function gA(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[In()],o=pA(t,n);vA(s,r)&&null===e&&!o&&(e=!1),e=function P$(t,e,n,r){const i=function Kp(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=tc(n=ym(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ym(i,t,e,n,r),null===s){let u=function F$(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[Mr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ym(null,t,e,u[1],r),u=tc(u,e.attrs,r),function L$(t,e,n,r){t[Mr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function U$(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=tc(r,t[s].hostAttrs,n);return tc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function D$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Mr(o),u=yi(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||No(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Mr(t[a+1]);t[r+1]=Id(h,a),0!==h&&(t[h+1]=Ng(t[h+1],r)),t[a+1]=function Pj(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Id(a,0),0!==a&&(t[a+1]=Ng(t[a+1],r)),a=r;else t[r+1]=Id(u,0),0===a?a=r:t[u+1]=Ng(t[u+1],r),u=r;c&&(t[r+1]=kg(t[r+1])),sA(t,l,r,!0),sA(t,l,r,!1),function C$(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&No(s,e)>=0&&(n[r+1]=Og(n[r+1]))}(e,l,t,r,s),o=Id(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=M();if(n!==de&&pn(o,s,n)){const a=i.data[In()];if(vA(a,r)&&!pA(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Sp(u,n||"")),fm(i,a,o,n,r)}else!function j$(t,e,n,r,i,s,o,a){i===de&&(i=$e);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&yA(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function V$(t,e,n){if(null==n||""===n)return $e;const r=[],i=zi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function pA(t,e){return e>=t.expandoStartIndex}function ym(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=tc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function tc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function yA(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];kd(function kC(t){return 1==(1&t)}(c)?_A(u,e,n,i,yi(c),o):void 0)||(kd(s)||function RC(t){return 2==(2&t)}(c)&&(s=_A(u,null,n,i,a,o)),function bj(t,e,n,r,i){const s=nt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Jn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Jn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Jl(In(),n),i,s))}function _A(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===de&&(h=d?$e:void 0);let f=d?sg(h,r):l===r?h:void 0;if(c&&!kd(f)&&(f=sg(u,r)),kd(f)&&(a=f,o))return a;const p=t[i+1];i=o?Mr(p):yi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=sg(u,r))}return a}function kd(t){return void 0!==t}function vA(t,e){return 0!=(t.flags&(e?16:32))}function Jt(t,e=""){const n=M(),r=Me(),i=t+20,s=r.firstCreatePass?Bo(r,i,1,e,null):r.data[i],o=n[i]=function Tg(t,e){return nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);wd(r,n,o,s),Gr(s,!1)}function Qi(t){return Yi("",t,""),Qi}function Yi(t,e,n){const r=M(),i=Ko(r,t,e,n);return i!==de&&_i(r,In(),i),Yi}function _m(t,e,n,r,i){const s=M(),o=Qo(s,t,e,n,r,i);return o!==de&&_i(s,In(),o),_m}const As=void 0;var oH=["en",[["a","p"],["AM","PM"],As],[["AM","PM"],As,As],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],As,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],As,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",As,"{1} 'at' {0}",As],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sH(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let sa={};function jA(t){return t in sa||(sa[t]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[t]),sa[t]}var H=(()=>((H=H||{})[H.LocaleId=0]="LocaleId",H[H.DayPeriodsFormat=1]="DayPeriodsFormat",H[H.DayPeriodsStandalone=2]="DayPeriodsStandalone",H[H.DaysFormat=3]="DaysFormat",H[H.DaysStandalone=4]="DaysStandalone",H[H.MonthsFormat=5]="MonthsFormat",H[H.MonthsStandalone=6]="MonthsStandalone",H[H.Eras=7]="Eras",H[H.FirstDayOfWeek=8]="FirstDayOfWeek",H[H.WeekendRange=9]="WeekendRange",H[H.DateFormat=10]="DateFormat",H[H.TimeFormat=11]="TimeFormat",H[H.DateTimeFormat=12]="DateTimeFormat",H[H.NumberSymbols=13]="NumberSymbols",H[H.NumberFormats=14]="NumberFormats",H[H.CurrencyCode=15]="CurrencyCode",H[H.CurrencySymbol=16]="CurrencySymbol",H[H.CurrencyName=17]="CurrencyName",H[H.Currencies=18]="Currencies",H[H.Directionality=19]="Directionality",H[H.PluralCase=20]="PluralCase",H[H.ExtraData=21]="ExtraData",H))();const Nd="en-US";let BA=Nd;class hx{}class cq{resolveComponentFactory(e){throw function uq(t){const e=Error(`No component factory found for ${Ve(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let aa=(()=>{class t{}return t.NULL=new cq,t})();function lq(){return ua(bt(),M())}function ua(t,e){return new Ji(fr(t,e))}let Ji=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=lq,t})();class px{}let pq=(()=>{class t{}return t.\u0275prov=he({token:t,providedIn:"root",factory:()=>null}),t})();class oc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gx=new oc("13.1.3"),Dm={};function Vd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ft(s)),Sr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Vd(u[1],u,c,r)}const o=n.type;if(8&o)Vd(t,e,n.child,r);else if(32&o){const a=Eg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=wC(e,n);if(Array.isArray(a))r.push(...a);else{const u=Gu(e[16]);Vd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ac{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Vd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Sr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Cg(e,r),dd(n,r))}this._attachedToViewContainer=!1}dC(this._lView[1],this._lView)}onDestroy(e){!function zC(t,e,n,r){const i=nS(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&rS(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Qg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function yB(t,e,n){Zl(!0);try{Jg(t,e,n)}finally{Zl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fj(t,e){zu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=e}}class gq extends ac{constructor(e){super(e),this._view=e}detectChanges(){tS(this._view)}checkNoChanges(){!function _B(t){Zl(!0);try{tS(t)}finally{Zl(!1)}}(this._view)}get context(){return null}}class mx extends aa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=dn(e);return new Cm(n,this.ngModule)}}function yx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const yq=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rC});class Cm extends hx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Nj(t){return t.map(kj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return yx(this.componentDef.inputs)}get outputs(){return yx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function _q(t,e){return{get:(n,r,i)=>{const s=t.get(n,Dm,i);return s!==Dm||r===Dm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(px,ZD),a=s.get(pq,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function GC(t,e,n){if(nt(t))return t.selectRootElement(e,n===$r.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Dg(o.createRenderer(null,this.componentDef),c,function mq(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function bS(t,e){return{components:[],scheduler:t||rC,clean:vB,playerHandler:e||null,flags:0}}(),f=Dd(0,null,null,1,0,null,null,null,null,null),p=Wu(null,f,h,d,null,null,o,u,a,s);let m,_;ed(p);try{const I=function ES(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Bo(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Sd(u,c,!0),null!==t&&(sd(i,t,c),null!==u.classes&&Rg(i,t,u.classes),null!==u.styles&&bC(i,t,u.styles)));const l=r.createRenderer(t,e),d=Wu(n,HC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(cd(Mu(u,n),o,e.type),JC(o,u),XC(u,n.length,1)),Cd(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)sd(u,l,["ng-version",gx.full]);else{const{attrs:v,classes:U}=function Oj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!xr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);v&&sd(u,l,v),U&&U.length>0&&Rg(u,l,U.join(" "))}if(_=$p(f,20),void 0!==n){const v=_.projection=[];for(let U=0;U<this.ngContentSelectors.length;U++){const Y=n[U];v.push(null!=Y?Array.from(Y):null)}}m=function IS(t,e,n,r,i){const s=n[1],o=function tB(t,e,n){const r=bt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ZC(t,r,e,$o(t,e,1,null),n));const i=Ru(e,t,r.directiveStart,r);fn(i,e);const s=fr(r,e);return s&&fn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=bt();e.contentQueries(1,o,u.directiveStart)}const a=bt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(qi(a.index),QC(n[1],a,0,a.directiveStart,a.directiveEnd,e),YC(e,o)),o}(I,this.componentDef,p,h,[VB]),Ku(f,p,null)}finally{td()}return new wq(this.componentType,m,ua(_,p),p,_)}}class wq extends class aq{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new gq(i),this.componentType=e}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class wi{}class _x{}const ca=new Map;class Ex extends wi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mx(this);const r=lr(e);this._bootstrapComponents=Kr(r.bootstrap),this._r3Injector=lS(e,n,[{provide:wi,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],Ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Dt.THROW_IF_NOT_FOUND,r=fe.Default){return e===Dt||e===wi||e===Zg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Sm extends _x{constructor(e){super(),this.moduleType=e,null!==lr(e)&&function Iq(t){const e=new Set;!function n(r){const i=lr(r,!0),s=i.id;null!==s&&(function vx(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Ve(e)} vs ${Ve(e.name)}`)}(s,ca.get(s),r),ca.set(s,r));const o=Kr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new Ex(this.moduleType,e)}}function Am(t){return e=>{setTimeout(t,void 0,e)}}const Cn=class jq extends ci{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Am(u),a&&(a=Am(a)),c&&(c=Am(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof S&&e.add(l),l}};Symbol;let Ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=qq,t})();const $q=Ei,Hq=class extends $q{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Wu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Ku(n,r,e),new ac(r)}};function qq(){return function jd(t,e){return 4&t.type?new Hq(e,t,ua(t,e)):null}(bt(),M())}let Or=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gq,t})();function Gq(){return function xx(t,e){let n;const r=e[t.index];if(Sr(r))n=r;else{let i;if(8&t.type)i=ft(r);else{const s=e[11];i=s.createComment("");const o=fr(t,e);Cs(s,vd(s,o),i,function wj(t,e){return nt(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=eS(r,e,i,t),Cd(e,n)}return new Sx(n,t,e)}(bt(),M())}const zq=Or,Sx=class extends zq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const e=ud(this._hostTNode,this._hostLView);if(y0(e)){const n=So(e,this._hostLView),r=Co(e);return new Ao(n[1].data[r+8],n)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Ax(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function Ou(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Cm(dn(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(wi,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function d2(t){return Sr(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new Sx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function gj(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],S0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function mj(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=xg(s,o),u=r[11],c=vd(u,o[7]);return null!==c&&function hj(t,e,n,r,i,s){r[0]=i,r[6]=e,zu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),S0(Mm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Ax(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Cg(this._lContainer,n);r&&(dd(Mm(this._lContainer),n),dC(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Cg(this._lContainer,n);return r&&null!=dd(Mm(this._lContainer),n)?new ac(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function Ax(t){return t[8]}function Mm(t){return t[8]||(t[8]=[])}function Hd(...t){}const qd=new we("Application Initializer");let da=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Hd,this.reject=Hd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Rd(s))n.push(s);else if(WS(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Q(qd,8))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const dc=new we("AppId"),wG={provide:dc,useFactory:function vG(){return`${qm()}${qm()}${qm()}`},deps:[]};function qm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jx=new we("Platform Initializer"),ha=new we("Platform ID"),Xx=new we("appBootstrapListener");let Zx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const Xi=new we("LocaleId"),eM=new we("DefaultCurrencyCode");class EG{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Gd=(()=>{class t{compileModuleSync(n){return new Sm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Kr(lr(n).declarations).reduce((o,a)=>{const u=dn(a);return u&&o.push(new Cm(u)),o},[]);return new EG(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const bG=(()=>Promise.resolve(0))();function Gm(t){"undefined"==typeof Zone?bG.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cn(!1),this.onMicrotaskEmpty=new Cn(!1),this.onStable=new Cn(!1),this.onError=new Cn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function TG(){let t=je.requestAnimationFrame,e=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function SG(t){const e=()=>{!function CG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(je,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wm(t),t.isCheckStableRunning=!0,zm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return tM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),nM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return tM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),nM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Wm(t),zm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,DG,Hd,Hd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const DG={};function zm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nM(t){t._nesting--,zm(t)}class AG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cn,this.onMicrotaskEmpty=new Cn,this.onStable=new Cn,this.onError=new Cn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Km=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),Gm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Q(Je))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),rM=(()=>{class t{constructor(){this._applications=new Map,Qm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Qm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class xG{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Pr,Qm=new xG;const iM=new we("AllowMultipleToken");class sM{constructor(e,n){this.name=e,this.token=n}}function oM(t,e,n=[]){const r=`Platform: ${e}`,i=new we(r);return(s=[])=>{let o=aM();if(!o||o.injector.get(iM,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:em,useValue:"platform"});!function NG(t){if(Pr&&!Pr.destroyed&&!Pr.injector.get(iM,!1))throw new Fe(400,"");Pr=t.get(uM);const e=t.get(Jx,null);e&&e.forEach(n=>n())}(Dt.create({providers:a,name:r}))}return function OG(t){const e=aM();if(!e)throw new Fe(401,"");return e}()}}function aM(){return Pr&&!Pr.destroyed?Pr:null}let uM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function PG(t,e){let n;return n="noop"===t?new AG:("zone.js"===t?void 0:t)||new Je({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Je,useValue:a}];return a.run(()=>{const c=Dt.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Uo,null);if(!d)throw new Fe(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Ym(this._modules,l),h.unsubscribe()})}),function FG(t,e,n){try{const r=n();return Rd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(da);return h.runInitializers(),h.donePromise.then(()=>(function dH(t){zn(t,"Expected localeId to be defined"),"string"==typeof t&&(BA=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Xi,Nd)||Nd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=cM({},r);return function RG(t,e,n){const r=new Sm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(hc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Fe(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Q(Dt))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function cM(t,e){return Array.isArray(e)?e.reduce(cM,t):Object.assign(Object.assign({},t),e)}let hc=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Se(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Se(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),Gm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function OU(...t){const e=Iu(t),n=function SU(t,e){return"number"==typeof Tp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?li(r[0]):Eu(n)(Yt(r,e)):hi}(a,u.pipe(FD()))}bootstrap(n,r){if(!this._initStatus.done)throw new Fe(405,"");let i;i=n instanceof hx?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function kG(t){return t.isBoundToModule}(i)?void 0:this._injector.get(wi),a=i.create(Dt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Km,null),l=c&&a.injector.get(rM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Ym(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ym(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Xx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(Q(Je),Q(Dt),Q(Uo),Q(aa),Q(da))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function Ym(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let dM=!0,Jm=(()=>{class t{}return t.__NG_ELEMENT_ID__=VG,t})();function VG(t){return function jG(t,e,n){if(Ql(t)&&!n){const r=Qn(t.index,e);return new ac(r,r)}return 47&t.type?new ac(e[16],e):null}(bt(),M(),16==(16&t))}class _M{constructor(){}supports(e){return Yu(e)}create(e){return new zG(e)}}const GG=(t,e)=>e;class zG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GG}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<wM(r,i,s)?n:r,a=wM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Yu(e))throw new Fe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function QB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[zo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new WG(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new vM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class WG{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class vM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new KG,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class EM{constructor(){}supports(e){return e instanceof Map||om(e)}create(){return new QG}}class QG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||om(e)))throw new Fe(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new YG(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class YG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IM(){return new fc([new _M])}let fc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||IM()),deps:[[t,new Oo,new ct]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Fe(901,"")}}return t.\u0275prov=he({token:t,providedIn:"root",factory:IM}),t})();function bM(){return new fa([new EM])}let fa=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bM()),deps:[[t,new Oo,new ct]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Fe(901,"")}}return t.\u0275prov=he({token:t,providedIn:"root",factory:bM}),t})();const JG=[new EM],ZG=new fc([new _M]),e3=new fa(JG),t3=oM(null,"core",[{provide:ha,useValue:"unknown"},{provide:uM,deps:[Dt]},{provide:rM,deps:[]},{provide:Zx,deps:[]}]),o3=[{provide:hc,useClass:hc,deps:[Je,Dt,Uo,aa,da]},{provide:yq,deps:[Je],useFactory:function a3(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:da,useClass:da,deps:[[new ct,qd]]},{provide:Gd,useClass:Gd,deps:[]},wG,{provide:fc,useFactory:function n3(){return ZG},deps:[]},{provide:fa,useFactory:function r3(){return e3},deps:[]},{provide:Xi,useFactory:function i3(t){return t||function s3(){return"undefined"!=typeof $localize&&$localize.locale||Nd}()},deps:[[new Vu(Xi),new ct,new Oo]]},{provide:eM,useValue:"USD"}];let u3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Q(hc))},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:o3}),t})(),Wd=null;function Zi(){return Wd}const er=new we("DocumentToken");let Ms=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:function(){return function h3(){return Q(TM)}()},providedIn:"platform"}),t})();const f3=new we("Location Initialized");let TM=(()=>{class t extends Ms{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zi().getBaseHref(this._doc)}onPopState(n){const r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){DM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){DM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:function(){return function p3(){return new TM(Q(er))}()},providedIn:"platform"}),t})();function DM(){return!!window.history.pushState}function ny(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function CM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ii(t){return t&&"?"!==t[0]?"?"+t:t}let pa=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:function(){return function g3(t){const e=Q(er).location;return new SM(Q(Ms),e&&e.origin||"")}()},providedIn:"root"}),t})();const ry=new we("appBaseHref");let SM=(()=>{class t extends pa{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ny(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ii(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ii(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(Q(Ms),Q(ry,8))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),m3=(()=>{class t extends pa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=ny(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(Q(Ms),Q(ry,8))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),iy=(()=>{class t{constructor(n,r){this._subject=new Cn,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=CM(AM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ii(r))}normalize(n){return t.stripTrailingSlash(function _3(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,AM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ii(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ii(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ii,t.joinWithSlash=ny,t.stripTrailingSlash=CM,t.\u0275fac=function(n){return new(n||t)(Q(pa),Q(Ms))},t.\u0275prov=he({token:t,factory:function(){return function y3(){return new iy(Q(pa),Q(Ms))}()},providedIn:"root"}),t})();function AM(t){return t.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Zero=0]="Zero",gt[gt.One=1]="One",gt[gt.Two=2]="Two",gt[gt.Few=3]="Few",gt[gt.Many=4]="Many",gt[gt.Other=5]="Other",gt))();const D3=function VA(t){return function Dn(t){const e=function aH(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=jA(e);if(n)return n;const r=e.split("-")[0];if(n=jA(r),n)return n;if("en"===r)return oH;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[H.PluralCase]};class rh{}let ez=(()=>{class t extends rh{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(D3(r||this.locale)(n)){case gt.Zero:return"zero";case gt.One:return"one";case gt.Two:return"two";case gt.Few:return"few";case gt.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(Q(Xi))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function LM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class rz{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mc=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new rz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),UM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{UM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Z(Or),Z(Ei),Z(fc))},t.\u0275dir=ln({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function UM(t,e){t.context.$implicit=e.item}let fy=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new iz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Z(Or),Z(Ei))},t.\u0275dir=ln({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class iz{constructor(){this.$implicit=null,this.ngIf=null}}function VM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ve(e)}'.`)}let Rz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:[{provide:rh,useClass:ez}]}),t})();let Pz=(()=>{class t{}return t.\u0275prov=he({token:t,providedIn:"root",factory:()=>new Fz(Q(er),window)}),t})();class Fz{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Lz(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=HM(this.window.history)||HM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function HM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class qM{}class _y extends class Uz extends class d3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function l3(t){Wd||(Wd=t)}(new _y)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Vz(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}();return null==n?null:function jz(t){ih=ih||document.createElement("a"),ih.setAttribute("href",t);const e=ih.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return LM(document.cookie,e)}}let ih,yc=null;const GM=new we("TRANSITION_ID"),$z=[{provide:qd,useFactory:function Bz(t,e,n){return()=>{n.get(da).donePromise.then(()=>{const r=Zi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[GM,er,Dt],multi:!0}];class vy{static init(){!function MG(t){Qm=t}(new vy)}addToWindow(e){je.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(r=>{const i=je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Zi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Hz=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const sh=new we("EventManagerPlugins");let oh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Q(sh),Q(Je))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class zM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Zi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let WM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),_c=(()=>{class t extends WM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(KM),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(KM))}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function KM(t){Zi().remove(t)}const wy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ey=/%COMP%/g;function ah(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ah(t,i,n):(i=i.replace(Ey,t),n.push(i))}return n}function JM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Iy=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new by(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case $r.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Qz(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case $r.ShadowDom:return new Yz(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ah(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Q(oh),Q(_c),Q(dc))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class by{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(wy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=wy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=wy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,JM(r)):this.eventManager.addEventListener(e,n,JM(r))}}class Qz extends by{constructor(e,n,r,i){super(e),this.component=r;const s=ah(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function zz(t){return"_ngcontent-%COMP%".replace(Ey,t)}(i+"-"+r.id),this.hostAttr=function Wz(t){return"_nghost-%COMP%".replace(Ey,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Yz extends by{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ah(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Jz=(()=>{class t extends zM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const ZM=["alt","control","meta","shift"],Zz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eR={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},eW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let tW=(()=>{class t extends zM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(ZM.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function nW(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&eR.hasOwnProperty(e)&&(e=eR[e]))}return Zz[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ZM.forEach(s=>{s!=i&&eW[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const oW=oM(t3,"browser",[{provide:ha,useValue:"browser"},{provide:Jx,useValue:function rW(){_y.makeCurrent(),vy.init()},multi:!0},{provide:er,useFactory:function sW(){return function a2(t){jp=t}(document),document},deps:[]}]),aW=[{provide:em,useValue:"root"},{provide:Uo,useFactory:function iW(){return new Uo},deps:[]},{provide:sh,useClass:Jz,multi:!0,deps:[er,Je,ha]},{provide:sh,useClass:tW,multi:!0,deps:[er]},{provide:Iy,useClass:Iy,deps:[oh,_c,dc]},{provide:px,useExisting:Iy},{provide:WM,useExisting:_c},{provide:_c,useClass:_c,deps:[er]},{provide:Km,useClass:Km,deps:[Je]},{provide:oh,useClass:oh,deps:[sh,Je]},{provide:qM,useClass:Hz,deps:[]}];let uW=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:dc,useValue:n.appId},{provide:GM,useExisting:dc},$z]}}}return t.\u0275fac=function(n){return new(n||t)(Q(t,12))},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:aW,imports:[Rz,u3]}),t})();function ge(...t){return Yt(t,Iu(t))}"undefined"!=typeof window&&window;class Ur extends ci{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:vW}=Array,{getPrototypeOf:wW,prototype:EW,keys:IW}=Object;const{isArray:DW}=Array;function xW(...t){const e=Iu(t),n=function CU(t){return E(Tp(t))?t.pop():void 0}(t),{args:r,keys:i}=function bW(t){if(1===t.length){const e=t[0];if(vW(e))return{args:e,keys:null};if(function TW(t){return t&&"object"==typeof t&&wW(t)===EW}(e)){const n=IW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Yt([],e);const s=new Se(function MW(t,e,n=It){return r=>{rR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)rR(e,()=>{const c=Yt(t[u],e);let l=!1;c.subscribe(new Qt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function AW(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):It));return n?s.pipe(function SW(t){return Pe(e=>function CW(t,e){return DW(e)?t(...e):t(e)}(t,e))}(n)):s}function rR(t,e,n){t?di(n,t,e):e()}const uh=P(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Dy(...t){return function RW(){return Eu(1)}()(Yt(t,Iu(t)))}function iR(t){return new Se(e=>{li(t()).subscribe(e)})}function sR(){return Kt((t,e)=>{let n=null;t._refCount++;const r=new Qt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kW extends Se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ED(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new S;const n=this.getSubject();e.add(this.source.subscribe(new Qt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=S.EMPTY)}return e}refCount(){return sR()(this)}}function Rs(t,e){return Kt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new Qt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;li(t(u,l)).subscribe(i=new Qt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function OW(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new Qt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function oR(t,e){return Kt(OW(t,e,arguments.length>=2,!0))}function ks(t,e){return Kt((n,r)=>{let i=0;n.subscribe(new Qt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ts(t){return Kt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new Qt(n,void 0,void 0,o=>{s=li(t(o,ts(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ga(t,e){return E(e)?Pt(t,e,1):Pt(t,1)}function Cy(t){return t<=0?()=>hi:Kt((e,n)=>{let r=[];e.subscribe(new Qt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function aR(t=PW){return Kt((e,n)=>{let r=!1;e.subscribe(new Qt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function PW(){return new uh}function uR(t){return Kt((e,n)=>{let r=!1;e.subscribe(new Qt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ma(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,s)=>t(i,s,r)):It,$l(1),n?uR(e):aR(()=>new uh))}function Un(t,e,n){const r=E(t)||e||n?{next:t,error:e,complete:n}:t;return r?Kt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Qt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):It}class Ti{constructor(e,n){this.id=e,this.url=n}}class Sy extends Ti{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vc extends Ti{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cR extends Ti{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class UW extends Ti{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VW extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jW extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BW extends Ti{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $W extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HW extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lR{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qW{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GW{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zW{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WW{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const De="primary";class KW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ya(t){return new KW(t)}const fR="ngNavigationCancelingError";function Ay(t){const e=Error("NavigationCancelingError: "+t);return e[fR]=!0,e}function YW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!pR(t[i],e[i]))return!1;return!0}function pR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function gR(t){return Array.prototype.concat.apply([],t)}function mR(t){return t.length>0?t[t.length-1]:null}function Xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ei(t){return WS(t)?t:Rd(t)?Yt(Promise.resolve(t)):ge(t)}const ZW={exact:function vR(t,e,n){if(!Os(t.segments,e.segments)||!ch(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!vR(t.children[r],e.children[r],n))return!1;return!0},subset:wR},yR={exact:function e4(t,e){return Zr(t,e)},subset:function t4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pR(t[n],e[n]))},ignored:()=>!0};function _R(t,e,n){return ZW[n.paths](t.root,e.root,n.matrixParams)&&yR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wR(t,e,n){return ER(t,e,e.segments,n)}function ER(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Os(i,n)||e.hasChildren()||!ch(i,n,r))}if(t.segments.length===n.length){if(!Os(t.segments,n)||!ch(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!wR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Os(t.segments,i)&&ch(t.segments,i,r)&&t.children[De])&&ER(t.children[De],e,s,r)}}function ch(t,e,n){return e.every((r,i)=>yR[n](t[i].parameters,r.parameters))}class Ns{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return i4.serialize(this)}}class Ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Xt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lh(this)}}class wc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ya(this.parameters)),this._parameterMap}toString(){return CR(this)}}function Os(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class IR{}class bR{parse(e){const n=new f4(e);return new Ns(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ec(e.root,!0)}`,r=function a4(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${dh(n)}=${dh(i)}`).join("&"):`${dh(n)}=${dh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function s4(t){return encodeURI(t)}(e.fragment)}`:""}`}}const i4=new bR;function lh(t){return t.segments.map(e=>CR(e)).join("/")}function Ec(t,e){if(!t.hasChildren())return lh(t);if(e){const n=t.children[De]?Ec(t.children[De],!1):"",r=[];return Xt(t.children,(i,s)=>{s!==De&&r.push(`${s}:${Ec(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function r4(t,e){let n=[];return Xt(t.children,(r,i)=>{i===De&&(n=n.concat(e(r,i)))}),Xt(t.children,(r,i)=>{i!==De&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===De?[Ec(t.children[De],!1)]:[`${i}:${Ec(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[De]?`${lh(t)}/${n[0]}`:`${lh(t)}/(${n.join("//")})`}}function TR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dh(t){return TR(t).replace(/%3B/gi,";")}function xy(t){return TR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hh(t){return decodeURIComponent(t)}function DR(t){return hh(t.replace(/\+/g,"%20"))}function CR(t){return`${xy(t.path)}${function o4(t){return Object.keys(t).map(e=>`;${xy(e)}=${xy(t[e])}`).join("")}(t.parameters)}`}const u4=/^[^\/()?;=#]+/;function fh(t){const e=t.match(u4);return e?e[0]:""}const c4=/^[^=?&#]+/,d4=/^[^&#]+/;class f4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[De]=new Ae(e,n)),r}parseSegment(){const e=fh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new wc(hh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=fh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fh(this.remaining);i&&(r=i,this.capture(r))}e[hh(n)]=hh(r)}parseQueryParam(e){const n=function l4(t){const e=t.match(c4);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function h4(t){const e=t.match(d4);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=DR(n),s=DR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=De);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[De]:new Ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class SR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=My(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=My(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ry(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ry(e,this._root).map(n=>n.value)}}function My(t,e){if(t===e.value)return e;for(const n of e.children){const r=My(t,n);if(r)return r}return null}function Ry(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ry(t,n);if(r.length)return r.unshift(e),r}return[]}class Di{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function _a(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class AR extends SR{constructor(e,n){super(e),this.snapshot=n,ky(this,e)}toString(){return this.snapshot.toString()}}function xR(t,e){const n=function p4(t,e){const o=new ph([],{},{},"",{},De,e,null,t.root,-1,{});return new RR("",new Di(o,[]))}(t,e),r=new Ur([new wc("",{})]),i=new Ur({}),s=new Ur({}),o=new Ur({}),a=new Ur(""),u=new va(r,i,o,a,s,De,e,n.root);return u.snapshot=n.root,new AR(new Di(u,[]),n)}class va{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(e=>ya(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(e=>ya(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MR(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function g4(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ph{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ya(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RR extends SR{constructor(e,n){super(n),this.url=e,ky(this,n)}toString(){return kR(this._root)}}function ky(t,e){e.value._routerState=t,e.children.forEach(n=>ky(t,n))}function kR(t){const e=t.children.length>0?` { ${t.children.map(kR).join(", ")} } `:"";return`${t.value}${e}`}function Ny(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Zr(e.params,n.params)||t.params.next(n.params),function JW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Zr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Oy(t,e){const n=Zr(t.params,e.params)&&function n4(t,e){return Os(t,e)&&t.every((n,r)=>Zr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Oy(t.parent,e.parent))}function Ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function y4(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ic(t,r,i);return Ic(t,r)})}(t,e,n);return new Di(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ic(t,a)),o}}const r=function _4(t){return new va(new Ur(t.url),new Ur(t.params),new Ur(t.queryParams),new Ur(t.fragment),new Ur(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ic(t,s));return new Di(r,i)}}function gh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bc(t){return"object"==typeof t&&null!=t&&t.outlets}function Py(t,e,n,r,i){let s={};return r&&Xt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Ns(n.root===t?e:NR(n.root,t,e),s,i)}function NR(t,e,n){const r={};return Xt(t.children,(i,s)=>{r[s]=i===e?n:NR(i,e,n)}),new Ae(t.segments,r)}class OR{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(bc);if(i&&i!==mR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fy{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function PR(t,e,n){if(t||(t=new Ae([],{})),0===t.segments.length&&t.hasChildren())return mh(t,e,n);const r=function T4(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(bc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!LR(u,c,o))return s;r+=2}else{if(!LR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ae(t.segments.slice(0,r.pathIndex),{});return s.children[De]=new Ae(t.segments.slice(r.pathIndex),t.children),mh(s,0,i)}return r.match&&0===i.length?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Ly(t,e,n):r.match?mh(t,0,i):Ly(t,e,n)}function mh(t,e,n){if(0===n.length)return new Ae(t.segments,{});{const r=function b4(t){return bc(t[0])?t[0].outlets:{[De]:t}}(n),i={};return Xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=PR(t.children[o],e,s))}),Xt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ae(t.segments,i)}}function Ly(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(bc(s)){const u=D4(s.outlets);return new Ae(r,u)}if(0===i&&gh(n[0])){r.push(new wc(t.segments[e].path,FR(n[0]))),i++;continue}const o=bc(s)?s.outlets[De]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&gh(a)?(r.push(new wc(o,FR(a))),i+=2):(r.push(new wc(o,{})),i++)}return new Ae(r,{})}function D4(t){const e={};return Xt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Ly(new Ae([],{}),0,n))}),e}function FR(t){const e={};return Xt(t,(n,r)=>e[r]=`${n}`),e}function LR(t,e,n){return t==n.path&&Zr(e,n.parameters)}class S4{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ny(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=_a(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=_a(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new WW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new GW(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Ny(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ny(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function A4(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Uy{constructor(e,n){this.routes=e,this.module=n}}function ns(t){return"function"==typeof t}function Ps(t){return t instanceof Ns}const Tc=Symbol("INITIAL_VALUE");function Dc(){return Rs(t=>xW(t.map(e=>e.pipe($l(1),function NW(...t){const e=Iu(t);return Kt((n,r)=>{(e?Dy(t,n,e):Dy(t,n)).subscribe(r)})}(Tc)))).pipe(oR((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Tc?i:(s===Tc&&(r=!0),r||!1!==s&&o!==n.length-1&&!Ps(s)?i:s),e)},Tc),ks(e=>e!==Tc),Pe(e=>Ps(e)?e:!0===e),$l(1)))}class O4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cc,this.attachRef=null}}class Cc{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new O4,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Vy=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Cn,this.deactivateEvents=new Cn,this.attachEvents=new Cn,this.detachEvents=new Cn,this.name=s||De,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new P4(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(Z(Cc),Z(Or),Z(aa),function ku(t){return function U2(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(g0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(bt(),t)}("name"),Z(Jm))},t.\u0275dir=ln({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class P4{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===va?this.route:e===Cc?this.childContexts:this.parent.get(e,n)}}let UR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Tn(0,"router-outlet")},directives:[Vy],encapsulation:2}),t})();function VR(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];F4(r,L4(e,r))}}function F4(t,e){t.children&&VR(t.children,e)}function L4(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function jy(t){const e=t.children&&t.children.map(jy),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=UR),n}function _r(t){return t.outlet||De}function jR(t,e){const n=t.filter(r=>_r(r)===e);return n.push(...t.filter(r=>_r(r)!==e)),n}const BR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yh(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},BR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||YW)(n,t,e);if(!s)return Object.assign({},BR);const o={};Xt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function _h(t,e,n,r,i="corrected"){if(n.length>0&&function j4(t,e,n){return n.some(r=>vh(t,e,r)&&_r(r)!==De)}(t,n,r)){const o=new Ae(e,function V4(t,e,n,r){const i={};i[De]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&_r(s)!==De){const o=new Ae([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[_r(s)]=o}return i}(t,e,r,new Ae(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function B4(t,e,n){return n.some(r=>vh(t,e,r))}(t,n,r)){const o=new Ae(t.segments,function U4(t,e,n,r,i,s){const o={};for(const a of r)if(vh(t,n,a)&&!i[_r(a)]){const u=new Ae([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[_r(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new Ae(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function $R(t,e,n,r){return!!(_r(t)===r||r!==De&&vh(e,n,t))&&("**"===t.path||yh(e,t,n).matched)}function HR(t,e,n){return 0===e.length&&!t.children[n]}class Sc{constructor(e){this.segmentGroup=e||null}}class qR{constructor(e){this.urlTree=e}}function wh(t){return new Se(e=>e.error(new Sc(t)))}function GR(t){return new Se(e=>e.error(new qR(t)))}function $4(t){return new Se(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class G4{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(wi)}apply(){const e=_h(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,De).pipe(Pe(s=>this.createUrlTree(By(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ts(s=>{if(s instanceof qR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Sc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,De).pipe(Pe(i=>this.createUrlTree(By(i),e.queryParams,e.fragment))).pipe(ts(i=>{throw i instanceof Sc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new Ae([],{[De]:e}):e;return new Ns(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Pe(s=>new Ae([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Yt(i).pipe(ga(s=>{const o=r.children[s],a=jR(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(Pe(u=>({segment:u,outlet:s})))}),oR((s,o)=>(s[o.outlet]=o.segment,s),{}),function FW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,s)=>t(i,s,r)):It,Cy(1),n?uR(e):aR(()=>new uh))}())}expandSegment(e,n,r,i,s,o){return Yt(r).pipe(ga(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ts(c=>{if(c instanceof Sc)return ge(null);throw c}))),ma(a=>!!a),ts((a,u)=>{if(a instanceof uh||"EmptyError"===a.name){if(HR(n,i,s))return ge(new Ae([],{}));throw new Sc(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return $R(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):wh(n):wh(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GR(s):this.lineralizeSegments(r,s).pipe(Pt(o=>{const a=new Ae(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=yh(n,i,s);if(!a)return wh(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?GR(d):this.lineralizeSegments(i,d).pipe(Pt(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ge(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Pe(h=>(r._loadedConfig=h,new Ae(i,{})))):ge(new Ae(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=yh(n,r,i);if(!o)return wh(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Pt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=_h(n,a,c,f),_=new Ae(p.segments,p.children);if(0===m.length&&_.hasChildren())return this.expandChildren(h,f,_).pipe(Pe(Y=>new Ae(a,Y)));if(0===f.length&&0===m.length)return ge(new Ae(a,{}));const I=_r(r)===s;return this.expandSegment(h,_,f,m,I?De:s,!0).pipe(Pe(U=>new Ae(a.concat(U.segments),U.children)))}))}getChildConfig(e,n,r){return n.children?ge(new Uy(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ge(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Pt(i=>i?this.configLoader.load(e.injector,n).pipe(Pe(s=>(n._loadedConfig=s,s))):function H4(t){return new Se(e=>e.error(Ay(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):ge(new Uy([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ge(i.map(o=>{const a=e.get(o);let u;if(function M4(t){return t&&ns(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!ns(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return ei(u)})).pipe(Dc(),Un(o=>{if(!Ps(o))return;const a=Ay(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Pe(o=>!0===o)):ge(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ge(r);if(i.numberOfChildren>1||!i.children[De])return $4(e.redirectTo);i=i.children[De]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ns(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Xt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new Ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function By(t){const e={};for(const r of Object.keys(t.children)){const s=By(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function z4(t){if(1===t.numberOfChildren&&t.children[De]){const e=t.children[De];return new Ae(t.segments.concat(e.segments),e.children)}return t}(new Ae(t.segments,e))}class zR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eh{constructor(e,n){this.component=e,this.route=n}}function K4(t,e,n){const r=t._root;return Ac(r,e?e._root:null,n,[r.value])}function Ih(t,e,n){const r=function Y4(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ac(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=_a(e);return t.children.forEach(o=>{(function J4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function X4(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Os(t.url,e.url)||!Zr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oy(t,e)||!Zr(t.queryParams,e.queryParams);default:return!Oy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new zR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ac(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Eh(a.outlet.component,o))}else o&&xc(e,a,i),i.canActivateChecks.push(new zR(r)),Ac(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Xt(s,(o,a)=>xc(o,n.getContext(a),i)),i}function xc(t,e,n){const r=_a(t),i=t.value;Xt(r,(s,o)=>{xc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Eh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class a8{}function WR(t){return new Se(e=>e.error(t))}class c8{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=_h(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,De);if(null===n)return null;const r=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Di(r,n),s=new RR(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=MR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=jR(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=KR(r);return function l8(t){t.sort((e,n)=>e.value.outlet===De?-1:n.value.outlet===De?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return HR(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!$R(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?mR(r).parameters:{};s=new ph(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JR(e),_r(e),e.component,e,QR(n),YR(n)+r.length,XR(e))}else{const f=yh(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new ph(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JR(e),_r(e),e.component,e,QR(n),YR(n)+o.length,XR(e))}const u=function d8(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=_h(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Di(s,f)]}if(0===u.length&&0===l.length)return[new Di(s,[])];const d=_r(e)===i,h=this.processSegment(u,c,l,d?De:i);return null===h?null:[new Di(s,h)]}}function h8(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function KR(t){const e=[],n=new Set;for(const r of t){if(!h8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=KR(r.children);e.push(new Di(r.value,i))}return e.filter(r=>!n.has(r))}function QR(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function YR(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function JR(t){return t.data||{}}function XR(t){return t.resolve||{}}function $y(t){return Rs(e=>{const n=t(e);return n?Yt(n).pipe(Pe(()=>e)):ge(e)})}class w8 extends class v8{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Hy=new we("ROUTES");class ZR{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new Uy(gR(o.injector.get(Hy,void 0,fe.Self|fe.Optional)).map(jy),o)}),ts(s=>{throw n._loader$=void 0,s}));return n._loader$=new kW(i,()=>new ci).pipe(sR()),n._loader$}loadModuleFactory(e){return ei(e()).pipe(Pt(n=>n instanceof _x?ge(n):Yt(this.compiler.compileModuleAsync(n))))}}class I8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function b8(t){throw t}function T8(t,e,n){return e.parse("/")}function ek(t,e){return ge(null)}const D8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ci,this.errorHandler=b8,this.malformedUriErrorHandler=T8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ek,afterPreactivation:ek},this.urlHandlingStrategy=new I8,this.routeReuseStrategy=new w8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(wi),this.console=o.get(Zx);const d=o.get(Je);this.isNgZoneEnabled=d instanceof Je&&Je.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function XW(){return new Ns(new Ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ZR(o,a,h=>this.triggerEvent(new lR(h)),h=>this.triggerEvent(new dR(h))),this.routerState=xR(this.currentUrlTree,this.rootComponentType),this.transitions=new Ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ks(i=>0!==i.id),Pe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Rs(i=>{let s=!1,o=!1;return ge(i).pipe(Un(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rs(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return bh(a.source)&&(this.browserUrlTree=a.extractedUrl),ge(a).pipe(Rs(d=>{const h=this.transitions.getValue();return r.next(new Sy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?hi:Promise.resolve(d)}),function W4(t,e,n,r){return Rs(i=>function q4(t,e,n,r,i){return new G4(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Pe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Un(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function f8(t,e,n,r,i){return Pt(s=>function u8(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new c8(t,e,n,r,i,s).recognize();return null===o?WR(new a8):ge(o)}catch(o){return WR(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Pe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Un(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new VW(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,I=new Sy(h,this.serializeUrl(f),p,m);r.next(I);const v=xR(f,this.rootComponentType).snapshot;return ge(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),hi}),$y(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Un(a=>{const u=new jW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Pe(a=>Object.assign(Object.assign({},a),{guards:K4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Z4(t,e){return Pt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ge(Object.assign(Object.assign({},n),{guardsResult:!0})):function e8(t,e,n,r){return Yt(t).pipe(Pt(i=>function o8(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ge(s.map(a=>{const u=Ih(a,e,i);let c;if(function N4(t){return t&&ns(t.canDeactivate)}(u))c=ei(u.canDeactivate(t,e,n,r));else{if(!ns(u))throw new Error("Invalid CanDeactivate guard");c=ei(u(t,e,n,r))}return c.pipe(ma())})).pipe(Dc()):ge(!0)}(i.component,i.route,n,e,r)),ma(i=>!0!==i,!0))}(o,r,i,t).pipe(Pt(a=>a&&function x4(t){return"boolean"==typeof t}(a)?function t8(t,e,n,r){return Yt(e).pipe(ga(i=>Dy(function r8(t,e){return null!==t&&e&&e(new qW(t)),ge(!0)}(i.route.parent,r),function n8(t,e){return null!==t&&e&&e(new zW(t)),ge(!0)}(i.route,r),function s8(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Q4(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>iR(()=>ge(o.guards.map(u=>{const c=Ih(u,o.node,n);let l;if(function k4(t){return t&&ns(t.canActivateChild)}(c))l=ei(c.canActivateChild(r,t));else{if(!ns(c))throw new Error("Invalid CanActivateChild guard");l=ei(c(r,t))}return l.pipe(ma())})).pipe(Dc())));return ge(s).pipe(Dc())}(t,i.path,n),function i8(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ge(!0);const i=r.map(s=>iR(()=>{const o=Ih(s,e,n);let a;if(function R4(t){return t&&ns(t.canActivate)}(o))a=ei(o.canActivate(e,t));else{if(!ns(o))throw new Error("Invalid CanActivate guard");a=ei(o(e,t))}return a.pipe(ma())}));return ge(i).pipe(Dc())}(t,i.route,n))),ma(i=>!0!==i,!0))}(r,s,t,e):ge(a)),Pe(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Un(a=>{if(Ps(a.guardsResult)){const c=Ay(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new BW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ks(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),$y(a=>{if(a.guards.canActivateChecks.length)return ge(a).pipe(Un(u=>{const c=new $W(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Rs(u=>{let c=!1;return ge(u).pipe(function p8(t,e){return Pt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ge(n);let s=0;return Yt(i).pipe(ga(o=>function g8(t,e,n,r){return function m8(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ge({});const s={};return Yt(i).pipe(Pt(o=>function y8(t,e,n,r){const i=Ih(t,e,r);return ei(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Un(a=>{s[o]=a}))),Cy(1),Pt(()=>Object.keys(s).length===i.length?ge(s):hi))}(t._resolve,t,e,r).pipe(Pe(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),MR(t,n).resolve),null)))}(o.route,r,t,e)),Un(()=>s++),Cy(1),Pt(o=>s===i.length?ge(n):hi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Un({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Un(u=>{const c=new HW(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),$y(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Pe(a=>{const u=function m4(t,e,n){const r=Ic(t,e._root,n?n._root:void 0);return new AR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Un(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>Pe(r=>(new S4(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Un({next(){s=!0},complete(){s=!0}}),function LW(t){return Kt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ts(a=>{if(o=!0,function QW(t){return t&&t[fR]}(a)){const u=Ps(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new cR(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bh(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new UW(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return hi}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){VR(n),this.config=n.map(jy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function v4(t,e,n,r,i){if(0===n.length)return Py(e.root,e.root,e,r,i);const s=function w4(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new OR(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Xt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new OR(n,e,r)}(n);if(s.toRoot())return Py(e.root,new Ae([],{}),e,r,i);const o=function E4(t,e,n){if(t.isAbsolute)return new Fy(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Fy(s,s===e.root,0)}const r=gh(t.commands[0])?0:1;return function I4(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fy(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?mh(o.segmentGroup,o.index,s.commands):PR(o.segmentGroup,o.index,s.commands);return Py(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ps(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function S8(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},D8):!1===r?Object.assign({},C8):r,Ps(n))return _R(this.currentUrlTree,n,i);const s=this.parseUrl(n);return _R(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new vc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,d=bh(r)&&l&&!bh(l.source),h=l.rawUrl.toString()===n.toString(),f=l.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let m,_,I;o?(m=o.resolve,_=o.reject,I=o.promise):I=new Promise((Y,pe)=>{m=Y,_=pe});const v=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),U=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):U=0,this.setTransition({id:v,targetPageId:U,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:m,reject:_,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(Y=>Promise.reject(Y))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new cR(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){hm()},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function bh(t){return"imperative"!==t}class tk{}class nk{preload(e,n){return ge(null)}}let rk=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new ZR(i,r,u=>n.triggerEvent(new lR(u)),u=>n.triggerEvent(new dR(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ks(n=>n instanceof vc),ga(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(wi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Yt(i).pipe(Eu(),Pe(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ge(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Pt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(Q(tr),Q(Gd),Q(Dt),Q(tk))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),zy=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Sy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof hR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new hR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){hm()},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const Fs=new we("ROUTER_CONFIGURATION"),ik=new we("ROUTER_FORROOT_GUARD"),R8=[iy,{provide:IR,useClass:bR},{provide:tr,useFactory:function F8(t,e,n,r,i,s,o={},a,u){const c=new tr(null,t,e,n,r,i,gR(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function L8(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[IR,Cc,iy,Dt,Gd,Hy,Fs,[class E8{},new ct],[class _8{},new ct]]},Cc,{provide:va,useFactory:function U8(t){return t.routerState.root},deps:[tr]},rk,nk,class M8{preload(e,n){return n().pipe(ts(()=>ge(null)))}},{provide:Fs,useValue:{enableTracing:!1}}];function k8(){return new sM("Router",tr)}let sk=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[R8,ok(n),{provide:ik,useFactory:P8,deps:[[tr,new ct,new Oo]]},{provide:Fs,useValue:r||{}},{provide:pa,useFactory:O8,deps:[Ms,[new Vu(ry),new ct],Fs]},{provide:zy,useFactory:N8,deps:[tr,Pz,Fs]},{provide:tk,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:nk},{provide:sM,multi:!0,useFactory:k8},[Wy,{provide:qd,multi:!0,useFactory:V8,deps:[Wy]},{provide:ak,useFactory:j8,deps:[Wy]},{provide:Xx,multi:!0,useExisting:ak}]]}}static forChild(n){return{ngModule:t,providers:[ok(n)]}}}return t.\u0275fac=function(n){return new(n||t)(Q(ik,8),Q(tr,8))},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({}),t})();function N8(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new zy(t,e,n)}function O8(t,e,n={}){return n.useHash?new m3(t,e):new SM(t,e)}function P8(t){return"guarded"}function ok(t){return[{provide:q2,multi:!0,useValue:t},{provide:Hy,multi:!0,useValue:t}]}let Wy=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ci}appInitializer(){return this.injector.get(f3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(tr),o=this.injector.get(Fs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ge(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Fs),i=this.injector.get(rk),s=this.injector.get(zy),o=this.injector.get(tr),a=this.injector.get(hc);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(Q(Dt))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function V8(t){return t.appInitializer.bind(t)}function j8(t){return t.bootstrapListener.bind(t)}const ak=new we("Router Initializer");function uk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){uk(s,r,i,o,a,"next",u)}function a(u){uk(s,r,i,o,a,"throw",u)}o(void 0)})}}const Qy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Th(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function fk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pk(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ea(){return"object"==typeof indexedDB}function Dh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Xy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ni.prototype.create)}}class ni{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function J8(t,e){return t.replace(X8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ti(i,`${this.serviceName}: ${o} (${i}).`,r)}}const X8=/\{\$([^}]+)}/g;function Sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mk(s)&&mk(o)){if(!Sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mk(t){return null!==t&&"object"==typeof t}function Mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class t6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function n6(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Zy),void 0===i.error&&(i.error=Zy),void 0===i.complete&&(i.complete=Zy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zy(){}function t_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function vr(t){return t&&t._delegate?t._delegate:t}class An{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ls="[DEFAULT]";class u6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function l6(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ls?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class d6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const n_=[];var Re=(()=>{return(t=Re||(Re={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",Re;var t})();const yk={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},h6=Re.INFO,f6={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},p6=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=f6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ia{constructor(e){this.name=e,this._logLevel=h6,this._logHandler=p6,this._userLogHandler=null,n_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}class g6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function m6(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const r_="@firebase/app",i_=new Ia("@firebase/app"),s_="[DEFAULT]",$6={[r_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Us=new Map,Ah=new Map;function H6(t,e){try{t.container.addComponent(e)}catch(n){i_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vn(t){const e=t.name;if(Ah.has(e))return i_.debug(`There were multiple attempts to register component ${e}.`),!1;Ah.set(e,t);for(const n of Us.values())H6(n,t);return!0}function ba(t,e){return t.container.getProvider(e)}const Rc=new ni("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class G6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rc.create("app-deleted",{appName:this._name})}}const Ta="9.6.7";function z6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:s_,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Rc.create("bad-app-name",{appName:String(r)});const i=Us.get(r);if(i){if(Sh(t,i.options)&&Sh(n,i.config))return i;throw Rc.create("duplicate-app",{appName:r})}const s=new d6(r);for(const a of Ah.values())s.addComponent(a);const o=new G6(t,n,s);return Us.set(r,o),o}function o_(t=s_){const e=Us.get(t);if(!e)throw Rc.create("no-app",{appName:t});return e}function vk(){return Array.from(Us.values())}function st(t,e,n){var r;let i=null!==(r=$6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void i_.warn(a.join(" "))}Vn(new An(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}!function W6(t){Vn(new An("platform-logger",e=>new g6(e),"PRIVATE")),st(r_,"0.7.17",t),st(r_,"0.7.17","esm2017"),st("fire-js","")}(""),st("firebase","9.6.7","app");var Da=D(940);const wk="@firebase/installations",Ik="w:0.5.5",bk="FIS_v2",Ci=new ni("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tk(t){return t instanceof ti&&t.code.includes("request-failed")}function c_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Dk(t){return{token:t.token,requestStatus:2,expiresIn:tK(t.expiresIn),creationTime:Date.now()}}function l_(t,e){return d_.apply(this,arguments)}function d_(){return(d_=g(function*(t,e){const r=(yield e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ck({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sk(t,{refreshToken:e}){const n=Ck(t);return n.append("Authorization",function nK(t){return`${bk} ${t}`}(e)),n}function h_(t){return f_.apply(this,arguments)}function f_(){return(f_=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function tK(t){return Number(t.replace("s","000"))}function rK(t,e){return p_.apply(this,arguments)}function p_(){return(p_=g(function*(t,{fid:e}){const n=c_(t),s={method:"POST",headers:Ck(t),body:JSON.stringify({fid:e,authVersion:bk,appId:t.appId,sdkVersion:Ik})},o=yield h_(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:Dk(a.authToken)}}throw yield l_("Create Installation",o)})).apply(this,arguments)}function Ak(t){return new Promise(e=>{setTimeout(e,t)})}const sK=/^[cdef][\w-]{21}$/;function oK(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function aK(t){return function iK(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return sK.test(n)?n:""}catch(t){return""}}function Ca(t){return`${t.appName}!${t.appId}`}const Sa=new Map;function xk(t,e){const n=Ca(t);Mk(n,e),function lK(t,e){const n=function Rk(){return!Vs&&"BroadcastChannel"in self&&(Vs=new BroadcastChannel("[Firebase] FID Change"),Vs.onmessage=t=>{Mk(t.data.key,t.data.fid)}),Vs}();n&&n.postMessage({key:t,fid:e}),function kk(){0===Sa.size&&Vs&&(Vs.close(),Vs=null)}()}(n,e)}function Mk(t,e){const n=Sa.get(t);if(n)for(const r of n)r(e)}let Vs=null;const js="firebase-installations-store";let m_=null;function y_(){return m_||(m_=(0,Da.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(js)})),m_}function xh(t,e){return __.apply(this,arguments)}function __(){return(__=g(function*(t,e){const n=Ca(t),i=(yield y_()).transaction(js,"readwrite"),s=i.objectStore(js),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&xk(t,e.fid),e})).apply(this,arguments)}function v_(t){return w_.apply(this,arguments)}function w_(){return(w_=g(function*(t){const e=Ca(t),r=(yield y_()).transaction(js,"readwrite");yield r.objectStore(js).delete(e),yield r.complete})).apply(this,arguments)}function kc(t,e){return E_.apply(this,arguments)}function E_(){return(E_=g(function*(t,e){const n=Ca(t),i=(yield y_()).transaction(js,"readwrite"),s=i.objectStore(js),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&xk(t,a.fid),a})).apply(this,arguments)}function I_(t){return b_.apply(this,arguments)}function b_(){return(b_=g(function*(t){let e;const n=yield kc(t,r=>{const i=fK(r),s=pK(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function fK(t){return Ok(t||{fid:oK(),registrationStatus:0})}function pK(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ci.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function gK(t,e){return T_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mK(t)}:{installationEntry:e}}function T_(){return(T_=g(function*(t,e){try{return xh(t,yield rK(t,e))}catch(n){throw Tk(n)&&409===n.customData.serverCode?yield v_(t):yield xh(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function mK(t){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(t){let e=yield Nk(t);for(;1===e.registrationStatus;)yield Ak(100),e=yield Nk(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield I_(t);return r||n}return e})).apply(this,arguments)}function Nk(t){return kc(t,e=>{if(!e)throw Ci.create("installation-not-found");return Ok(e)})}function Ok(t){return function yK(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function _K(t,e){return C_.apply(this,arguments)}function C_(){return(C_=g(function*({appConfig:t,platformLoggerProvider:e},n){const r=vK(t,n),i=Sk(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Ik}})},u=yield h_(()=>fetch(r,a));if(u.ok)return Dk(yield u.json());throw yield l_("Generate Auth Token",u)})).apply(this,arguments)}function vK(t,{fid:e}){return`${c_(t)}/${e}/authTokens:generate`}function S_(t){return A_.apply(this,arguments)}function A_(){return(A_=g(function*(t,e=!1){let n;const r=yield kc(t.appConfig,s=>{if(!Fk(s))throw Ci.create("not-registered");const o=s.authToken;if(!e&&IK(o))return s;if(1===o.requestStatus)return n=wK(t,e),s;{if(!navigator.onLine)throw Ci.create("app-offline");const a=TK(s);return n=EK(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function wK(t,e){return x_.apply(this,arguments)}function x_(){return(x_=g(function*(t,e){let n=yield Pk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Ak(100),n=yield Pk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?S_(t,e):r})).apply(this,arguments)}function Pk(t){return kc(t,e=>{if(!Fk(e))throw Ci.create("not-registered");return function DK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function EK(t,e){return M_.apply(this,arguments)}function M_(){return(M_=g(function*(t,e){try{const n=yield _K(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield xh(t.appConfig,r),n}catch(n){if(!Tk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield xh(t.appConfig,r)}else yield v_(t.appConfig);throw n}})).apply(this,arguments)}function Fk(t){return void 0!==t&&2===t.registrationStatus}function IK(t){return 2===t.requestStatus&&!function bK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function TK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function R_(){return(R_=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield I_(e.appConfig);return r?r.catch(console.error):S_(e).catch(console.error),n.fid})).apply(this,arguments)}function k_(){return(k_=g(function*(t,e=!1){const n=t;return yield AK(n.appConfig),(yield S_(n,e)).token})).apply(this,arguments)}function AK(t){return N_.apply(this,arguments)}function N_(){return(N_=g(function*(t){const{registrationPromise:e}=yield I_(t);e&&(yield e)})).apply(this,arguments)}function F_(t){return Ci.create("missing-app-config-values",{valueName:t})}const Lk="installations",NK=t=>{const e=t.getProvider("app").getImmediate(),n=function RK(t){if(!t||!t.options)throw F_("App Configuration");if(!t.name)throw F_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw F_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:ba(e,"platform-logger"),_delete:()=>Promise.resolve()}},OK=t=>{const n=ba(t.getProvider("app").getImmediate(),Lk).getImmediate();return{getId:()=>function CK(t){return R_.apply(this,arguments)}(n),getToken:i=>function SK(t){return k_.apply(this,arguments)}(n,i)}};(function PK(){Vn(new An(Lk,NK,"PUBLIC")),Vn(new An("installations-internal",OK,"PRIVATE"))})(),st(wk,"0.5.5"),st(wk,"0.5.5","esm2017");const L_="@firebase/remote-config",jn=new ni("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function WK(t=navigator){return t.languages&&t.languages[0]||t.language}class KK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:WK()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,v)=>{e.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",v(U)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let v="fetch-client-network";throw"AbortError"===I.name&&(v="fetch-timeout"),jn.create(v,{originalErrorMessage:I.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let I;try{I=yield h.json()}catch(v){throw jn.create("fetch-client-parse",{originalErrorMessage:v.message})}m=I.entries,_=I.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw jn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class JK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function QK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function YK(t){if(!(t instanceof ti&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+t_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class e5{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rh(t,e){const n=t.target.error||void 0;return jn.create(e,{originalErrorMessage:n&&n.message})}const Bs="app_namespace_store";class i5{constructor(e,n,r,i=function r5(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Rh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bs,{keyPath:"compositeKey"})}}catch(n){e(jn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Bs],"readonly").objectStore(Bs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Rh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(jn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Bs],"readwrite").objectStore(Bs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Rh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(jn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Bs],"readwrite").objectStore(Bs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Rh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(jn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class s5{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function a5(){return $_.apply(this,arguments)}function $_(){return($_=g(function*(){if(!Ea())return!1;try{return yield Dh()}catch(t){return!1}})).apply(this,arguments)}!function o5(){Vn(new An("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!Ea())throw jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw jn.create("registration-project-id");if(!o)throw jn.create("registration-api-key");if(!a)throw jn.create("registration-app-id");const u=new i5(a,r.name,n=n||"firebase"),c=new s5(u),l=new Ia(L_);l.logLevel=Re.ERROR;const d=new KK(i,Ta,n,s,o,a),h=new JK(d,u),f=new zK(h,u,c,l),p=new e5(r,f,c,u,l);return function HK(t){const e=vr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),st(L_,"0.3.4"),st(L_,"0.3.4","esm2017")}();const u5="/firebase-messaging-sw.js",c5="/firebase-cloud-messaging-push-scope",Bk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$k="google.c.a.c_id",d5="google.c.a.c_l",h5="google.c.a.ts",f5="google.c.a.e";var Aa=(()=>{return(t=Aa||(Aa={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Aa;var t})();function Si(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p5(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const H_="fcm_token_details_db",Hk="fcm_token_object_Store";function m5(t){return q_.apply(this,arguments)}function q_(){return q_=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(H_))return null;let e=null;return(yield(0,Da.openDb)(H_,5,function(){var r=g(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(Hk))return;const o=i.transaction.objectStore(Hk),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Si(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Si(u.auth),p256dh:Si(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Si(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Si(u.auth),p256dh:Si(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Si(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,Da.deleteDb)(H_),yield(0,Da.deleteDb)("fcm_vapid_details_db"),yield(0,Da.deleteDb)("undefined"),y5(e)?e:null}),q_.apply(this,arguments)}function y5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const $s="firebase-messaging-store";let G_=null;function z_(){return G_||(G_=(0,Da.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore($s)})),G_}function qk(t){return W_.apply(this,arguments)}function W_(){return(W_=g(function*(t){const e=J_(t),r=yield(yield z_()).transaction($s).objectStore($s).get(e);if(r)return r;{const i=yield m5(t.appConfig.senderId);if(i)return yield K_(t,i),i}})).apply(this,arguments)}function K_(t,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(t,e){const n=J_(t),i=(yield z_()).transaction($s,"readwrite");return yield i.objectStore($s).put(e,n),yield i.complete,e})).apply(this,arguments)}function w5(t){return Y_.apply(this,arguments)}function Y_(){return(Y_=g(function*(t){const e=J_(t),r=(yield z_()).transaction($s,"readwrite");yield r.objectStore($s).delete(e),yield r.complete})).apply(this,arguments)}function J_({appConfig:t}){return t.appId}const Zt=new ni("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function I5(t,e){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(t,e){const n=yield nv(t),r=zk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(tv(t.appConfig),i)).json()}catch(o){throw Zt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Zt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function b5(t,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=g(function*(t,e){const n=yield nv(t),r=zk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${tv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Zt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Zt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-update-no-token");return s.token})).apply(this,arguments)}function Gk(t,e){return ev.apply(this,arguments)}function ev(){return(ev=g(function*(t,e){const r={method:"DELETE",headers:yield nv(t)};try{const s=yield(yield fetch(`${tv(t.appConfig)}/${e}`,r)).json();if(s.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Zt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function tv({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function nv(t){return rv.apply(this,arguments)}function rv(){return(rv=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function zk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Bk&&(i.web.applicationPubKey=r),i}const T5=6048e5;function D5(t){return iv.apply(this,arguments)}function iv(){return(iv=g(function*(t){const e=yield S5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Si(e.getKey("auth")),p256dh:Si(e.getKey("p256dh"))},r=yield qk(t.firebaseDependencies);if(r){if(A5(r.subscriptionOptions,n))return Date.now()>=r.createTime+T5?C5(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Gk(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Kk(t.firebaseDependencies,n)}return Kk(t.firebaseDependencies,n)})).apply(this,arguments)}function Wk(t){return sv.apply(this,arguments)}function sv(){return(sv=g(function*(t){const e=yield qk(t.firebaseDependencies);e&&(yield Gk(t.firebaseDependencies,e.token),yield w5(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function C5(t,e){return ov.apply(this,arguments)}function ov(){return(ov=g(function*(t,e){try{const n=yield b5(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield K_(t.firebaseDependencies,r),n}catch(n){throw yield Wk(t),n}})).apply(this,arguments)}function Kk(t,e){return av.apply(this,arguments)}function av(){return(av=g(function*(t,e){const r={token:yield I5(t,e),createTime:Date.now(),subscriptionOptions:e};return yield K_(t,r),r.token})).apply(this,arguments)}function S5(t,e){return uv.apply(this,arguments)}function uv(){return(uv=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p5(e)})})).apply(this,arguments)}function A5(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Qk(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function x5(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function M5(t,e){!e.data||(t.data=e.data)}(e,t),function R5(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function k5(t){return"object"==typeof t&&!!t&&$k in t}function Yk(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function cv(t){return Zt.create("missing-app-config-values",{valueName:t})}Yk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class O5{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function N5(t){if(!t||!t.options)throw cv("App Configuration Object");if(!t.name)throw cv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw cv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Jk(t){return lv.apply(this,arguments)}function lv(){return(lv=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(u5,{scope:c5}),t.swRegistration.update().catch(()=>{})}catch(e){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function P5(t,e){return dv.apply(this,arguments)}function dv(){return(dv=g(function*(t,e){if(!e&&!t.swRegistration&&(yield Jk(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function F5(t,e){return hv.apply(this,arguments)}function hv(){return(hv=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Bk)})).apply(this,arguments)}function fv(){return(fv=g(function*(t,e){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield F5(t,null==e?void 0:e.vapidKey),yield P5(t,null==e?void 0:e.serviceWorkerRegistration),D5(t)})).apply(this,arguments)}function L5(t,e,n){return pv.apply(this,arguments)}function pv(){return(pv=g(function*(t,e,n){const r=U5(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[$k],message_name:n[d5],message_time:n[h5],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function U5(t){switch(t){case Aa.NOTIFICATION_CLICKED:return"notification_open";case Aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function gv(){return(gv=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Aa.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Qk(n)):t.onMessageHandler.next(Qk(n)));const r=n.data;k5(r)&&"1"===r[f5]&&(yield L5(t,n.messageType,r))})).apply(this,arguments)}const Zk="@firebase/messaging",j5=t=>{const e=new O5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function V5(t,e){return gv.apply(this,arguments)}(e,n)),e},B5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Xk(t,e){return fv.apply(this,arguments)}(e,r)}};function t1(){return mv.apply(this,arguments)}function mv(){return(mv=g(function*(){try{yield Dh()}catch(t){return!1}return"undefined"!=typeof window&&Ea()&&Xy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $5(){Vn(new An("messaging",j5,"PUBLIC")),Vn(new An("messaging-internal",B5,"PRIVATE")),st(Zk,"0.9.8"),st(Zk,"0.9.8","esm2017")}();const kh="analytics",G5="firebase_id",K5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",n1="https://www.googletagmanager.com/gtag/js",en=new Ia("@firebase/analytics");function r1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Q5(t,e){const n=document.createElement("script");n.src=`${n1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function J5(t,e,n,r,i,s){return vv.apply(this,arguments)}function vv(){return(vv=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield r1(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){en.error(a)}t("config",i,s)})).apply(this,arguments)}function X5(t,e,n,r,i){return wv.apply(this,arguments)}function wv(){return(wv=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield r1(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){en.error(s)}})).apply(this,arguments)}function t7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(n1))return e;return null}const nr=new ni("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),i1=new class s7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function o7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function a7(t){return Ev.apply(this,arguments)}function Ev(){return(Ev=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:o7(r)},s=K5.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw nr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function u7(t){return Iv.apply(this,arguments)}function Iv(){return(Iv=g(function*(t,e=i1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new d7;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),s1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function s1(t,e,n){return bv.apply(this,arguments)}function bv(){return(bv=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=i1){const{appId:s,measurementId:o}=t;try{yield c7(r,e)}catch(a){if(o)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield a7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!l7(a)){if(i.deleteThrottleMetadata(s),o)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?t_(n,i.intervalMillis,30):t_(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),en.debug(`Calling attemptFetch again in ${u} millis`),s1(t,c,r,i)}})).apply(this,arguments)}function c7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function l7(t){if(!(t instanceof ti&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class d7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function h7(){return Tv.apply(this,arguments)}function Tv(){return(Tv=g(function*(){if(!Ea())return en.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Dh()}catch(t){return en.warn(nr.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function Dv(){return(Dv=g(function*(t,e,n,r,i,s,o){var a;const u=u7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>en.error(f)),e.push(u);const c=h7().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);t7()||Q5(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[G5]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class p7{constructor(e){this.app=e}_delete(){return delete Ai[this.app.options.appId],Promise.resolve()}}let Ai={},o1=[];const a1={};let c1,Nc,Nh="dataLayer",Cv=!1;function m7(t,e,n){!function g7(){const t=[];if(Th()&&t.push("This is a browser extension environment."),Xy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nr.create("invalid-analytics-context",{errorInfo:e});en.warn(n.message)}}();const r=t.options.appId;if(!r)throw nr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw nr.create("no-api-key");en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ai[r])throw nr.create("already-exists",{id:r});if(!Cv){!function Y5(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Nh);const{wrappedGtag:s,gtagCore:o}=function e7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Z5(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield X5(t,e,n,a,u):"config"===o?yield J5(t,e,n,r,a,u):t("set",a)}catch(c){en.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ai,o1,a1,Nh,"gtag");Nc=s,c1=o,Cv=!0}return Ai[r]=function f7(t,e,n,r,i,s,o){return Dv.apply(this,arguments)}(t,o1,a1,e,c1,Nh,n),new p7(t)}function Sv(){return(Sv=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function b7(){return kv.apply(this,arguments)}function kv(){return(kv=g(function*(){if(Th()||!Xy()||!Ea())return!1;try{return yield Dh()}catch(t){return!1}})).apply(this,arguments)}const l1="@firebase/analytics";!function D7(){Vn(new An(kh,(e,{options:n})=>m7(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Vn(new An("analytics-internal",function t(e){try{const n=e.getProvider(kh).getImmediate();return{logEvent:(r,i,s)=>function T7(t,e,n,r){t=vr(t),function y7(t,e,n,r,i){return Sv.apply(this,arguments)}(Nc,Ai[t.app.options.appId],e,n,r).catch(i=>en.error(i))}(n,r,i,s)}}catch(n){throw nr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),st(l1,"0.7.5"),st(l1,"0.7.5","esm2017")}();class C7 extends S{constructor(e,n){super()}schedule(e,n=0){return this}}const Oh={setInterval(...t){const{delegate:e}=Oh;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=Oh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class h1 extends C7{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Oh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Oh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,C(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const f1={now:()=>(f1.delegate||Date).now(),delegate:void 0};class Oc{constructor(e,n=Oc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Oc.now=f1.now;class p1 extends Oc{constructor(e,n=Oc.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const x7=new class A7 extends p1{}(class S7 extends h1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),M7=new p1(h1),Ph=new oc("7.2.0"),Nv="__angularfire_symbol__analyticsIsSupported",Ov="__angularfire_symbol__remoteConfigIsSupported",Pv="__angularfire_symbol__messagingIsSupported";function Lv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Nv]||(globalThis[Nv]=b7().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[Pv]||(globalThis[Pv]=t1().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[Ov]||(globalThis[Ov]=a5().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const Uv=(t,e)=>{const n=e?[e]:vk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function xa(){}class _1{constructor(e,n=x7){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class R7{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),n.pipe(Un({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vv=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _1(Zone.current)),this.insideAngular=n.run(()=>new _1(Zone.current,M7)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(Q(Je))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function k7(t){return Hs().ngZone.runOutsideAngular(()=>t())}function qs(t){return Hs().ngZone.run(()=>t())}function N7(t){return Hs(),function O7(t){return function(n){return(n=n.lift(new R7(t.ngZone))).pipe(Bl(t.outsideAngular),jl(t.insideAngular))}}(Hs())(t)}const P7=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),qs(()=>t.apply(n,arguments))}},rs=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=qs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)))),arguments[i]=P7(arguments[i],n));const r=k7(()=>t.apply(this,arguments));if(!e){if(r instanceof Se){const i=Hs();return r.pipe(Bl(i.outsideAngular),jl(i.insideAngular))}return qs(()=>r)}return r instanceof Se?r.pipe(N7):r instanceof Promise?qs(()=>new Promise((i,s)=>r.then(o=>qs(()=>i(o)),o=>qs(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:qs(()=>r)};class Ma{constructor(e){return e}}class jv{constructor(){return vk()}}const Bv=new we("angularfire2._apps"),L7={provide:Ma,useFactory:function F7(t){return t&&1===t.length?t[0]:new Ma(o_())},deps:[[new ct,Bv]]},U7={provide:jv,deps:[[new ct,Bv]]};function V7(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ma(r)}}let j7=(()=>{class t{constructor(n){st("angularfire",Ph.full,"core"),st("angularfire",Ph.full,"app"),st("angular",gx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(Q(ha))},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:[L7,U7]}),t})();function B7(t,...e){return{ngModule:j7,providers:[{provide:Bv,useFactory:V7(t),multi:!0,deps:[Je,Dt,Vv,...e]}]}}const $7=rs(z6,!0),v1=new Map,H7={activated:!1,tokenObservers:[]},q7={initialized:!1,enabled:!1};function Ut(t){return v1.get(t)||H7}function Vr(t,e){v1.set(t,e)}function Fh(){return q7}class Q7{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Jy,yield function Y7(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Jy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const xn=new ni("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function E1(t){if(!Ut(t).activated)throw xn.create("use-before-activation",{appName:t.name})}function qv(t,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw xn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw xn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw xn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function t9(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Pc="firebase-app-check-store";let Vh=null;function b1(){return Vh||(Vh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(xn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pc,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n.message}))}}),Vh)}function zv(){return(zv=g(function*(t,e){const r=(yield b1()).transaction(Pc,"readwrite"),s=r.objectStore(Pc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(xn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Fc=new Ia("@firebase/app-check");function S1(t,e){return Ea()?function s9(t,e){return function T1(t,e){return zv.apply(this,arguments)}(function C1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Fc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function A1(){return Fh().enabled}function x1(){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(){const t=Fh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const d9={error:"UNKNOWN_ERROR"};function h9(t){return Qy.encodeString(JSON.stringify(t),!1)}function jh(t){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*(t,e=!1){const n=t.app;E1(n);const r=Ut(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Bh(u)&&(i=u)}if(!e&&i&&Bh(i))return{token:i.token};let a,o=!1;if(A1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qv(t9(n,yield x1()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield S1(n,u),Vr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Fc.warn(u.message):Fc.error(u),s=u}return i?(a={token:i.token},Vr(n,Object.assign(Object.assign({},r),{token:i})),yield S1(n,i)):a=p9(s),o&&R1(n,a),a})).apply(this,arguments)}function Zv(t,e){const n=Ut(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Vr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function M1(t){const{app:e}=t,n=Ut(e);let r=n.tokenRefresher;r||(r=function f9(t){const{app:e}=t;return new Q7(g(function*(){let r;if(r=Ut(e).token?yield jh(t,!0):yield jh(t),r.error)throw r.error}),()=>!0,()=>{const n=Ut(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Vr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function R1(t,e){const n=Ut(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Bh(t){return t.expireTimeMillis-Date.now()>0}function p9(t){return{token:h9(d9),error:t}}class g9{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=Ut(this.app);for(const n of e)Zv(this.app,n.next);return Promise.resolve()}}const V1="app-check-internal";!function x9(){Vn(new An("app-check",t=>function m9(t,e){return new g9(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(V1).initialize()})),Vn(new An(V1,t=>function y9(t){return{getToken:e=>jh(t,e),addTokenListener:e=>function Xv(t,e,n,r){const{app:i}=t,s=Ut(i),o={next:n,error:r,type:e};if(Vr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Bh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),M1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>M1(t))}(t,"INTERNAL",e),removeTokenListener:e=>Zv(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),st("@firebase/app-check","0.5.3")}();class rw{constructor(){return Uv("app-check")}}function ow(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}"undefined"!=typeof window&&window;const F9=function q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},G1=new ni("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),z1=new Ia("@firebase/auth");function qh(t,...e){z1.logLevel<=Re.ERROR&&z1.error(`Auth (9.6.7): ${t}`,...e)}function Bn(t,...e){throw aw(t,...e)}function ri(t,...e){return aw(t,...e)}function W1(t,e,n){const r=Object.assign(Object.assign({},F9()),{[e]:n});return new ni("auth","Firebase",r).create(e,{appName:t.name})}function Ra(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Bn(t,"argument-error"),W1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function aw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G1.create(t,...e)}function j(t,e,...n){if(!t)throw aw(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function is(t,e){t||ii(e)}const K1=new Map;function xi(t){is(t instanceof Function,"Expected a class definition");let e=K1.get(t);return e?(is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K1.set(t,e),e)}function Lc(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Q1(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=hk()||fk()}get(){return function V9(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function uw(){return"http:"===Q1()||"https:"===Q1()}()||Th()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cw(t,e){is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Y1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$9=new Uc(3e4,6e4);function At(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Vt(t,e,n,r){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(t,e,n,r,i={}){return J1(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Mc(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Y1.fetch()(X1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function J1(t,e,n){return dw.apply(this,arguments)}function dw(){return(dw=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},B9),e);try{const i=new H9(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Gh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Gh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Gh(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw W1(t,l,c);Bn(t,l)}}catch(i){if(i instanceof ti)throw i;Bn(t,"network-request-failed")}})).apply(this,arguments)}function Mi(t,e,n,r){return hw.apply(this,arguments)}function hw(){return(hw=g(function*(t,e,n,r,i={}){const s=yield Vt(t,e,n,r,i);return"mfaPendingCredential"in s&&Bn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function X1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cw(t.config,i):`${t.config.apiScheme}://${i}`}class H9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),$9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(t,e,r);return i.customData._tokenResponse=n,i}function fw(){return(fw=g(function*(t,e){return Vt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function z9(t,e){return gw.apply(this,arguments)}function gw(){return(gw=g(function*(t,e){return Vt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function mw(){return(mw=g(function*(t,e=!1){const n=vr(t),r=yield n.getIdToken(e),i=zh(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vc(yw(i.auth_time)),issuedAtTime:Vc(yw(i.iat)),expirationTime:Vc(yw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function yw(t){return 1e3*Number(t)}function zh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Qy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i),null}}function Ri(t,e){return _w.apply(this,arguments)}function _w(){return(_w=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ti&&Q9(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function Q9({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Y9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class Z1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jc(t){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ri(t,z9(n,{idToken:r}));j(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Z9(s.providerUserInfo):[],a=X9(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Z1(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function ww(){return(ww=g(function*(t){const e=vr(t);yield jc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function X9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z9(t){return t.map(e=>{var{providerId:n}=e,r=ow(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Ew(){return(Ew=g(function*(t,e){const n=yield J1(t,{},g(function*(){const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=X1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(void 0!==e.idToken,"internal-error"),j(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function K9(t){const e=zh(t);return j(e,"internal-error"),j(void 0!==e.exp,"internal-error"),j(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return j(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function eQ(t,e){return Ew.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bc;return r&&(j("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(j("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(j("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return ii("not implemented")}}function ss(t,e){j("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ow(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Z1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ri(n,n.stsTokenManager.getToken(n.auth,e));return j(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function W9(t){return mw.apply(this,arguments)}(this,e)}reload(){return function J9(t){return ww.apply(this,arguments)}(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield jc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ri(e,function q9(t,e){return fw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:U,emailVerified:Y,isAnonymous:pe,providerData:kt,stsTokenManager:ur}=n;j(U&&ur,e,"internal-error");const Ul=Bc.fromJSON(this.name,ur);j("string"==typeof U,e,"internal-error"),ss(d,e.name),ss(h,e.name),j("boolean"==typeof Y,e,"internal-error"),j("boolean"==typeof pe,e,"internal-error"),ss(f,e.name),ss(p,e.name),ss(m,e.name),ss(_,e.name),ss(I,e.name),ss(v,e.name);const _o=new Gs({uid:U,auth:e,email:h,emailVerified:Y,displayName:d,isAnonymous:pe,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ul,createdAt:I,lastLoginAt:v});return kt&&Array.isArray(kt)&&(_o.providerData=kt.map(Vl=>Object.assign({},Vl))),_&&(_o._redirectEventId=_),_o}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Bc;i.updateFromServerResponse(n);const s=new Gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jc(s),s})()}}const eN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Wh(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Gs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new ka(xi(eN),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||xi(eN);const o=Wh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Gs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new ka(s,e,r)):new ka(s,e,r)})()}}function tN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oN(e))return"Blackberry";if(aN(e))return"Webos";if(Iw(e))return"Safari";if((e.includes("chrome/")||rN(e))&&!e.includes("edge/"))return"Chrome";if(sN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function nN(t=Lt()){return/firefox\//i.test(t)}function Iw(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rN(t=Lt()){return/crios\//i.test(t)}function iN(t=Lt()){return/iemobile/i.test(t)}function sN(t=Lt()){return/android/i.test(t)}function oN(t=Lt()){return/blackberry/i.test(t)}function aN(t=Lt()){return/webos/i.test(t)}function Kh(t=Lt()){return/iphone|ipad|ipod/i.test(t)}function uN(t=Lt()){return Kh(t)||sN(t)||aN(t)||oN(t)||/windows phone/i.test(t)||iN(t)}function cN(t,e=[]){let n;switch(t){case"Browser":n=tN(Lt());break;case"Worker":n=`${tN(Lt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.7/${e.length?e.join(","):"FirebaseCore-web"}`}class iQ{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lN(this),this.idTokenSubscription=new lN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ka.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(j(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield jc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function j9(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?vr(e):null;return r&&j(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&j(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(xi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ni("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&xi(e)||n._popupRedirectResolver;j(r,n,"argument-error"),n.redirectPersistenceManager=yield ka.create(n,[xi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}function $n(t){return vr(t)}class lN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function e6(t,e){const n=new t6(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class fN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}function ki(t,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(t,e){return Mi(t,"POST","/v1/accounts:signInWithIdp",At(t,e))})).apply(this,arguments)}class Na extends fN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ow(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Na(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return ki(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ki(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ki(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}class os{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yN extends os{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let bQ=(()=>{class t extends yN{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Na._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch(s){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Gs._fromIdTokenResponse(e,r,i),o=vN(r);return new wr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=vN(r);return new wr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function vN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Xh extends ti{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xh(e,n,r,i)}}function wN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Xh._fromErrorAndOperation(t,s,e,r):s})}function qw(t,e){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(t,e,n=!1){const r=yield Ri(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return wr._forOperation(t,"link",r)})).apply(this,arguments)}function Ww(){return(Ww=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ri(t,wN(r,i,e,t),n);j(s.idToken,r,"internal-error");const o=zh(s.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(t.uid===a,r,"user-mismatch"),wr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Bn(r,"user-mismatch"),s}})).apply(this,arguments)}function Kw(){return(Kw=g(function*(t,e,n=!1){const r="signIn",i=yield wN(t,r,e),s=yield wr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const tf="__sak";class DN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HQ=(()=>{class t extends DN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jQ(){const t=Lt();return Iw(t)||Kh(t)}()&&function rQ(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=uN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function nQ(){return pk()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),CN=(()=>{class t extends DN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let GQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function qQ(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function bE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class zQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=bE("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xt(){return window}function TE(){return void 0!==xt().WorkerGlobalScope&&"function"==typeof xt().importScripts}function DE(){return(DE=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const SN="firebaseLocalStorageDb",nf="firebaseLocalStorage",AN="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function CE(){const t=indexedDB.open(SN,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nf,{keyPath:AN})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(nf)?e(r):(r.close(),yield function XQ(){const t=indexedDB.deleteDatabase(SN);return new qc(t).toPromise()}(),e(yield CE()))}))})}function xN(t,e,n){return SE.apply(this,arguments)}function SE(){return(SE=g(function*(t,e,n){const r=rf(t,!0).put({[AN]:e,value:n});return new qc(r).toPromise()})).apply(this,arguments)}function AE(){return(AE=g(function*(t,e){const n=rf(t,!1).get(e),r=yield new qc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function MN(t,e){const n=rf(t,!0).delete(e);return new qc(n).toPromise()}const nY=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield CE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return TE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=GQ._getInstance(function YQ(){return TE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function KQ(){return DE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new zQ(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function QQ(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield CE();return yield xN(n,tf,"1"),yield MN(n,tf),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>xN(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function ZQ(t,e){return AE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>MN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=rf(o,!1).getAll();return new qc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function kN(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Ws(t,e){return e?xi(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}kN("rcb"),new Uc(3e4,6e4);class UE extends fN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vY(t){return function bN(t,e){return Kw.apply(this,arguments)}(t.auth,new UE(t),t.bypassAuthState)}function wY(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),function IN(t,e){return Ww.apply(this,arguments)}(n,new UE(t),t.bypassAuthState)}function EY(t){return VE.apply(this,arguments)}function VE(){return(VE=g(function*(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),qw(n,new UE(t),t.bypassAuthState)})).apply(this,arguments)}new Uc(2e3,1e4);const of=new Map;class TY extends class IY{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vY;case"linkViaPopup":case"linkViaRedirect":return EY;case"reauthViaPopup":case"reauthViaRedirect":return wY;default:Bn(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=of.get(n.auth._key());if(!r){try{const s=(yield function DY(t,e){return qE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}of.set(n.auth._key(),r)}return n.bypassAuthState||of.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function qE(){return(qE=g(function*(t,e){const n=PN(e),r=ON(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function GE(t,e){return zE.apply(this,arguments)}function zE(){return(zE=g(function*(t,e){return ON(t)._set(PN(e),"true")})).apply(this,arguments)}function ON(t){return xi(t._redirectPersistence)}function PN(t){return Wh("pendingRedirect",t.config.apiKey,t.name)}function CY(t,e,n){return function SY(t,e,n){return WE.apply(this,arguments)}(t,e,n)}function WE(){return(WE=g(function*(t,e,n){const r=$n(t);Ra(t,e,os);const i=Ws(r,n);return yield GE(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function MY(t,e){return YE.apply(this,arguments)}function YE(){return(YE=g(function*(t,e){return yield $n(t)._initializationPromise,FN(t,e,!1)})).apply(this,arguments)}function FN(t,e){return JE.apply(this,arguments)}function JE(){return(JE=g(function*(t,e,n=!1){const r=$n(t),i=Ws(r,e),o=yield new TY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class kY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function NY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VN(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(UN(e))}saveEventToCache(e){this.cachedEventUids.add(UN(e)),this.lastProcessedEventTime=Date.now()}}function UN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VN({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function OY(t){return ZE.apply(this,arguments)}function ZE(){return(ZE=g(function*(t,e={}){return Vt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const PY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FY=/^https?/;function eI(){return(eI=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield OY(t);for(const n of e)try{if(UY(n))return}catch(r){}Bn(t,"unauthorized-domain")})).apply(this,arguments)}function UY(t){const e=Lc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!FY.test(n))return!1;if(PY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const VY=new Uc(3e4,6e4);function jN(){const t=xt().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let af=null;function BY(t){return af=af||function jY(t){return new Promise((e,n)=>{var r,i,s;function o(){jN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jN(),n(ri(t,"network-request-failed"))},timeout:VY.get()})}if(null===(i=null===(r=xt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=xt().gapi)||void 0===s?void 0:s.load)){const a=kN("iframefcb");return xt()[a]=()=>{gapi.load?o():n(ri(t,"network-request-failed"))},function RN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function oY(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw af=null,e})}(t),af}const $Y=new Uc(5e3,15e3),GY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WY(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cw(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Ta},i=zY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mc(r).slice(1)}`}function tI(){return tI=g(function*(t){const e=yield BY(t),n=xt().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:WY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GY,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ri(t,"network-request-failed"),u=xt().setTimeout(()=>{o(a)},$Y.get());function c(){xt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),tI.apply(this,arguments)}const QY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class BN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function $N(t,e,n,r,i,s){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:i};if(e instanceof os){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function Z8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof yN){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function iJ({config:t}){return t.emulator?cw(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Mc(a).slice(1)}`}const nI="webStorageSupport",oJ=class sJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CN,this._completeRedirectFn=FN}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;is(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=$N(e,n,r,Lc(),i);return function eJ(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},QY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Lt().toLowerCase();n&&(a=rN(c)?"_blank":n),nN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function tQ(t=Lt()){var e;return Kh(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function tJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new BN(null);const d=window.open(e||"",a,l);j(d,t,"popup-blocked");try{d.focus()}catch(h){}return new BN(d)}(e,a,bE())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function WQ(t){xt().location.href=t}($N(e,n,r,Lc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(is(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function KY(t){return tI.apply(this,arguments)}(e),i=new kY(e);return r.register("authEvent",s=>(j(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nI,{type:nI},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[nI];void 0!==o&&n(!!o),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function LY(t){return eI.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uN()||Iw()||Kh()}};var qN="@firebase/auth";class aJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lJ(t=o_()){const e=ba(t,"auth");return e.isInitialized()?e.getImmediate():function L9(t,e){const n=ba(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Sh(n.getOptions(),null!=e?e:{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:oJ,persistence:[nY,HQ,CN]})}!function cJ(t){Vn(new An("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{j(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),j(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cN(t)},u=new iQ(o,a);return function U9(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vn(new An("auth-internal",e=>{const n=$n(e.getProvider("auth").getImmediate());return new aJ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(qN,"0.19.9",function uJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),st(qN,"0.19.9","esm2017")}("Browser");class uf{constructor(e){return e}}class WN{constructor(){return Uv("auth")}}const rI=new we("angularfire2.auth-instances");function hJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new uf(r)}}const fJ={provide:WN,deps:[[new ct,rI]]},pJ={provide:uf,useFactory:function dJ(t,e){const n=Lv("auth",t,e);return n&&new uf(n)},deps:[[new ct,rI],Ma]};let gJ=(()=>{class t{constructor(){st("angularfire",Ph.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:[pJ,fJ]}),t})();function mJ(t,...e){return{ngModule:gJ,providers:[{provide:rI,useFactory:hJ(t),multi:!0,deps:[Je,Dt,Vv,jv,[new ct,rw],...e]}]}}const yJ=rs(lJ,!0),_J=rs(MY,!0),vJ=rs(CY,!0);let wJ=(()=>{class t{constructor(n){this.auth=n,this.auth.onAuthStateChanged(r=>{r||localStorage.setItem("user","")})}login(){var n=this;return g(function*(){vJ(n.auth,new bQ)})()}storeUser(){var n=this;return g(function*(){const r=yield _J(n.auth);r&&localStorage.setItem("user",JSON.stringify(r.user))})()}logout(){var n=this;return g(function*(){yield n.auth.signOut()})()}}return t.\u0275fac=function(n){return new(n||t)(Q(uf))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var W,EJ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ni={},iI=iI||{},ce=EJ||self;function cf(){}function sI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oI="closure_uid_"+(1e9*Math.random()>>>0),bJ=0;function TJ(t,e,n){return t.call.apply(t.bind,arguments)}function DJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?TJ:DJ).apply(null,arguments)}function lf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function as(){this.s=this.s,this.o=this.o}var SJ={};as.prototype.s=!1,as.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function IJ(t){return Object.prototype.hasOwnProperty.call(t,oI)&&t[oI]||(t[oI]=++bJ)}(this);delete SJ[t]}},as.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},QN=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function YN(t){return Array.prototype.concat.apply([],arguments)}function aI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function df(t){return/^[\s\xa0]*$/.test(t)}var Rn,JN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Mn(t,e){return-1!=t.indexOf(e)}function uI(t,e){return t<e?-1:t>e?1:0}e:{var XN=ce.navigator;if(XN){var ZN=XN.userAgent;if(ZN){Rn=ZN;break e}}Rn=""}function cI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function eO(t){const e={};for(const n in t)e[n]=t[n];return e}var tO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<tO.length;s++)n=tO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lI(t){return lI[" "](t),t}lI[" "]=cf;var hf,t,MJ=Mn(Rn,"Opera"),Oa=Mn(Rn,"Trident")||Mn(Rn,"MSIE"),rO=Mn(Rn,"Edge"),dI=rO||Oa,iO=Mn(Rn,"Gecko")&&!(Mn(Rn.toLowerCase(),"webkit")&&!Mn(Rn,"Edge"))&&!(Mn(Rn,"Trident")||Mn(Rn,"MSIE"))&&!Mn(Rn,"Edge"),RJ=Mn(Rn.toLowerCase(),"webkit")&&!Mn(Rn,"Edge");function sO(){var t=ce.document;return t?t.documentMode:void 0}e:{var hI="",fI=(t=Rn,iO?/rv:([^\);]+)(\)|;)/.exec(t):rO?/Edge\/([\d\.]+)/.exec(t):Oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):RJ?/WebKit\/(\S+)/.exec(t):MJ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(fI&&(hI=fI?fI[1]:""),Oa){var pI=sO();if(null!=pI&&pI>parseFloat(hI)){hf=String(pI);break e}}hf=hI}var kJ={};var OJ=ce.document&&Oa&&(sO()||parseInt(hf,10))||void 0,PJ=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",cf,e),ce.removeEventListener("test",cf,e)}catch(n){}return t}();function mn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function zc(t,e){if(mn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iO){e:{try{lI(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:FJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zc.Z.h.call(this)}}mn.prototype.h=function(){this.defaultPrevented=!0},nn(zc,mn);var FJ={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wc="closure_listenable_"+(1e6*Math.random()|0),LJ=0;function UJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++LJ,this.ca=this.fa=!1}function ff(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function pf(t){this.src=t,this.g={},this.h=0}function mI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=KN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ff(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}pf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=yI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new UJ(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var _I="closure_lm_"+(1e6*Math.random()|0),vI={};function aO(t,e,n,r,i){if(r&&r.once)return cO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)aO(t,e[s],n,r,i);return null}return n=bI(n),t&&t[Wc]?t.N(e,n,Gc(r)?!!r.capture:!!r,i):uO(t,e,n,!1,r,i)}function uO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gc(i)?!!i.capture:!!i,a=EI(t);if(a||(t[_I]=a=new pf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function VJ(){var e=jJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)PJ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cO(t,e[s],n,r,i);return null}return n=bI(n),t&&t[Wc]?t.O(e,n,Gc(r)?!!r.capture:!!r,i):uO(t,e,n,!0,r,i)}function lO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lO(t,e[s],n,r,i);else r=Gc(r)?!!r.capture:!!r,n=bI(n),t&&t[Wc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=yI(s=t.g[e],n,r,i))&&(ff(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=EI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yI(e,n,r,i)),(n=-1<t?e[t]:null)&&wI(n))}function wI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Wc])mI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=EI(e))?(mI(n,t),0==n.h&&(n.src=null,e[_I]=null)):ff(t)}}}function dO(t){return t in vI?vI[t]:vI[t]="on"+t}function jJ(t,e){if(t.ca)t=!0;else{e=new zc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&wI(t),t=n.call(r,e)}return t}function EI(t){return(t=t[_I])instanceof pf?t:null}var II="__closure_events_fn_"+(1e9*Math.random()>>>0);function bI(t){return"function"==typeof t?t:(t[II]||(t[II]=function(e){return t.handleEvent(e)}),t[II])}function jt(){as.call(this),this.i=new pf(this),this.P=this,this.I=null}function rn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new mn(e,t);else if(e instanceof mn)e.target=e.target||t;else{var i=e;nO(e=new mn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=gf(o,r,!0,e)&&i}if(i=gf(o=e.g=t,r,!0,e)&&i,i=gf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=gf(o=e.g=n[s],r,!1,e)&&i}function gf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&mI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}nn(jt,as),jt.prototype[Wc]=!0,jt.prototype.removeEventListener=function(t,e,n,r){lO(this,t,e,n,r)},jt.prototype.M=function(){if(jt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ff(n[r]);delete t.g[e],t.h--}}this.I=null},jt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var TI=ce.JSON.stringify;function BJ(){var t=fO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var CI,hO=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new HJ,t=>t.reset());class HJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qJ(t){ce.setTimeout(()=>{throw t},0)}function DI(t,e){CI||function GJ(){var t=ce.Promise.resolve(void 0);CI=function(){t.then(zJ)}}(),SI||(CI(),SI=!0),fO.add(t,e)}var SI=!1,fO=new class $J{constructor(){this.h=this.g=null}add(e,n){const r=hO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function zJ(){for(var t;t=BJ();){try{t.h.call(t.g)}catch(n){qJ(n)}var e=hO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}SI=!1}function mf(t,e){jt.call(this),this.h=t||1,this.g=e||ce,this.j=tn(this.kb,this),this.l=Date.now()}function AI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function xI(t,e,n){if("function"==typeof t)n&&(t=tn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function pO(t){t.g=xI(()=>{t.g=null,t.i&&(t.i=!1,pO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}nn(mf,jt),(W=mf.prototype).da=!1,W.S=null,W.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rn(this,"tick"),this.da&&(AI(this),this.start()))}},W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.M=function(){mf.Z.M.call(this),AI(this),delete this.g};class WJ extends as{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pO(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kc(t){as.call(this),this.h=t,this.g={}}nn(Kc,as);var gO=[];function mO(t,e,n,r){Array.isArray(n)||(n&&(gO[0]=n.toString()),n=gO);for(var i=0;i<n.length;i++){var s=aO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function yO(t){cI(t.g,function(e,n){this.g.hasOwnProperty(n)&&wI(e)},t),t.g={}}function yf(){this.g=!0}function Pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function JJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return TI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Kc.prototype.M=function(){Kc.Z.M.call(this),yO(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yf.prototype.Aa=function(){this.g=!1},yf.prototype.info=function(){};var Ks={},_O=null;function _f(){return _O=_O||new jt}function vO(t){mn.call(this,Ks.Ma,t)}function Qc(t){const e=_f();rn(e,new vO(e,t))}function wO(t,e){mn.call(this,Ks.STAT_EVENT,t),this.stat=e}function kn(t){const e=_f();rn(e,new wO(e,t))}function EO(t,e){mn.call(this,Ks.Na,t),this.size=e}function Yc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}Ks.Ma="serverreachability",nn(vO,mn),Ks.STAT_EVENT="statevent",nn(wO,mn),Ks.Na="timingevent",nn(EO,mn);var vf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},IO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function MI(){}function TO(){}MI.prototype.h=null;var NI,Jc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function RI(){mn.call(this,"d")}function kI(){mn.call(this,"c")}function wf(){}function Xc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Kc(this),this.P=XJ,this.W=new mf(t=dI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new DO}function DO(){this.i=null,this.g="",this.h=!1}nn(RI,mn),nn(kI,mn),nn(wf,MI),wf.prototype.g=function(){return new XMLHttpRequest},wf.prototype.i=function(){return{}},NI=new wf;var XJ=45e3,OI={},Ef={};function PI(t,e,n){t.K=1,t.v=Cf(Oi(e)),t.s=n,t.U=!0,CO(t,null)}function CO(t,e){t.F=Date.now(),Zc(t),t.A=Oi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),PO(n.h,"t",r),t.C=0,n=t.l.H,t.h=new DO,t.g=iP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new WJ(tn(t.Ia,t,t.g),t.O)),mO(t.V,t.g,"readystatechange",t.gb),e=t.H?eO(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Qc(1),function KJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function SO(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function AO(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=ZJ(t,n),i==Ef){4==e&&(t.o=4,kn(14),r=!1),Pa(t.j,t.m,null,"[Incomplete Response]");break}if(i==OI){t.o=4,kn(15),Pa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Pa(t.j,t.m,i,null),FI(t,i)}SO(t)&&i!=Ef&&i!=OI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,kn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),WI(e),e.L=!0,kn(11))):(Pa(t.j,t.m,n,"[Invalid Chunked Response]"),Qs(t),el(t))}function ZJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ef:(n=Number(e.substring(n,r)),isNaN(n)?OI:(r+=1)+n>e.length?Ef:(e=e.substr(r,n),t.C=r+n,e))}function Zc(t){t.Y=Date.now()+t.P,xO(t,t.P)}function xO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Yc(tn(t.eb,t),e)}function If(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}function el(t){0==t.l.G||t.I||eP(t.l,t)}function Qs(t){If(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,AI(t.W),yO(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function FI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||VI(n.i,t)))if(n.I=t.N,!t.J&&VI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Yc(tn(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;kf(n),Mf(n)}zI(n),kn(18)}if(1>=UO(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Xs(n,11)}else if((t.J||n.g==t)&&kf(n),!df(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Mn(p,"spdy")||Mn(p,"quic")||Mn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(jI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ke(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=rP(r,r.H?r.la:null,r.W),o.J){VO(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(If(a),Zc(a)),r.g=o}else XO(r);0<n.l.length&&Rf(n)}else"stop"!=c[0]&&"close"!=c[0]||Xs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xs(n,7):qI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Qc(4)}catch(c){}}function LI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(sI(t)||"string"==typeof t)QN(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(sI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function eX(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(sI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Fa(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fa)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function UI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ys(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ys(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ys(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(W=Xc.prototype).setTimeout=function(t){this.P=t},W.gb=function(t){t=t.target;const e=this.L;e&&3==Pi(t)?e.l():this.Ia(t)},W.Ia=function(t){try{if(t==this.g)e:{const l=Pi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||dI||this.g&&(this.h.h||this.g.ga()||WO(this.g)))){this.I||4!=l||7==e||Qc(8==e||0>=d?3:2),If(this);var n=this.g.ba();this.N=n;t:if(SO(this)){var r=WO(this.g);t="";var i=r.length,s=4==Pi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qs(this),el(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function QJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!df(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,kn(12),Qs(this),el(this);break e}Pa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,FI(this,n)}this.U?(AO(this,l,o),dI&&this.i&&3==l&&(mO(this.V,this.W,"tick",this.fb),this.W.start())):(Pa(this.j,this.m,o,null),FI(this,o)),4==l&&Qs(this),this.i&&!this.I&&(4==l?eP(this.l,this):(this.i=!1,Zc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),Qs(this),el(this)}}}catch(l){}},W.fb=function(){if(this.g){var t=Pi(this.g),e=this.g.ga();this.C<e.length&&(If(this),AO(this,t,e),this.i&&4!=t&&Zc(this))}},W.cancel=function(){this.I=!0,Qs(this)},W.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function YJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qc(3),kn(17)),Qs(this),this.o=2,el(this)):xO(this,this.Y-t)},(W=Fa.prototype).R=function(){UI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},W.T=function(){return UI(this),this.g.concat()},W.get=function(t,e){return Ys(this.h,t)?this.h[t]:e},W.set=function(t,e){Ys(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},W.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var MO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Js(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Js){this.g=void 0!==e?e:t.g,bf(this,t.j),this.s=t.s,Tf(this,t.i),Df(this,t.m),this.l=t.l,e=t.h;var n=new rl;n.i=e.i,e.g&&(n.g=new Fa(e.g),n.h=e.h),RO(this,n),this.o=t.o}else t&&(n=String(t).match(MO))?(this.g=!!e,bf(this,n[1]||"",!0),this.s=tl(n[2]||""),Tf(this,n[3]||"",!0),Df(this,n[4]),this.l=tl(n[5]||"",!0),RO(this,n[6]||"",!0),this.o=tl(n[7]||"")):(this.g=!!e,this.h=new rl(null,this.g))}function Oi(t){return new Js(t)}function bf(t,e,n){t.j=n?tl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Tf(t,e,n){t.i=n?tl(e,!0):e}function Df(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RO(t,e,n){e instanceof rl?(t.h=e,function cX(t,e){e&&!t.j&&(us(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(NO(this,r),PO(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=nl(e,aX)),t.h=new rl(e,t.g))}function Ke(t,e,n){t.h.set(e,n)}function Cf(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,iX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iX(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nl(e,kO,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nl(e,kO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(nl(n,"/"==n.charAt(0)?oX:sX,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nl(n,uX)),t.join("")};var kO=/[#\/\?@]/g,sX=/[#\?:]/g,oX=/[#\?]/g,aX=/[#\?@]/g,uX=/#/g;function rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function us(t){t.g||(t.g=new Fa,t.h=0,t.i&&function tX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function NO(t,e){us(t),e=La(t,e),Ys(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ys((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&UI(t)))}function OO(t,e){return us(t),e=La(t,e),Ys(t.g.h,e)}function PO(t,e,n){NO(t,e),0<n.length&&(t.i=null,t.g.set(La(t,e),aI(n)),t.h+=n.length)}function La(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FO(t){this.l=t||dX,t=ce.PerformanceNavigationTiming?0<(t=ce.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=rl.prototype).add=function(t,e){us(this),this.i=null,t=La(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},W.forEach=function(t,e){us(this),this.g.forEach(function(n,r){QN(n,function(i){t.call(e,i,r,this)},this)},this)},W.T=function(){us(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},W.R=function(t){us(this);var e=[];if("string"==typeof t)OO(this,t)&&(e=YN(e,this.g.get(La(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=YN(e,t[n])}return e},W.set=function(t,e){return us(this),this.i=null,OO(this,t=La(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},W.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var dX=10;function LO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function UO(t){return t.h?1:t.g?t.g.size:0}function VI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function jI(t,e){t.g?t.g.add(e):t.h=e}function VO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jO(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return aI(t.i)}function BI(){}function hX(){this.g=new BI}function fX(t,e,n){const r=n||"";try{LI(t,function(i,s){let o=i;Gc(i)&&(o=TI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function il(t){this.l=t.$b||null,this.j=t.ib||!1}function Af(t,e){jt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=$I,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FO.prototype.cancel=function(){if(this.i=jO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},BI.prototype.stringify=function(t){return ce.JSON.stringify(t,void 0)},BI.prototype.parse=function(t){return ce.JSON.parse(t,void 0)},nn(il,MI),il.prototype.g=function(){return new Af(this.l,this.j)},il.prototype.i=function(t){return function(){return t}}({}),nn(Af,jt);var $I=0;function BO(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function sl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ol(t)}function ol(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(W=Af.prototype).open=function(t,e){if(this.readyState!=$I)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ol(this)},W.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sl(this)),this.readyState=$I},W.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ce.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BO(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},W.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sl(this):ol(this),3==this.readyState&&BO(this)}},W.Ua=function(t){this.g&&(this.response=this.responseText=t,sl(this))},W.Ta=function(t){this.g&&(this.response=t,sl(this))},W.ha=function(){this.g&&sl(this)},W.setRequestHeader=function(t,e){this.v.append(t,e)},W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Af.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var gX=ce.JSON.parse;function yt(t){jt.call(this),this.headers=new Fa,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$O,this.K=this.L=!1}nn(yt,jt);var $O="",mX=/^https?$/i,yX=["POST","PUT"];function vX(t){return"content-type"==t.toLowerCase()}function HO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qO(t),xf(t)}function qO(t){t.D||(t.D=!0,rn(t,"complete"),rn(t,"error"))}function GO(t){if(t.h&&void 0!==iI&&(!t.C[1]||4!=Pi(t)||2!=t.ba()))if(t.v&&4==Pi(t))xI(t.Fa,0,t);else if(rn(t,"readystatechange"),4==Pi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(MO)[1]||null;if(!i&&ce.self&&ce.self.location){var s=ce.self.location.protocol;i=s.substr(0,s.length-1)}r=!mX.test(i?i.toLowerCase():"")}n=r}if(n)rn(t,"complete"),rn(t,"success");else{t.m=6;try{var o=2<Pi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",qO(t)}}finally{xf(t)}}}function xf(t,e){if(t.g){zO(t);const n=t.g,r=t.C[0]?cf:null;t.g=null,t.C=null,e||rn(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function zO(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}function Pi(t){return t.g?t.g.readyState:0}function WO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case $O:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function HI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function wX(t){let e="";return cI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ke(t,e,n))}function al(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KO(t){this.za=0,this.l=[],this.h=new yf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=al("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=al("baseRetryDelayMs",5e3,t),this.$a=al("retryDelaySeedMs",1e4,t),this.Ya=al("forwardChannelMaxRetries",2,t),this.ra=al("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new FO(t&&t.concurrentRequestLimit),this.Ca=new hX,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function qI(t){if(QO(t),3==t.G){var e=t.V++,n=Oi(t.F);Ke(n,"SID",t.J),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),ul(t,n),(e=new Xc(t,t.h,e,void 0)).K=2,e.v=Cf(Oi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(e.v.toString(),"")),!n&&ce.Image&&((new Image).src=e.v,n=!0),n||(e.g=iP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Zc(e)}nP(t)}function Mf(t){t.g&&(WI(t),t.g.cancel(),t.g=null)}function QO(t){Mf(t),t.u&&(ce.clearTimeout(t.u),t.u=null),kf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ce.clearTimeout(t.m),t.m=null)}function GI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Rf(t)}function Rf(t){LO(t.i)||t.m||(t.m=!0,DI(t.Ha,t),t.C=0)}function YO(t,e){var n;n=e?e.m:t.V++;const r=Oi(t.F);Ke(r,"SID",t.J),Ke(r,"RID",n),Ke(r,"AID",t.U),ul(t,r),t.o&&t.s&&HI(r,t.o,t.s),n=new Xc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=JO(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),jI(t.i,n),PI(n,r,e)}function ul(t,e){t.j&&LI({},function(n,r){Ke(e,r,n)})}function JO(t,e,n){n=Math.min(t.l.length,n);var r=t.j?tn(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{fX(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function XO(t){t.g||t.u||(t.Y=1,DI(t.Ga,t),t.A=0)}function zI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Yc(tn(t.Ga,t),tP(t,t.A)),t.A++,0))}function WI(t){null!=t.B&&(ce.clearTimeout(t.B),t.B=null)}function ZO(t){t.g=new Xc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Oi(t.oa);Ke(e,"RID","rpc"),Ke(e,"SID",t.J),Ke(e,"CI",t.N?"0":"1"),Ke(e,"AID",t.U),ul(t,e),Ke(e,"TYPE","xmlhttp"),t.o&&t.s&&HI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Cf(Oi(e)),n.s=null,n.U=!0,CO(n,t)}function kf(t){null!=t.v&&(ce.clearTimeout(t.v),t.v=null)}function eP(t,e){var n=null;if(t.g==e){kf(t),WI(t),t.g=null;var r=2}else{if(!VI(t.i,e))return;n=e.D,VO(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;rn(r=_f(),new EO(r,n,e,i)),Rf(t)}else XO(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function EX(t,e){return!(UO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Yc(tn(t.Ha,t,e),tP(t,t.C)),t.C++,0)))}(t,e)||2==r&&zI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xs(t,5);break;case 4:Xs(t,10);break;case 3:Xs(t,6);break;default:Xs(t,2)}}function tP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Xs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=tn(t.jb,t);n||(n=new Js("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||bf(n,"https"),Cf(n)),function pX(t,e){const n=new yf;if(ce.Image){const r=new Image;r.onload=lf(Sf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lf(Sf,n,r,"TestLoadImage: error",!1,e),r.onabort=lf(Sf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lf(Sf,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else kn(2);t.G=0,t.j&&t.j.va(e),nP(t),QO(t)}function nP(t){t.G=0,t.I=-1,t.j&&((0!=jO(t.i).length||0!=t.l.length)&&(t.i.i.length=0,aI(t.l),t.l.length=0),t.j.ua())}function rP(t,e,n){let r=function nX(t){return t instanceof Js?Oi(t):new Js(t,void 0)}(n);if(""!=r.i)e&&Tf(r,e+"."+r.i),Df(r,r.m);else{const i=ce.location;r=function rX(t,e,n,r){var i=new Js(null,void 0);return t&&bf(i,t),e&&Tf(i,e),n&&Df(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&cI(t.aa,function(i,s){Ke(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ke(r,e,n),Ke(r,"VER",t.ma),ul(t,r),r}function iP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yt(n&&t.Ba&&!t.qa?new il({ib:!0}):t.qa)).L=t.H,e}function sP(){}function Nf(){if(Oa&&!(10<=Number(OJ)))throw Error("Environmental error: no available transport.")}function rr(t,e){jt.call(this),this.g=new KO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!df(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!df(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ua(this)}function oP(t){RI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function aP(){kI.call(this),this.status=1}function Ua(t){this.g=t}(W=yt.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NI.g(),this.C=function bO(t){return t.h||(t.h=t.i())}(this.u?this.u:NI),this.g.onreadystatechange=tn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void HO(this,s)}t=n||"";const i=new Fa(this.headers);r&&LI(r,function(s,o){i.set(o,s)}),r=function AJ(t){e:{var e=vX;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=ce.FormData&&t instanceof ce.FormData,!(0<=KN(yX,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zO(this),0<this.B&&((this.K=function _X(t){return Oa&&function NJ(){return function xJ(t){var e=kJ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=JN(String(hf)).split("."),n=JN("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=uI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||uI(0==i[2].length,0==s[2].length)||uI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.pa,this)):this.A=xI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){HO(this,s)}},W.pa=function(){void 0!==iI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rn(this,"complete"),rn(this,"abort"),xf(this))},W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xf(this,!0)),yt.Z.M.call(this)},W.Fa=function(){this.s||(this.F||this.v||this.l?GO(this):this.cb())},W.cb=function(){GO(this)},W.ba=function(){try{return 2<Pi(this)?this.g.status:-1}catch(t){return-1}},W.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},W.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gX(e)}},W.Da=function(){return this.m},W.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=KO.prototype).ma=8,W.G=1,W.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},W.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Xc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=eO(s),nO(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=JO(this,i,e),Ke(n=Oi(this.F),"RID",t),Ke(n,"CVER",22),this.D&&Ke(n,"X-HTTP-Session-Id",this.D),ul(this,n),this.o&&s&&HI(n,this.o,s),jI(this.i,i),this.Ra&&Ke(n,"TYPE","init"),this.ja?(Ke(n,"$req",e),Ke(n,"SID","null"),i.$=!0,PI(i,n,null)):PI(i,n,e),this.G=2}}else 3==this.G&&(t?YO(this,t):0==this.l.length||LO(this.i)||YO(this))},W.Ga=function(){if(this.u=null,ZO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Yc(tn(this.bb,this),t)}},W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),Mf(this),ZO(this))},W.ab=function(){null!=this.v&&(this.v=null,Mf(this),zI(this),kn(19))},W.jb=function(t){t?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(W=sP.prototype).xa=function(){},W.wa=function(){},W.va=function(){},W.ua=function(){},W.Oa=function(){},Nf.prototype.g=function(t,e){return new rr(t,e)},nn(rr,jt),rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),DI(tn(t.hb,t,e))),kn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=rP(t,null,t.W),Rf(t)},rr.prototype.close=function(){qI(this.g)},rr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,GI(this.g,e)}else this.v?((e={}).__data__=TI(t),GI(this.g,e)):GI(this.g,t)},rr.prototype.M=function(){this.g.j=null,delete this.j,qI(this.g),delete this.g,rr.Z.M.call(this)},nn(oP,RI),nn(aP,kI),nn(Ua,sP),Ua.prototype.xa=function(){rn(this.g,"a")},Ua.prototype.wa=function(t){rn(this.g,new oP(t))},Ua.prototype.va=function(t){rn(this.g,new aP(t))},Ua.prototype.ua=function(){rn(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,vf.NO_ERROR=0,vf.TIMEOUT=8,vf.HTTP_ERROR=6,IO.COMPLETE="complete",TO.EventType=Jc,Jc.OPEN="a",Jc.CLOSE="b",Jc.ERROR="c",Jc.MESSAGE="d",jt.prototype.listen=jt.prototype.N,yt.prototype.listenOnce=yt.prototype.O,yt.prototype.getLastError=yt.prototype.La,yt.prototype.getLastErrorCode=yt.prototype.Da,yt.prototype.getStatus=yt.prototype.ba,yt.prototype.getResponseJson=yt.prototype.Qa,yt.prototype.getResponseText=yt.prototype.ga,yt.prototype.send=yt.prototype.ea;var IX=Ni.createWebChannelTransport=function(){return new Nf},bX=Ni.getStatEventTarget=function(){return _f()},KI=Ni.ErrorCode=vf,TX=Ni.EventType=IO,DX=Ni.Event=Ks,uP=Ni.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},CX=Ni.FetchXmlHttpFactory=il,Of=Ni.WebChannel=TO,SX=Ni.XhrIo=yt;const cP="@firebase/firestore";class sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Va="9.6.7";const cs=new Ia("@firebase/firestore");function QI(){return cs.logLevel}function N(t,...e){if(cs.logLevel<=Re.DEBUG){const n=e.map(YI);cs.debug(`Firestore (${Va}): ${t}`,...n)}}function _t(t,...e){if(cs.logLevel<=Re.ERROR){const n=e.map(YI);cs.error(`Firestore (${Va}): ${t}`,...n)}}function Pf(t,...e){if(cs.logLevel<=Re.WARN){const n=e.map(YI);cs.warn(`Firestore (${Va}): ${t}`,...n)}}function YI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function X(t="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+t;throw _t(e),new Error(e)}function oe(t,e){t||X()}function B(t,e){return t}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class lP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class MX{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken),new lP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e),new sn(e)}}class RX{constructor(e,n,r){this.type="FirstParty",this.user=sn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class kX{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new RX(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NX{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe("string"==typeof n.token),this.p=n.token,new dP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ir{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function OX(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}ir.A=-1;class hP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function ja(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class on{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new on(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new on(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class cl{constructor(e,n,r){void 0===n?n=0:n>e.length&&X(),void 0===r?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===cl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends cl{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const PX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends cl{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return PX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new k(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new k(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new k(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class Ba{constructor(e){this.fields=e,e.sort(an.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const FX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(oe(!!t),"string"==typeof t){let e=0;const n=FX.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function eo(t){return"string"==typeof t?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function JI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mP(t){const e=t.mapValue.fields.__previous_value__;return JI(e)?mP(e):e}function ll(t){const e=ls(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}class LX{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class $a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}function to(t){return null==t}function dl(t){return 0===t&&1/t==-1/0}class G{constructor(e){this.path=e}static fromPath(e){return new G(Oe.fromString(e))}static fromName(e){return new G(Oe.fromString(e).popFirst(5))}static empty(){return new G(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Oe(e.slice()))}}const UX={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function no(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JI(t)?4:10:X()}function jr(t,e){if(t===e)return!0;const n=no(t);if(n!==no(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ls(r.timestampValue),o=ls(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,eo(t.bytesValue).isEqual(eo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ot(r.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ot(r.integerValue)===ot(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ot(r.doubleValue),o=ot(i.doubleValue);return s===o?dl(s)===dl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ja(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pP(s)!==pP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!jr(s[a],o[a])))return!1;return!0}(t,e);default:return X()}var i}function hl(t,e){return void 0!==(t.values||[]).find(n=>jr(n,e))}function Ha(t,e){if(t===e)return 0;const n=no(t),r=no(e);if(n!==r)return xe(n,r);switch(n){case 0:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ot(i.integerValue||i.doubleValue),a=ot(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return _P(t.timestampValue,e.timestampValue);case 4:return _P(ll(t),ll(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=eo(i),a=eo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=xe(o[u],a[u]);if(0!==c)return c}return xe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=xe(ot(i.latitude),ot(s.latitude));return 0!==o?o:xe(ot(i.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ha(o[u],a[u]);if(c)return c}return xe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=xe(a[l],c[l]);if(0!==d)return d;const h=Ha(o[a[l]],u[c[l]]);if(0!==h)return h}return xe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function _P(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xe(t,e);const n=ls(t),r=ls(e),i=xe(n.seconds,r.seconds);return 0!==i?i:xe(n.nanos,r.nanos)}function qa(t){return XI(t)}function XI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ls(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?eo(t.bytesValue).toBase64():"referenceValue"in t?G.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=XI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${XI(r.fields[a])}`;return s+"}"}(t.mapValue):X();var e}function ZI(t){return!!t&&"integerValue"in t}function Lf(t){return!!t&&"arrayValue"in t}function vP(t){return!!t&&"nullValue"in t}function wP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=an.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yn(fl(this.value))}}function EP(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new an([n]);if(Uf(r)){const s=EP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ba(e)}class Ze{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ze(e,0,re.min(),re.min(),yn.empty(),0)}static newFoundDocument(e,n,r){return new Ze(e,1,n,re.min(),r,0)}static newNoDocument(e,n){return new Ze(e,2,n,re.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ze(e,3,n,re.min(),yn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class VX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function IP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new VX(t,e,n,r,i,s,o)}function gl(t){const e=B(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+qa(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),to(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qa(r)).join(",")),e.P=n}return e.P}function Bf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!KX(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!jr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DP(t.startAt,e.startAt)&&DP(t.endAt,e.endAt)}function $f(t){return G.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Nn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.v(e,n,r):new BX(e,n,r):"array-contains"===n?new qX(e,r):"in"===n?new GX(e,r):"not-in"===n?new zX(e,r):"array-contains-any"===n?new WX(e,r):new Nn(e,n,r)}static v(e,n,r){return"in"===n?new $X(e,r):new HX(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.V(Ha(n,this.value)):null!==n&&no(this.value)===no(n)&&this.V(Ha(n,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return X()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class BX extends Nn{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.V(n)}}class $X extends Nn{constructor(e,n){super(e,"in",n),this.keys=bP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HX extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=bP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class qX extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lf(n)&&hl(n.arrayValue,this.value)}}class GX extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&hl(this.value.arrayValue,n)}}class zX extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!hl(this.value.arrayValue,n)}}class WX extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hl(this.value.arrayValue,r))}}class Ga{constructor(e,n){this.position=e,this.inclusive=n}}class za{constructor(e,n="asc"){this.field=e,this.dir=n}}function KX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function TP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?G.comparator(G.fromName(o.referenceValue),n.key):Ha(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DP(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}class Fi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function Wa(t){return new Fi(t)}function Hf(t){return!to(t.limit)&&"F"===t.limitType}function qf(t){return!to(t.limit)&&"L"===t.limitType}function Ka(t){const e=B(t);if(null===e.D){e.D=[];const n=function nb(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function tb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new za(n)),e.D.push(new za(an.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new za(an.keyField(),s))}}}return e.D}function Er(t){const e=B(t);if(!e.C)if("F"===e.limitType)e.C=IP(e.path,e.collectionGroup,Ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ka(e))n.push(new za(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ga(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Ga(e.startAt.position,!e.startAt.inclusive):null;e.C=IP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function ml(t,e){return Bf(Er(t),Er(e))&&t.limitType===e.limitType}function AP(t){return`${gl(Er(t))}|lt:${t.limitType}`}function ib(t){return`Query(target=${function jX(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${qa(r.value)}`;var r}).join(", ")}]`),to(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>qa(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>qa(n)).join(",")),`Target(${e})`}(Er(t))}; limitType=${t.limitType})`}function sb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):G.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=TP(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ka(n),r)||n.endAt&&!function(i,s,o){const a=TP(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ka(n),r)));var n,r}function xP(t){return(e,n)=>{let r=!1;for(const i of Ka(t)){const s=QX(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function QX(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ha(a,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}function MP(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function RP(t){return{integerValue:""+t}}function kP(t,e){return function yP(t){return"number"==typeof t&&Number.isInteger(t)&&!dl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?RP(e):MP(t,e)}class Gf{constructor(){this._=void 0}}function YX(t,e,n){return t instanceof Qa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ro?OP(t,e):t instanceof io?PP(t,e):function(r,i){const s=NP(r,i),o=FP(s)+FP(r.k);return ZI(s)&&ZI(r.k)?RP(o):MP(r.O,o)}(t,e)}function JX(t,e,n){return t instanceof ro?OP(t,e):t instanceof io?PP(t,e):n}function NP(t,e){return t instanceof Ya?ZI(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Qa extends Gf{}class ro extends Gf{constructor(e){super(),this.elements=e}}function OP(t,e){const n=LP(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class io extends Gf{constructor(e){super(),this.elements=e}}function PP(t,e){let n=LP(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class Ya extends Gf{constructor(e,n){super(),this.O=e,this.k=n}}function FP(t){return ot(t.integerValue||t.doubleValue)}function LP(t){return Lf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ZX{constructor(e,n){this.version=e,this.transformResults=n}}class vt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vt}static exists(e){return new vt(void 0,e)}static updateTime(e){return new vt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Wf{}function eZ(t,e,n){t instanceof _l?function(r,i,s){const o=r.value.clone(),a=BP(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof so?function(r,i,s){if(!zf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=BP(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(jP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ob(t,e,n){var i;t instanceof _l?function(r,i,s){if(!zf(r.precondition,i))return;const o=r.value.clone(),a=$P(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(VP(i),o).setHasLocalMutations()}(t,e,n):t instanceof so?function(r,i,s){if(!zf(r.precondition,i))return;const o=$P(r.fieldTransforms,s,i),a=i.data;a.setAll(jP(r)),a.setAll(o),i.convertToFoundDocument(VP(i),a).setHasLocalMutations()}(t,e,n):zf(t.precondition,i=e)&&i.convertToNoDocument(re.min())}function tZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=NP(r.transform,i||null);null!=s&&(null==n&&(n=yn.empty()),n.set(r.field,s))}return n||null}function UP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ja(n,r,(i,s)=>function XX(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ro&&r instanceof ro||n instanceof io&&r instanceof io?ja(n.elements,r.elements,jr):n instanceof Ya&&r instanceof Ya?jr(n.k,r.k):n instanceof Qa&&r instanceof Qa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function VP(t){return t.isFoundDocument()?t.version:re.min()}class _l extends Wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class so extends Wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function jP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function BP(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JX(o,a,n[i]))}return r}function $P(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YX(s,o,e))}return r}class vl extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class ab extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class nZ{constructor(e){this.count=e}}var wt,ke;function HP(t){switch(t){default:return X();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function qP(t){if(void 0===t)return _t("GRPC error has no .code"),b.UNKNOWN;switch(t){case wt.OK:return b.OK;case wt.CANCELLED:return b.CANCELLED;case wt.UNKNOWN:return b.UNKNOWN;case wt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case wt.INTERNAL:return b.INTERNAL;case wt.UNAVAILABLE:return b.UNAVAILABLE;case wt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case wt.NOT_FOUND:return b.NOT_FOUND;case wt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case wt.ABORTED:return b.ABORTED;case wt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case wt.DATA_LOSS:return b.DATA_LOSS;default:return X()}}(ke=wt||(wt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";class dt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kf(this.root,e,this.comparator,!0)}}class Kf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:un.RED,this.left=null!=i?i:un.EMPTY,this.right=null!=s?s:un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1,un.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(t,e,n,r,i){return this}insert(t,e,n){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GP(this.data.getIterator())}getIteratorFrom(e){return new GP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class GP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const rZ=new dt(G.comparator);function Ir(){return rZ}const iZ=new dt(G.comparator);function ub(){return iZ}const sZ=new dt(G.comparator),oZ=new Qe(G.comparator);function Ue(...t){let e=oZ;for(const n of t)e=e.add(n);return e}const aZ=new Qe(xe);function Qf(){return aZ}class wl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,n)),new wl(re.min(),r,Qf(),Ir(),Ue())}}class El{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new El(Mt.EMPTY_BYTE_STRING,n,Ue(),Ue(),Ue())}}class Yf{constructor(e,n,r,i){this.M=e,this.removedTargetIds=n,this.key=r,this.$=i}}class zP{constructor(e,n){this.targetId=e,this.F=n}}class WP{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KP{constructor(){this.B=0,this.L=YP(),this.U=Mt.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Ue(),n=Ue(),r=Ue();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new El(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=YP()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class uZ{constructor(e){this.nt=e,this.st=new Map,this.it=Ir(),this.rt=QP(),this.ot=new Qe(xe)}ct(e){for(const n of e.M)e.$&&e.$.isFoundDocument()?this.ut(n,e.$):this.at(n,e.key,e.$);for(const n of e.removedTargetIds)this.at(n,e.key,e.$)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.F.count,i=this.wt(n);if(i){const s=i.target;if($f(s))if(0===r){const o=new G(s.path);this.at(n,o,Ze.newNoDocument(o,re.min()))}else oe(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&$f(a.target)){const u=new G(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.at(o,u,Ze.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=Ue();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new wl(e,n,this.ot,this.it,r);return this.it=Ir(),this.rt=QP(),this.ot=new Qe(xe),i}ut(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Et(n.key).add(e))}at(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Et(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new KP,this.st.set(e,n)),n}Et(e){let n=this.rt.get(e);return n||(n=new Qe(xe),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||N("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new KP),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function QP(){return new dt(G.comparator)}function YP(){return new dt(G.comparator)}const cZ={asc:"ASCENDING",desc:"DESCENDING"},lZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dZ{constructor(e,n){this.databaseId=e,this.N=n}}function Il(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JP(t,e){return t.N?e.toBase64():e.toUint8Array()}function hZ(t,e){return Il(t,e.toTimestamp())}function $t(t){return oe(!!t),re.fromTimestamp(function(e){const n=ls(e);return new on(n.seconds,n.nanos)}(t))}function cb(t,e){return(n=t,new Oe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function XP(t){const e=Oe.fromString(t);return oe(aF(e)),e}function bl(t,e){return cb(t.databaseId,e.path)}function si(t,e){const n=XP(e);if(n.get(1)!==t.databaseId.projectId)throw new k(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(eF(n))}function lb(t,e){return cb(t.databaseId,e)}function Tl(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eF(t){return oe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function tF(t,e,n){return{name:bl(t,e),fields:n.value.mapValue.fields}}function rF(t,e){return{documents:[lb(t,e.path)]}}function iF(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=lb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(wP(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NAN"}};if(vP(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(wP(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NOT_NAN"}};if(vP(d.value))return{unaryFilter:{field:Xa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(d.field),op:_Z(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Xa((l=c).field),direction:yZ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||to(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function sF(t){let e=function ZP(t){const e=XP(t);return 4===e.length?Oe.emptyPath():eF(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=oF(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new za(Za((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,to(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ga((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ga(l.values||[],!l.before)}(n.endAt)),function CP(t,e,n,r,i,s,o,a){return new Fi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function oF(t){return t?void 0!==t.unaryFilter?[wZ(t)]:void 0!==t.fieldFilter?[vZ(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>oF(e)).reduce((e,n)=>e.concat(n)):X():[]}function yZ(t){return cZ[t]}function _Z(t){return lZ[t]}function Xa(t){return{fieldPath:t.canonicalString()}}function Za(t){return an.fromServerFormat(t.fieldPath)}function vZ(t){return Nn.create(Za(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}function wZ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Za(t.unaryFilter.field);return Nn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Za(t.unaryFilter.field);return Nn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Za(t.unaryFilter.field);return Nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Za(t.unaryFilter.field);return Nn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return X()}}function EZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ht(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uF(e)),e=IZ(t.get(n),e);return uF(e)}function IZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function uF(t){return t+"\x01\x01"}class sr{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}sr.store="owner",sr.key="owner";class ds{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}ds.store="mutationQueues",ds.keyPath="userId";class ze{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];class _n{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Ht(n)]}static key(e,n,r){return[e,Ht(n),r]}}_n.store="documentMutations",_n.PLACEHOLDER=new _n;class at{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}at.store="remoteDocuments",at.readTimeIndex="readTimeIndex",at.readTimeIndexPath="readTime",at.collectionReadTimeIndex="collectionReadTimeIndex",at.collectionReadTimeIndexPath=["parentPath","readTime"];class ai{constructor(e){this.byteSize=e}}ai.store="remoteDocumentGlobal",ai.key="remoteDocumentGlobalKey";class Hn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Hn.store="targets",Hn.keyPath="targetId",Hn.queryTargetsIndexName="queryTargetsIndex",Hn.queryTargetsKeyPath=["canonicalId","targetId"];class cn{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}cn.store="targetDocuments",cn.keyPath=["targetId","path"],cn.documentTargetsIndex="documentTargetsIndex",cn.documentTargetsKeyPath=["path","targetId"];class or{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}or.key="targetGlobalKey",or.store="targetGlobal";class oo{constructor(e,n){this.collectionId=e,this.parent=n}}oo.store="collectionParents",oo.keyPath=["collectionId","parent"];class Li{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}Li.store="clientMetadata",Li.keyPath="clientId";class eu{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}eu.store="bundles",eu.keyPath="bundleId";class tu{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}tu.store="namedQueries",tu.keyPath="name";class ar{constructor(e,n,r){this.indexId=e,this.collectionGroup=n,this.fields=r}}ar.store="indexConfiguration",ar.keyPath="indexId",ar.collectionGroupIndex="collectionGroupIndex",ar.collectionGroupIndexPath="collectionGroup";class br{constructor(e,n,r,i,s,o){this.indexId=e,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=s,this.largestBatchId=o}}br.store="indexState",br.keyPath=["indexId","uid"],br.sequenceNumberIndex="sequenceNumberIndex",br.sequenceNumberIndexPath=["uid","sequenceNumber"];class Tr{constructor(e,n,r,i,s){this.indexId=e,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=s}}Tr.store="indexEntries",Tr.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Tr.documentKeyIndex="documentKeyIndex",Tr.documentKeyIndexPath=["indexId","uid","documentKey"];class qt{constructor(e,n,r,i,s,o){this.userId=e,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=s,this.overlayMutation=o}}qt.store="documentOverlays",qt.keyPath=["userId","collectionPath","documentId"],qt.collectionPathOverlayIndex="collectionPathOverlayIndex",qt.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],qt.collectionGroupOverlayIndex="collectionGroupOverlayIndex",qt.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const dF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function ao(t){return"IndexedDbTransactionError"===t.name}class fb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eZ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&ob(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&ob(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(re.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(n,r)=>UP(n,r))&&ja(this.baseMutations,e.baseMutations,(n,r)=>UP(n,r))}}class pb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=sZ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new pb(e,n,r,i)}}class gb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hs{constructor(e,n,r,i,s=re.min(),o=re.min(),a=Mt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pF{constructor(e){this.Ht=e}}function _b(t){const e=sF({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function SP(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Xf{constructor(){}Xt(e,n){this.Zt(e,n),n.te()}Zt(e,n){if("nullValue"in e)this.ee(n,5);else if("booleanValue"in e)this.ee(n,10),n.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(n,15),n.ne(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.ee(n,13):(this.ee(n,15),dl(r)?n.ne(0):n.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(n,20),"string"==typeof r?n.se(r):(n.se(`${r.seconds||""}`),n.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,n),this.re(n);else if("bytesValue"in e)this.ee(n,30),n.oe(eo(e.bytesValue)),this.re(n);else if("referenceValue"in e)this.ce(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(n,45),n.ne(r.latitude||0),n.ne(r.longitude||0)}else"mapValue"in e?jr(e,UX)?this.ee(n,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,n),this.re(n)):"arrayValue"in e?(this.ae(e.arrayValue,n),this.re(n)):X()}ie(e,n){this.ee(n,25),this.he(e,n)}he(e,n){n.se(e)}ue(e,n){const r=e.fields||{};this.ee(n,55);for(const i of Object.keys(r))this.ie(i,n),this.Zt(r[i],n)}ae(e,n){const r=e.values||[];this.ee(n,50);for(const i of r)this.Zt(i,n)}ce(e,n){this.ee(n,37),G.fromName(e).path.forEach(r=>{this.ee(n,60),this.he(r,n)})}ee(e,n){e.ne(n)}re(e){e.ne(2)}}Xf.le=new Xf;class PZ{constructor(){this.xe=new bb}addToCollectionParentIndex(e,n){return this.xe.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.xe.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n,r){return T.resolve(Ue())}getFieldIndex(e,n){return T.resolve(null)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class bb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Oe.comparator)).toArray()}}class qn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class ho{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new ho(0)}static Je(){return new ho(-1)}}function fo(t){return Db.apply(this,arguments)}function Db(){return Db=g(function*(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==dF)throw t;N("LocalStore","Unexpectedly lost primary lease")}),Db.apply(this,arguments)}class su{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gP(this.inner)}}class WZ{constructor(e,n,r){this.qn=e,this.gs=n,this.indexManager=r}ys(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.ps(e,n,r))}ps(e,n,r){return this.qn.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Is(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Es(e,n){return this.qn.getEntries(e,n).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Is(n,r))}As(e,n,r){return G.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Rs(e,n.path):function rb(t){return null!==t.collectionGroup}(n)?this.Ps(e,n,r):this.bs(e,n,r);var i}Rs(e,n){return this.ys(e,new G(n)).next(r=>{let i=ub();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,n,r){const i=n.collectionGroup;let s=ub();return this.indexManager.getCollectionParents(e,i).next(o=>T.forEach(o,a=>{const u=(c=n,l=a.child(i),new Fi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.bs(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}bs(e,n,r){let i;return this.qn.getAll(e,n.path,r).next(s=>(i=s,this.gs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=Ze.newInvalidDocument(u),i=i.insert(u,c)),ob(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{sb(n,o)||(i=i.remove(s))}),i))}}class xb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.vs=r,this.Vs=i}static Ss(e,n){let r=Ue(),i=Ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xb(e,n.fromCache,r,i)}}class NF{Ds(e){this.Cs=e}As(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(re.min())?this.Ns(e,n):this.Cs.Es(e,i).next(s=>{const o=this.xs(n,s);return(Hf(n)||qf(n))&&this.ks(n.limitType,o,i,r)?this.Ns(e,n):(QI()<=Re.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ib(n)),this.Cs.As(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}xs(e,n){let r=new Qe(xP(e));return n.forEach((i,s)=>{sb(e,s)&&(r=r.add(s))}),r}ks(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ns(e,n){return QI()<=Re.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",ib(n)),this.Cs.As(e,n,re.min())}}class KZ{constructor(e,n,r,i){this.persistence=e,this.Os=n,this.O=i,this.Ms=new dt(xe),this.$s=new su(s=>gl(s),Bf),this.Fs=re.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new WZ(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function PF(t,e){return Mb.apply(this,arguments)}function Mb(){return Mb=g(function*(t,e){const n=B(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.gs.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.gs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.Us.Es(r,u).next(c=>({qs:c,removedBatchIds:o,addedBatchIds:a}))})})}),Mb.apply(this,arguments)}function QZ(t,e){const n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=T.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);oe(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.gs.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.gs.performConsistencyCheck(r)).next(()=>n.Us.Es(r,i))})}function FF(t){const e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Un.getLastRemoteSnapshotVersion(n))}function YZ(t,e){const n=B(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.Un.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.Un.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(Mt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Un.updateTargetData(s,h))});let u=Ir();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function LF(t,e,n){let r=Ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Ir();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(re.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):N("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(re.min())){const c=n.Un.getLastRemoteSnapshotVersion(s).next(l=>n.Un.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.Us.Ts(s,u)).next(()=>u)}).then(s=>(n.Ms=i,s))}function JZ(t,e){const n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.gs.getNextMutationBatchAfterBatchId(r,e)))}function ou(t,e){const n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Un.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.Un.allocateTargetId(r).next(o=>(i=new hs(e,o,0,r.currentSequenceNumber),n.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.$s.set(e,r.targetId)),r})}function au(t,e,n){return Rb.apply(this,arguments)}function Rb(){return Rb=g(function*(t,e,n){const r=B(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ao(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}),Rb.apply(this,arguments)}function op(t,e,n){const r=B(t);let i=re.min(),s=Ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=B(a),d=l.$s.get(c);return void 0!==d?T.resolve(l.Ms.get(d)):l.Un.getTargetData(u,c)}(r,o,Er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Os.As(o,e,n?i:re.min(),n?s:Ue())).next(a=>({documents:a,Ks:s})))}class tee{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,n){return T.resolve(this.Ws.get(n))}saveBundleMetadata(e,n){var r;return this.Ws.set(n.id,{id:(r=n).id,version:r.version,createTime:$t(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.zs.get(n))}saveNamedQuery(e,n){return this.zs.set(n.name,{name:(r=n).name,query:_b(r.bundledQuery),readTime:$t(r.readTime)}),T.resolve();var r}}class nee{constructor(){this.overlays=new dt(G.comparator),this.Hs=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach(i=>{this.Yt(e,n,i)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Hs.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Hs.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=new Map,s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dt((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=new Map,s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=new Map,u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(l,c)),!(a.size>=i)););return T.resolve(a)}Yt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);null!==i&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new gb(n,r));let s=this.Hs.get(n);void 0===s&&(s=new Set,this.Hs.set(n,s)),s.add(r.key)}}class Pb{constructor(){this.Js=new Qe(zt.Ys),this.Xs=new Qe(zt.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ei(new zt(e,n))}ni(e,n){e.forEach(r=>this.removeReference(r,n))}si(e){const n=new G(new Oe([])),r=new zt(n,e),i=new zt(n,e+1),s=[];return this.Xs.forEachInRange([r,i],o=>{this.ei(o),s.push(o.key)}),s}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const n=new G(new Oe([])),r=new zt(n,e),i=new zt(n,e+1);let s=Ue();return this.Xs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new zt(e,0),r=this.Js.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.oi=n}static Ys(e,n){return G.comparator(e.key,n.key)||xe(e.oi,n.oi)}static Zs(e,n){return xe(e.oi,n.oi)||G.comparator(e.key,n.key)}}class ree{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Qe(zt.Ys)}checkEmpty(e){return T.resolve(0===this.gs.length)}addMutationBatch(e,n,r,i){const s=this.ci;this.ci++;const o=new fb(s,n,r,i);this.gs.push(o);for(const a of i)this.ui=this.ui.add(new zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.ai(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.hi(n+1),s=i<0?0:i;return T.resolve(this.gs.length>s?this.gs[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return T.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),s=[];return this.ui.forEachInRange([r,i],o=>{const a=this.ai(o.oi);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(xe);return n.forEach(i=>{const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([s,o],a=>{r=r.add(a.oi)})}),T.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new zt(new G(s),0);let a=new Qe(xe);return this.ui.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.oi)),!0)},o),T.resolve(this.li(a))}li(e){const n=[];return e.forEach(r=>{const i=this.ai(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){oe(0===this.fi(n.batchId,"removed")),this.gs.shift();let r=this.ui;return T.forEach(n.mutations,i=>{const s=new zt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,n){const r=new zt(n,0),i=this.ui.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return T.resolve()}fi(e,n){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const n=this.hi(e);return n<0||n>=this.gs.length?null:this.gs[n]}}class iee{constructor(e){this.di=e,this.docs=new dt(G.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.di(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ze.newInvalidDocument(i))}),T.resolve(r)}getAll(e,n,r){let i=Ir();const s=new G(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||u.readTime.compareTo(r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return T.resolve(i)}_i(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new see(this)}getSize(e){return T.resolve(this.size)}}class see extends class $Z{constructor(){this.changes=new su(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Tn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.Tn.getEntry(e,n)}getAllFromCache(e,n){return this.Tn.getEntries(e,n)}}class oee{constructor(e){this.persistence=e,this.wi=new su(n=>gl(n),Bf),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.mi=0,this.gi=new Pb,this.targetCount=0,this.yi=ho.He()}forEachTarget(e,n){return this.wi.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.mi&&(this.mi=n),T.resolve()}Ze(e){this.wi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.yi=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,n){return this.Ze(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Ze(n),T.resolve()}removeTargetData(e,n){return this.wi.delete(n.target),this.gi.si(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.wi.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.wi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.wi.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.gi.ti(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.gi.ni(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.gi.si(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.gi.ri(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.gi.containsKey(n))}}class aee{constructor(e,n){this.pi={},this.overlays={},this.Nn=new ir(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new oee(this),this.indexManager=new PZ,this.qn=new iee(r=>this.referenceDelegate.Ii(r)),this.O=new pF(n),this.Kn=new tee(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.pi[e.toKey()];return r||(r=new ree(n,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new uee(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.Ti(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return T.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,n)))}}class uee extends class SZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Fb{constructor(e){this.persistence=e,this.Ri=new Pb,this.Pi=null}static bi(e){return new Fb(e)}get vi(){if(this.Pi)return this.Pi;throw X()}addReference(e,n,r){return this.Ri.addReference(r,n),this.vi.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.vi.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.vi.add(n.toString()),T.resolve()}removeTarget(e,n){this.Ri.si(n.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.vi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Pi=new Set}Ti(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.vi,r=>{const i=G.fromPath(r);return this.Vi(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Pi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Vi(e,n).next(r=>{r?this.vi.delete(n.toString()):this.vi.add(n.toString())})}Ii(e){return 0}Vi(e,n){return T.or([()=>T.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vb{constructor(){this.activeTargetIds=Qf()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $F{constructor(){this._r=new Vb,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,n,r){this.wr[e]=n}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new Vb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class cee{mr(e){}shutdown(){}}class HF{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const lee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dee{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class hee extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,n,r,i,s){const o=this.$r(e,n);N("RestConnection","Sending: ",o,r);const a={};return this.Fr(a,i,s),this.Br(e,o,a,r).then(u=>(N("RestConnection","Received: ",u),u),u=>{throw Pf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}Lr(e,n,r,i,s){return this.Mr(e,n,r,i,s)}Fr(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Va,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$r(e,n){return`${this.kr}/v1/${n}:${lee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,n,r,i){return new Promise((s,o)=>{const a=new SX;a.listenOnce(TX.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case KI.NO_ERROR:const c=a.getResponseJson();N("Connection","XHR received:",JSON.stringify(c)),s(c);break;case KI.TIMEOUT:N("Connection",'RPC "'+e+'" timed out'),o(new k(b.DEADLINE_EXCEEDED,"Request time out"));break;case KI.HTTP_ERROR:const l=a.getStatus();if(N("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(p)>=0?p:b.UNKNOWN}(d.status);o(new k(h,d.message))}else o(new k(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new k(b.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{N("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Ur(e,n,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IX(),o=bX(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new CX({})),this.Fr(a.initMessageHeaders,n,r),hk()||fk()||function K8(){return Lt().indexOf("Electron/")>=0}()||pk()||function Q8(){return Lt().indexOf("MSAppHost/")>=0}()||Th()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");N("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new dee({Ar:p=>{d?N("Connection","Not sending because WebChannel is closed:",p):(l||(N("Connection","Opening WebChannel transport."),c.open(),l=!0),N("Connection","WebChannel sending:",p),c.send(p))},Rr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,I=>{try{_(I)}catch(v){setTimeout(()=>{throw v},0)}})};return f(c,Of.EventType.OPEN,()=>{d||N("Connection","WebChannel transport opened.")}),f(c,Of.EventType.CLOSE,()=>{d||(d=!0,N("Connection","WebChannel transport closed"),h.Cr())}),f(c,Of.EventType.ERROR,p=>{d||(d=!0,Pf("Connection","WebChannel transport errored:",p),h.Cr(new k(b.UNAVAILABLE,"The operation could not be completed")))}),f(c,Of.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];oe(!!_);const I=_,v=I.error||(null===(m=I[0])||void 0===m?void 0:m.error);if(v){N("Connection","WebChannel received error:",v);const U=v.status;let Y=function(kt){const ur=wt[kt];if(void 0!==ur)return qP(ur)}(U),pe=v.message;void 0===Y&&(Y=b.INTERNAL,pe="Unknown error status: "+U+" with message "+v.message),d=!0,h.Cr(new k(Y,pe)),c.close()}else N("Connection","WebChannel received:",_),h.Nr(_)}}),f(o,DX.STAT_EVENT,p=>{p.stat===uP.PROXY?N("Connection","Detected buffering proxy"):p.stat===uP.NOPROXY&&N("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Dr()},0),h}}function cp(){return"undefined"!=typeof document?document:null}function Rl(t){return new dZ(t,!0)}class Bb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Sn=e,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=s,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class GF{constructor(e,n,r,i,s,o,a,u){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Bb(e,n)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return g(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return g(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,n){var r=this;return g(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(_t(n.toString()),_t("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):n&&n.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(n)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===n&&this.po(r,i)},r=>{e(()=>{const i=new k(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,n){const r=this.yo(this.no);this.stream=this.Eo(e,n),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){var e=this;this.state=5,this.ro.Hr(g(function*(){e.state=0,e.start()}))}Io(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return n=>{this.Sn.enqueueAndForget(()=>this.no===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fee extends GF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.O=s}Eo(e,n){return this.eo.Ur("Listen",e,n)}onMessage(e){this.ro.reset();const n=function pZ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:X(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(oe(void 0===c||"string"==typeof c),Mt.fromBase64String(c||"")):(oe(void 0===c||c instanceof Uint8Array),Mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?b.UNKNOWN:qP(u.code);return new k(c,u.message||"")}(o);n=new WP(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=si(t,r.document.name),s=$t(r.document.updateTime),o=new yn({mapValue:{fields:r.document.fields}}),a=Ze.newFoundDocument(i,s,o);n=new Yf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=si(t,r.document),s=r.readTime?$t(r.readTime):re.min(),o=Ze.newNoDocument(i,s);n=new Yf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=si(t,r.document);n=new Yf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return X();{const r=e.filter,s=new nZ(r.count||0);n=new zP(r.targetId,s)}}var u;return n}(this.O,e),r=function(i){if(!("targetChange"in i))return re.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?$t(s.readTime):re.min()}(e);return this.listener.To(n,r)}Ao(e){const n={};n.database=Tl(this.O),n.addTarget=function(i,s){let o;const a=s.target;return o=$f(a)?{documents:rF(i,a)}:{query:iF(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=JP(i,s.resumeToken):s.snapshotVersion.compareTo(re.min())>0&&(o.readTime=Il(i,s.snapshotVersion.toTimestamp())),o}(this.O,e);const r=function mZ(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return X()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.fo(n)}Ro(e){const n={};n.database=Tl(this.O),n.removeTarget=e,this.fo(n)}}class pee extends GF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.O=s,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,n){return this.eo.Ur("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const n=function gZ(t,e){return t&&t.length>0?(oe(void 0!==e),t.map(n=>function(r,i){let s=$t(r.updateTime?r.updateTime:i);return s.isEqual(re.min())&&(s=$t(i)),new ZX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=$t(e.commitTime);return this.listener.Vo(r,n)}return oe(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Tl(this.O),this.fo(e)}vo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Dl(t,e){let n;if(e instanceof _l)n={update:tF(t,e.key,e.value)};else if(e instanceof vl)n={delete:bl(t,e.key)};else if(e instanceof so)n={update:tF(t,e.key,e.data),updateMask:EZ(e.fieldMask)};else{if(!(e instanceof ab))return X();n={verify:bl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Qa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ya)return{fieldPath:s.field.canonicalString(),increment:o.k};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:hZ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:X()),n;var i}(this.O,r))};this.fo(n)}}class gee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new k(b.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Mr(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(b.UNKNOWN,i.toString())})}Lr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Lr(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(b.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class mee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(_t(n),this.Oo=!1):N("OnlineStateTracker",n)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class yee{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=s,this.jo.mr(a=>{r.enqueueAndForget(g(function*(){var u;ms(o)&&(N("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=B(c);l.Ko.add(4),yield uu(l),l.Qo.set("Unknown"),l.Ko.delete(4),yield kl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Qo=new mee(r,i)}}function kl(t){return $b.apply(this,arguments)}function $b(){return $b=g(function*(t){if(ms(t))for(const e of t.Go)yield e(!0)}),$b.apply(this,arguments)}function uu(t){return Hb.apply(this,arguments)}function Hb(){return Hb=g(function*(t){for(const e of t.Go)yield e(!1)}),Hb.apply(this,arguments)}function lp(t,e){const n=B(t);n.qo.has(e.targetId)||(n.qo.set(e.targetId,e),zb(n)?Gb(n):lu(n).co()&&qb(n,e))}function Nl(t,e){const n=B(t),r=lu(n);n.qo.delete(e),r.co()&&zF(n,e),0===n.qo.size&&(r.co()?r.ho():ms(n)&&n.Qo.set("Unknown"))}function qb(t,e){t.Wo.Z(e.targetId),lu(t).Ao(e)}function zF(t,e){t.Wo.Z(e),lu(t).Ro(e)}function Gb(t){t.Wo=new uZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qo.get(e)||null}),lu(t).start(),t.Qo.Mo()}function zb(t){return ms(t)&&!lu(t).oo()&&t.qo.size>0}function ms(t){return 0===B(t).Ko.size}function WF(t){t.Wo=void 0}function _ee(t){return Wb.apply(this,arguments)}function Wb(){return Wb=g(function*(t){t.qo.forEach((e,n)=>{qb(t,e)})}),Wb.apply(this,arguments)}function vee(t,e){return Kb.apply(this,arguments)}function Kb(){return Kb=g(function*(t,e){WF(t),zb(t)?(t.Qo.Bo(e),Gb(t)):t.Qo.set("Unknown")}),Kb.apply(this,arguments)}function wee(t,e,n){return Qb.apply(this,arguments)}function Qb(){return Qb=g(function*(t,e,n){if(t.Qo.set("Online"),e instanceof WP&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.qo.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.qo.delete(a),i.Wo.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dp(t,r)}else if(e instanceof Yf?t.Wo.ct(e):e instanceof zP?t.Wo._t(e):t.Wo.ht(e),!n.isEqual(re.min()))try{const r=yield FF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Wo.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.qo.get(u);c&&i.qo.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.qo.get(a);if(!u)return;i.qo.set(a,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),zF(i,a);const c=new hs(u.target,a,1,u.sequenceNumber);qb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){N("RemoteStore","Failed to raise snapshot:",r),yield dp(t,r)}var r}),Qb.apply(this,arguments)}function dp(t,e,n){return Yb.apply(this,arguments)}function Yb(){return Yb=g(function*(t,e,n){if(!ao(e))throw e;t.Ko.add(1),yield uu(t),t.Qo.set("Offline"),n||(n=()=>FF(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){N("RemoteStore","Retrying IndexedDB access"),yield n(),t.Ko.delete(1),yield kl(t)}))}),Yb.apply(this,arguments)}function KF(t,e){return e().catch(n=>dp(t,n,e))}function cu(t){return Jb.apply(this,arguments)}function Jb(){return Jb=g(function*(t){const e=B(t),n=ys(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;Eee(e);)try{const i=yield JZ(e.localStore,r);if(null===i){0===e.Uo.length&&n.ho();break}r=i.batchId,Iee(e,i)}catch(i){yield dp(e,i)}QF(e)&&YF(e)}),Jb.apply(this,arguments)}function Eee(t){return ms(t)&&t.Uo.length<10}function Iee(t,e){t.Uo.push(e);const n=ys(t);n.co()&&n.bo&&n.vo(e.mutations)}function QF(t){return ms(t)&&!ys(t).oo()&&t.Uo.length>0}function YF(t){ys(t).start()}function bee(t){return Xb.apply(this,arguments)}function Xb(){return Xb=g(function*(t){ys(t).Do()}),Xb.apply(this,arguments)}function Tee(t){return Zb.apply(this,arguments)}function Zb(){return Zb=g(function*(t){const e=ys(t);for(const n of t.Uo)e.vo(n.mutations)}),Zb.apply(this,arguments)}function Dee(t,e,n){return eT.apply(this,arguments)}function eT(){return eT=g(function*(t,e,n){const r=t.Uo.shift(),i=pb.from(r,e,n);yield KF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield cu(t)}),eT.apply(this,arguments)}function Cee(t,e){return tT.apply(this,arguments)}function tT(){return tT=g(function*(t,e){var n;e&&ys(t).bo&&(yield(n=g(function*(r,i){if(HP(s=i.code)&&s!==b.ABORTED){const o=r.Uo.shift();ys(r).ao(),yield KF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield cu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),QF(t)&&YF(t)}),tT.apply(this,arguments)}function JF(t,e){return nT.apply(this,arguments)}function nT(){return nT=g(function*(t,e){const n=B(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=ms(n);n.Ko.add(3),yield uu(n),r&&n.Qo.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ko.delete(3),yield kl(n)}),nT.apply(this,arguments)}function iT(){return iT=g(function*(t,e){const n=B(t);e?(n.Ko.delete(2),yield kl(n)):e||(n.Ko.add(2),yield uu(n),n.Qo.set("Unknown"))}),iT.apply(this,arguments)}function lu(t){return t.zo||(t.zo=function(e,n,r){const i=B(e);return i.No(),new fee(n,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(t.datastore,t.asyncQueue,{Pr:_ee.bind(null,t),vr:vee.bind(null,t),To:wee.bind(null,t)}),t.Go.push(function(){var e=g(function*(n){n?(t.zo.ao(),zb(t)?Gb(t):t.Qo.set("Unknown")):(yield t.zo.stop(),WF(t))});return function(n){return e.apply(this,arguments)}}())),t.zo}function ys(t){return t.Ho||(t.Ho=function(e,n,r){const i=B(e);return i.No(),new pee(n,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(t.datastore,t.asyncQueue,{Pr:bee.bind(null,t),vr:Cee.bind(null,t),So:Tee.bind(null,t),Vo:Dee.bind(null,t)}),t.Go.push(function(){var e=g(function*(n){n?(t.Ho.ao(),yield cu(t)):(yield t.Ho.stop(),t.Uo.length>0&&(N("RemoteStore",`Stopping write stream with ${t.Uo.length} pending writes`),t.Uo=[]))});return function(n){return e.apply(this,arguments)}}())),t.Ho}class sT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new sT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function du(t,e){if(_t("AsyncQueue",`${e}: ${t}`),ao(t))return new k(b.UNAVAILABLE,`${e}: ${t}`);throw t}class hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=ub(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new hu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class XF{constructor(){this.Jo=new dt(G.comparator)}track(e){const n=e.doc.key,r=this.Jo.get(n);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(n,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(n):1===e.type&&2===r.type?this.Jo=this.Jo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):X():this.Jo=this.Jo.insert(n,e)}Yo(){const e=[];return this.Jo.inorderTraversal((n,r)=>{e.push(r)}),e}}class fu{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new fu(e,n,hu.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class See{constructor(){this.Xo=void 0,this.listeners=[]}}class Aee{constructor(){this.queries=new su(e=>AP(e),ml),this.onlineState="Unknown",this.Zo=new Set}}function aT(){return aT=g(function*(t,e){const n=B(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new See),i)try{s.Xo=yield n.onListen(r)}catch(o){const a=du(o,`Initialization of query '${ib(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.tc(n.onlineState),s.Xo&&e.ec(s.Xo)&&lT(n)}),aT.apply(this,arguments)}function cT(){return cT=g(function*(t,e){const n=B(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),cT.apply(this,arguments)}function xee(t,e){const n=B(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.ec(i)&&(r=!0);o.Xo=i}}r&&lT(n)}function Mee(t,e,n){const r=B(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function lT(t){t.Zo.forEach(e=>{e.next()})}class dT{constructor(e,n,r){this.query=e,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new fu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.sc?this.rc(e)&&(this.nc.next(e),n=!0):this.oc(e,this.onlineState)&&(this.cc(e),n=!0),this.ic=e,n}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let n=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),n=!0),n}oc(e,n){return!e.fromCache||!(this.options.uc&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class tL{constructor(e){this.key=e}}class nL{constructor(e){this.key=e}}class rL{constructor(e,n){this.query=e,this.dc=n,this._c=null,this.current=!1,this.wc=Ue(),this.mutatedKeys=Ue(),this.mc=xP(e),this.gc=new hu(this.mc)}get yc(){return this.dc}Ic(e,n){const r=n?n.Ec:new XF,i=n?n.gc:this.gc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Hf(this.query)&&i.size===this.query.limit?i.last():null,c=qf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=sb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Tc(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.mc(f,u)>0||c&&this.mc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Hf(this.query)||qf(this.query))for(;o.size>this.query.limit;){const l=Hf(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:a,mutatedKeys:s}}Tc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const s=e.Ec.Yo();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return f(d)-f(h)}(c.type,l.type)||this.mc(c.doc,l.doc)),this.Ac(r);const o=n?this.Rc():[],a=0===this.wc.size&&this.current?1:0,u=a!==this._c;return this._c=a,0!==s.length||u?{snapshot:new fu(this.query,e.gc,i,s,e.mutatedKeys,0===a,u,!1),Pc:o}:{Pc:o}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new XF,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(n=>this.dc=this.dc.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.dc=this.dc.delete(n)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Ue(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const n=[];return e.forEach(r=>{this.wc.has(r)||n.push(new nL(r))}),this.wc.forEach(r=>{e.has(r)||n.push(new tL(r))}),n}vc(e){this.dc=e.Ks,this.wc=Ue();const n=this.Ic(e.documents);return this.applyChanges(n,!0)}Vc(){return fu.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Nee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Oee{constructor(e){this.key=e,this.Sc=!1}}class Pee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new su(a=>AP(a),ml),this.Nc=new Map,this.xc=new Set,this.kc=new dt(G.comparator),this.Oc=new Map,this.Mc=new Pb,this.$c={},this.Fc=new Map,this.Bc=ho.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function Fee(t,e){return hT.apply(this,arguments)}function hT(){return hT=g(function*(t,e){const n=PT(t);let r,i;const s=n.Cc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Vc();else{const o=yield ou(n.localStore,Er(e));n.isPrimaryClient&&lp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield fT(n,e,r,"current"===a)}return i}),hT.apply(this,arguments)}function fT(t,e,n,r){return pT.apply(this,arguments)}function pT(){return pT=g(function*(t,e,n,r){t.Uc=(l,d,h)=>{return(f=g(function*(p,m,_,I){let v=m.view.Ic(_);v.ks&&(v=yield op(p.localStore,m.query,!1).then(({documents:pe})=>m.view.Ic(pe,v)));const U=I&&I.targetChanges.get(m.targetId),Y=m.view.applyChanges(v,p.isPrimaryClient,U);return TT(p,m.targetId,Y.Pc),Y.snapshot}),function(p,m,_,I){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield op(t.localStore,e,!0),s=new rL(e,i.Ks),o=s.Ic(i.documents),a=El.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);TT(t,n,u.Pc);const c=new Nee(e,n,s);return t.Cc.set(e,c),t.Nc.has(n)?t.Nc.get(n).push(e):t.Nc.set(n,[e]),u.snapshot}),pT.apply(this,arguments)}function Lee(t,e){return gT.apply(this,arguments)}function gT(){return gT=g(function*(t,e){const n=B(t),r=n.Cc.get(e),i=n.Nc.get(r.targetId);if(i.length>1)return n.Nc.set(r.targetId,i.filter(s=>!ml(s,e))),void n.Cc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield au(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Nl(n.remoteStore,r.targetId),pu(n,r.targetId)}).catch(fo))):(pu(n,r.targetId),yield au(n.localStore,r.targetId,!0))}),gT.apply(this,arguments)}function mT(){return mT=g(function*(t,e,n){const r=FT(t);try{const i=yield function(s,o){const a=B(s),u=on.now(),c=o.reduce((d,h)=>d.add(h.key),Ue());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Us.Es(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=tZ(p,l.get(p.key));null!=m&&f.push(new so(p.key,m,EP(m.value.mapValue),vt.exists(!0)))}return a.gs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.$c[s.currentUser.toKey()];u||(u=new dt(xe)),u=u.insert(o,a),s.$c[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ui(r,i.changes),yield cu(r.remoteStore)}catch(i){const s=du(i,"Failed to persist write");n.reject(s)}}),mT.apply(this,arguments)}function iL(t,e){return yT.apply(this,arguments)}function yT(){return yT=g(function*(t,e){const n=B(t);try{const r=yield YZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oc.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Sc=!0:i.modifiedDocuments.size>0?oe(o.Sc):i.removedDocuments.size>0&&(oe(o.Sc),o.Sc=!1))}),yield Ui(n,r,e)}catch(r){yield fo(r)}}),yT.apply(this,arguments)}function sL(t,e,n){const r=B(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Cc.forEach((s,o)=>{const a=o.view.tc(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=B(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.tc(o)&&(u=!0)}),u&&lT(a)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vee(t,e,n){return _T.apply(this,arguments)}function _T(){return _T=g(function*(t,e,n){const r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oc.get(e),s=i&&i.key;if(s){let o=new dt(G.comparator);o=o.insert(s,Ze.newNoDocument(s,re.min()));const a=Ue().add(s),u=new wl(re.min(),new Map,new Qe(xe),o,a);yield iL(r,u),r.kc=r.kc.remove(s),r.Oc.delete(e),DT(r)}else yield au(r.localStore,e,!1).then(()=>pu(r,e,n)).catch(fo)}),_T.apply(this,arguments)}function jee(t,e){return vT.apply(this,arguments)}function vT(){return vT=g(function*(t,e){const n=B(t),r=e.batch.batchId;try{const i=yield QZ(n.localStore,e);bT(n,r,null),IT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ui(n,i)}catch(i){yield fo(i)}}),vT.apply(this,arguments)}function Bee(t,e,n){return wT.apply(this,arguments)}function wT(){return wT=g(function*(t,e,n){const r=B(t);try{const i=yield function(s,o){const a=B(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.gs.lookupMutationBatch(u,o).next(l=>(oe(null!==l),c=l.keys(),a.gs.removeMutationBatch(u,l))).next(()=>a.gs.performConsistencyCheck(u)).next(()=>a.Us.Es(u,c))})}(r.localStore,e);bT(r,e,n),IT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ui(r,i)}catch(i){yield fo(i)}}),wT.apply(this,arguments)}function IT(t,e){(t.Fc.get(e)||[]).forEach(n=>{n.resolve()}),t.Fc.delete(e)}function bT(t,e,n){const r=B(t);let i=r.$c[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$c[r.currentUser.toKey()]=i}}function pu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Nc.get(e))t.Cc.delete(r),n&&t.Dc.qc(r,n);t.Nc.delete(e),t.isPrimaryClient&&t.Mc.si(e).forEach(r=>{t.Mc.containsKey(r)||oL(t,r)})}function oL(t,e){t.xc.delete(e.path.canonicalString());const n=t.kc.get(e);null!==n&&(Nl(t.remoteStore,n),t.kc=t.kc.remove(e),t.Oc.delete(n),DT(t))}function TT(t,e,n){for(const r of n)r instanceof tL?(t.Mc.addReference(r.key,e),Hee(t,r)):r instanceof nL?(N("SyncEngine","Document no longer in limbo: "+r.key),t.Mc.removeReference(r.key,e),t.Mc.containsKey(r.key)||oL(t,r.key)):X()}function Hee(t,e){const n=e.key,r=n.path.canonicalString();t.kc.get(n)||t.xc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.xc.add(r),DT(t))}function DT(t){for(;t.xc.size>0&&t.kc.size<t.maxConcurrentLimboResolutions;){const e=t.xc.values().next().value;t.xc.delete(e);const n=new G(Oe.fromString(e)),r=t.Bc.next();t.Oc.set(r,new Oee(n)),t.kc=t.kc.insert(n,r),lp(t.remoteStore,new hs(Er(Wa(n.path)),r,2,ir.A))}}function Ui(t,e,n){return CT.apply(this,arguments)}function CT(){return CT=g(function*(t,e,n){const r=B(t),i=[],s=[],o=[];var a;r.Cc.isEmpty()||(r.Cc.forEach((a,u)=>{o.push(r.Uc(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=xb.Ss(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Dc.To(i),yield(a=g(function*(u,c){const l=B(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>T.forEach(c,h=>T.forEach(h.vs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>T.forEach(h.Vs,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ao(d))throw d;N("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ms.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ms=l.Ms.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),CT.apply(this,arguments)}function qee(t,e){return ST.apply(this,arguments)}function ST(){return ST=g(function*(t,e){const n=B(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=yield PF(n.localStore,e);n.currentUser=e,(i=n).Fc.forEach(o=>{o.forEach(a=>{a.reject(new k(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Fc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ui(n,r.qs)}var i}),ST.apply(this,arguments)}function Gee(t,e){const n=B(t),r=n.Oc.get(e);if(r&&r.Sc)return Ue().add(r.key);{let i=Ue();const s=n.Nc.get(e);if(!s)return i;for(const o of s){const a=n.Cc.get(o);i=i.unionWith(a.view.yc)}return i}}function PT(t){const e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vee.bind(null,e),e.Dc.To=xee.bind(null,e.eventManager),e.Dc.qc=Mee.bind(null,e.eventManager),e}function FT(t){const e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bee.bind(null,e),e}class ete{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.O=Rl(e.databaseInfo.databaseId),n.sharedClientState=n.Gc(e),n.persistence=n.jc(e),yield n.persistence.start(),n.gcScheduler=n.Qc(e),n.localStore=n.Wc(e)})()}Qc(e){return null}Wc(e){return function OF(t,e,n,r){return new KZ(t,e,n,r)}(this.persistence,new NF,e.initialUser,this.O)}jc(e){return new aee(Fb.bi,this.O)}Gc(e){return new $F}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LT{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=qee.bind(null,r.syncEngine),yield function rT(t,e){return iT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Aee}createDatastore(e){const n=Rl(e.databaseInfo.databaseId),r=new hee(e.databaseInfo);return new gee(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>sL(this.syncEngine,a,0),o=HF.Vt()?new HF:new cee,new yee(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Pee(r,i,s,o,a,u);return c&&(l.Lc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=B(n);N("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield uu(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ote{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=hP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){N("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=du(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function lL(t,e){return UT.apply(this,arguments)}function UT(){return UT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield PF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),UT.apply(this,arguments)}function dL(t,e){return VT.apply(this,arguments)}function VT(){return VT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield jT(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>JF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>JF(e.remoteStore,s)),t.onlineComponents=e}),VT.apply(this,arguments)}function jT(t){return BT.apply(this,arguments)}function BT(){return BT=g(function*(t){return t.offlineComponents||(N("FirestoreClient","Using default OfflineComponentProvider"),yield lL(t,new ete)),t.offlineComponents}),BT.apply(this,arguments)}function fp(t){return $T.apply(this,arguments)}function $T(){return $T=g(function*(t){return t.onlineComponents||(N("FirestoreClient","Using default OnlineComponentProvider"),yield dL(t,new LT)),t.onlineComponents}),$T.apply(this,arguments)}function gu(t){return GT.apply(this,arguments)}function GT(){return GT=g(function*(t){const e=yield fp(t),n=e.eventManager;return n.onListen=Fee.bind(null,e.syncEngine),n.onUnlisten=Lee.bind(null,e.syncEngine),n}),GT.apply(this,arguments)}const mL=new Map;function zT(t,e,n){if(!n)throw new k(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yL(t){if(!G.isDocumentKey(t))throw new k(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _L(t){if(G.isDocumentKey(t))throw new k(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":X()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pp(t);throw new k(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class wL{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new k(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new k(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function gte(t,e,n,r){if(!0===e&&!0===r)throw new k(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ol{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wL({}),this._settingsFrozen=!1,e instanceof $a?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new k(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(i.options.projectId)}(e))}get app(){if(!this._app)throw new k(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new k(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wL(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new AX;switch(n.type){case"gapi":const r=n.client;return oe(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new kX(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new k(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mL.get(e);n&&(N("ComponentProvider","Removing Datastore"),mL.delete(e),n.terminate())}(this),Promise.resolve()}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}}class vn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vn(this.firestore,e,this._query)}}class ui extends vn{constructor(e,n,r){super(e,n,Wa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new G(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function mte(t,e,...n){if(t=vr(t),zT("collection","path",e),t instanceof Ol){const r=Oe.fromString(e,...n);return _L(r),new ui(t,null,r)}{if(!(t instanceof ht||t instanceof ui))throw new k(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return _L(r),new ui(t.firestore,null,r)}}function EL(t,e,...n){if(t=vr(t),1===arguments.length&&(e=hP.R()),zT("doc","path",e),t instanceof Ol){const r=Oe.fromString(e,...n);return yL(r),new ht(t,null,new G(r))}{if(!(t instanceof ht||t instanceof ui))throw new k(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return yL(r),new ht(t.firestore,t instanceof ui?t.converter:null,new G(r))}}class _te{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Bb(this,"async_queue_retry"),this.yu=()=>{const n=cp();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ro.Yr()};const e=cp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const n=cp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const n=new Bt;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return g(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(n){if(!ao(n))throw n;N("AsyncQueue","Operation failed with retryable error: "+n)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const n=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,_t("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.gu.indexOf(e)>-1&&(n=0);const i=sT.createAndSchedule(this,e,n,r,s=>this.Tu(s));return this.du.push(i),i}pu(){this._u&&X()}verifyOperationInProgress(){}Au(){var e=this;return g(function*(){let n;do{n=e.hu,yield n}while(n!==e.hu)})()}Ru(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function WT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ye extends Ol{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new _te,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||IL(this),this._firestoreClient.terminate()}}function wte(t=o_()){return ba(t,"firestore").getImmediate()}function Rt(t){return t._firestoreClient||IL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IL(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new LX(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new ote(t._authCredentials,t._appCheckCredentials,t._queue,r)}class mu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new k(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Mt.fromBase64String(e))}catch(n){throw new k(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class DL{constructor(e){this._methodName=e}}class KT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}const Ete=/^__.*__$/;class Ite{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new _l(e,this.data,n,this.fieldTransforms)}}function SL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class gp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Su({path:r,Cu:!1});return i.Nu(e),i}xu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Su({path:r,Cu:!1});return i.vu(),i}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return yp(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(SL(this.Vu)&&Ete.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class bte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.O=r||Rl(e)}Fu(e,n,r,i=!1){return new gp({Vu:e,methodName:n,$u:r,path:an.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function yu(t){const e=t._freezeSettings(),n=Rl(t._databaseId);return new bte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QT(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);JT("Data must be an object, but it was:",o,r);const a=kL(r,o);let u,c;if(s.merge)u=new Ba(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=XT(e,d,n);if(!o.contains(h))throw new k(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);OL(l,h)||l.push(h)}u=new Ba(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Ite(new yn(a),u,c)}function go(t,e){if(NL(t=vr(t)))return JT("Unsupported field value:",e,t),kL(t,e);if(t instanceof DL)return function(n,r){if(!SL(r.Vu))throw r.Ou(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=go(o,r.ku(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=vr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return kP(r.O,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=on.fromDate(n);return{timestampValue:Il(r.O,i)}}if(n instanceof on){const i=new on(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Il(r.O,i)}}if(n instanceof KT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof po)return{bytesValue:JP(r.O,n._byteString)};if(n instanceof ht){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Ou(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ou(`Unsupported field value: ${pp(n)}`)}(t,e)}function kL(t,e){const n={};return gP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const s=go(i,e.Du(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function NL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof on||t instanceof KT||t instanceof po||t instanceof ht||t instanceof DL)}function JT(t,e,n){if(!NL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=pp(n);throw e.Ou("an object"===r?t+" a custom object":t+" "+r)}var r}function XT(t,e,n){if((e=vr(e))instanceof mu)return e._internalPath;if("string"==typeof e)return mp(t,e);throw yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ste=new RegExp("[~\\*/\\[\\]]");function mp(t,e,n){if(e.search(Ste)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mu(...e.split("."))._internalPath}catch(r){throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new k(b.INVALID_ARGUMENT,a+t+u)}function OL(t,e){return t.some(n=>n.isEqual(e))}class ZT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ate(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ate extends ZT{data(){return super.data()}}function _p(t,e){return"string"==typeof e?mp(t,e):e instanceof mu?e._internalPath:e._delegate._internalPath}class mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _u extends ZT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vp extends _u{data(e={}){return super.data(e)}}class vu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vp(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new mo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new mo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:xte(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class yo extends class kte{convertValue(e,n="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){const r={};return Zs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new KT(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=ls(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);oe(aF(r));const i=new $a(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||_t(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function Ote(t){return Fl(Ne(t.firestore,Ye),[new vl(t._key,vt.none())])}function Pte(t,e){const n=Ne(t.firestore,Ye),r=EL(t),i=function eD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Fl(n,[QT(yu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,vt.exists(!1))]).then(()=>r)}function Fl(t,e){return function(n,r){const i=new Bt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Uee(t,e,n){return mT.apply(this,arguments)}(yield function qT(t){return fp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Rt(t),e)}!function(t,e=!0){Va="9.6.7",Vn(new An("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ye(i,new MX(n.getProvider("auth-internal")),new NX(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),st(cP,"3.4.5",t),st(cP,"3.4.5","esm2017")}();class Ep{constructor(e){return e}}const qL="firestore",nD=new we("angularfire2.firestore-instances");function jte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ep(r)}}const Bte={provide:class Ute{constructor(){return Uv(qL)}},deps:[[new ct,nD]]},$te={provide:Ep,useFactory:function Vte(t,e){const n=Lv(qL,t,e);return n&&new Ep(n)},deps:[[new ct,nD],Ma]};let Hte=(()=>{class t{constructor(){st("angularfire",Ph.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:[$te,Bte]}),t})();function qte(t,...e){return{ngModule:Hte,providers:[{provide:nD,useFactory:jte(t),multi:!0,deps:[Je,Dt,Vv,jv,[new ct,WN],[new ct,rw],...e]}]}}const Gte=rs(Pte,!0),zte=rs(mte,!0),Wte=rs(Ote,!0),Kte=rs(wte,!0);var Qte={includeMetadataChanges:!1};function rD(t,e){return void 0===e&&(e=Qte),new Se(function(n){var r=function Fte(t,...e){var n,r,i;t=vr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||WT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(WT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ht)c=Ne(t.firestore,Ye),l=Wa(t._key.path),u={next:d=>{e[o]&&e[o](function tD(t,e,n){const r=n.docs.get(e._key),i=new yo(t);return new _u(t,i,e._key,r,new mo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ne(t,vn);c=Ne(d.firestore,Ye),l=d._query;const h=new yo(c);u={next:f=>{e[o]&&e[o](new vu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function PL(t){if(qf(t)&&0===t.explicitOrderBy.length)throw new k(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new hp(p),_=new dT(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function oT(t,e){return aT.apply(this,arguments)}(yield gu(d),_)})),()=>{m.Jc(),d.asyncQueue.enqueueAndForget(g(function*(){return function uT(t,e){return cT.apply(this,arguments)}(yield gu(d),_)}))}}(Rt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}let rne=(()=>{class t{constructor(n){this.store=n,this.components=null,this.collection=null,this.dbPath=""}getAll(){if(!this.components){const n=localStorage.getItem("user");if(!n)return;const r=JSON.parse(n).uid;this.dbPath=`/users/${r}/components`,this.collection=zte(this.store,this.dbPath),this.components=function nne(t,e){return void 0===e&&(e={}),function tne(t){return rD(t,{includeMetadataChanges:!0}).pipe(Pe(function(e){return e.docs}))}(t).pipe(Pe(function(n){return n.map(function(r){return function GL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}(this.collection,{idField:"fireID"})}return this.components}addComponent(n){this.collection&&Gte(this.collection,n)}deleteComponent(n){if(this.collection){const r=EL(this.store,`${this.dbPath}/${n.fireID}`);Wte(r)}}}return t.\u0275fac=function(n){return new(n||t)(Q(Ep))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class QL{}class YL{}class Vi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Vi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Vi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Vi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class ine{encodeKey(e){return JL(e)}encodeValue(e){return JL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const one=/%(\d[a-f0-9])/gi,ane={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function JL(t){return encodeURIComponent(t).replace(one,(e,n)=>{var r;return null!==(r=ane[n])&&void 0!==r?r:e})}function XL(t){return`${t}`}class _s{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ine,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sne(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new _s({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(XL(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(XL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class une{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ZL(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function eU(t){return"undefined"!=typeof Blob&&t instanceof Blob}function tU(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ll{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cne(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Vi),this.context||(this.context=new une),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new _s,this.urlWithParams=n}serializeBody(){return null===this.body?null:ZL(this.body)||eU(this.body)||tU(this.body)||function lne(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _s?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tU(this.body)?null:eU(this.body)?this.body.type||null:ZL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _s?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new Ll(r,i,o,{params:l,headers:c,context:d,reportProgress:u,responseType:s,withCredentials:a})}}var Et=(()=>((Et=Et||{})[Et.Sent=0]="Sent",Et[Et.UploadProgress=1]="UploadProgress",Et[Et.ResponseHeader=2]="ResponseHeader",Et[Et.DownloadProgress=3]="DownloadProgress",Et[Et.Response=4]="Response",Et[Et.User=5]="User",Et))();class oD{constructor(e,n=200,r="OK"){this.headers=e.headers||new Vi,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class aD extends oD{constructor(e={}){super(e),this.type=Et.ResponseHeader}clone(e={}){return new aD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ip extends oD{constructor(e={}){super(e),this.type=Et.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ip({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nU extends oD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uD(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let cD=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Ll)s=n;else{let u,c;u=i.headers instanceof Vi?i.headers:new Vi(i.headers),i.params&&(c=i.params instanceof _s?i.params:new _s({fromObject:i.params})),s=new Ll(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ge(s).pipe(ga(u=>this.handler.handle(u)));if(n instanceof Ll||"events"===i.observe)return o;const a=o.pipe(ks(u=>u instanceof Ip));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new _s).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,uD(i,r))}post(n,r,i={}){return this.request("POST",n,uD(i,r))}put(n,r,i={}){return this.request("PUT",n,uD(i,r))}}return t.\u0275fac=function(n){return new(n||t)(Q(QL))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class rU{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const iU=new we("HTTP_INTERCEPTORS");let dne=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const hne=/^\)\]\}',?\n/;let sU=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Se(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",m=new Vi(i.getAllResponseHeaders()),_=function fne(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new aD({headers:m,status:f,statusText:p,url:_}),o},u=()=>{let{headers:f,status:p,statusText:m,url:_}=a(),I=null;204!==p&&(I=void 0===i.response?i.responseText:i.response),0===p&&(p=I?200:0);let v=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof I){const U=I;I=I.replace(hne,"");try{I=""!==I?JSON.parse(I):null}catch(Y){I=U,v&&(v=!1,I={error:Y,text:I})}}v?(r.next(new Ip({body:I,headers:f,status:p,statusText:m,url:_||void 0})),r.complete()):r.error(new nU({error:I,headers:f,status:p,statusText:m,url:_||void 0}))},c=f=>{const{url:p}=a(),m=new nU({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:Et.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Et.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Et.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(Q(qM))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const lD=new we("XSRF_COOKIE_NAME"),dD=new we("XSRF_HEADER_NAME");class oU{}let pne=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=LM(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(Q(er),Q(ha),Q(lD))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),hD=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(oU),Q(dD))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),gne=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(iU,[]);this.chain=r.reduceRight((i,s)=>new rU(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(YL),Q(Dt))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),mne=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:hD,useClass:dne}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:lD,useValue:n.cookieName}:[],n.headerName?{provide:dD,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:[hD,{provide:iU,useExisting:hD,multi:!0},{provide:oU,useClass:pne},{provide:lD,useValue:"XSRF-TOKEN"},{provide:dD,useValue:"X-XSRF-TOKEN"}]}),t})(),yne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({providers:[cD,{provide:QL,useClass:gne},sU,{provide:YL,useExisting:sU}],imports:[[mne.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function _ne(t,e){if(1&t&&(be(0,"div",14),be(1,"div",15),Jt(2),Te(),be(3,"div",16),Tn(4,"img",17),Te(),be(5,"div",18),Jt(6),Te(),be(7,"div",9),Jt(8,"/"),Te(),be(9,"div",19),Jt(10),Te(),Te()),2&t){const n=e.$implicit;Le(2),Qi(n.weekday),Le(2),ec("src","../../../assets/img/weather/",n.weather_icon,".svg",Lo),Le(2),Yi("",n.min,"\xb0"),Le(4),Yi("",n.max,"\xb0")}}let vne=(()=>{class t{constructor(n){this.http=n,this.WEATHER_API_KEY="9a48ea7d19a72a24440fbb791b7f0a55",this.LATITUDE=47.398577,this.LONGITUDE=8.599249,this.NUM_DAYS=5,this.weatherData=this.http.get(`https://api.open-meteo.com/v1/forecast?latitude=${this.LATITUDE}&longitude=${this.LONGITUDE}&daily=apparent_temperature_max,apparent_temperature_min,precipitation_sum,weathercode&current_weather=true&timezone=Europe%2FBerlin`).pipe(FD()),this.weatherData.subscribe(this.parseWeatherData.bind(this))}toDayString(n){switch(n%7){case 0:return"So";case 1:return"Mo";case 2:return"Di";case 3:return"Mi";case 4:return"Do";case 5:return"Fr";default:return"Sa"}}toSVGPath(n){return`src/img/weather/${n=n.replace("n","d")}.svg`}parseWeatherData(n){console.log(n),this.temperature=Math.round(n.current_weather.temperature),this.wind=Math.round(n.current_weather.windspeed),this.weather_icon=n.current_weather.weathercode,this.rain=Math.round(n.daily.precipitation_sum[0]),this.forecast=[];for(let r=1;r<=this.NUM_DAYS;r++){const i=new Date,s=this.toDayString(i.getDay()+r),o=Math.round(n.daily.apparent_temperature_min[r]),a=Math.round(n.daily.apparent_temperature_max[r]);this.forecast.push({min:o,max:a,weekday:s,weather_icon:n.daily.weathercode[r]})}}}return t.\u0275fac=function(n){return new(n||t)(Z(cD))},t.\u0275cmp=Hr({type:t,selectors:[["app-weather"]],inputs:{latitude:"latitude"},decls:18,vars:5,consts:[[1,"grid","grid-cols-1","grid-rows-2","gap-2","h-screen",2,"padding-top","120px"],[1,"grid","grid-cols-2","gap-2","p-4"],["alt","","srcset","",3,"src"],[1,"text-8xl","font-bold","text-right"],[1,"grid","grid-cols-2","h-10","pt-2"],[1,""],["src","../../../assets/img/weather/raindrop.svg","width","29px"],[1,"text-xl","text-center"],[1,"grid","grid-cols-2","h-10","pt-2","justify-items-center"],[1,"text-center"],["src","../../../assets/img/weather/wind.svg","width","29px"],["id","wind",1,"text-xl","text-center"],[1,"place-content-evenly","col-span-2","pl-2","pr-4",2,"padding-top","120px"],["class","grid grid-cols-7 gap-4 text-xl pb-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-7","gap-4","text-xl","pb-2"],["id","weekday-0",1,"col-span-2"],[1,"col-span-2","justify-self-center"],["width","29px",3,"src"],["id","min-temp-0",1,"text-right"],["id","max-temp-0"]],template:function(n,r){1&n&&(be(0,"div",0),be(1,"div",1),be(2,"div"),Tn(3,"img",2),Te(),be(4,"div",3),Jt(5),Te(),be(6,"div",4),be(7,"div",5),Tn(8,"img",6),Te(),be(9,"div",7),Jt(10),Te(),Te(),be(11,"div",8),be(12,"div",9),Tn(13,"img",10),Te(),be(14,"div",11),Jt(15),Te(),Te(),Te(),be(16,"div",12),Zn(17,_ne,11,4,"div",13),Te(),Te()),2&n&&(Le(3),ec("src","../../../assets/img/weather/",r.weather_icon,".svg",Lo),Le(2),Yi("",r.temperature,"\xb0"),Le(5),Yi("",r.rain," mm"),Le(5),Yi("",r.wind," km/h"),Le(2),gn("ngForOf",r.forecast))},directives:[mc],styles:[""]}),t})(),wne=(()=>{class t{constructor(){this.type=""}ngAfterViewInit(){this.refreshTime(),setInterval(()=>{this.refreshTime()},1e3)}refreshTime(){const n=new Date;this.hours=n.getHours().toString(),this.minutes=n.getMinutes().toString(),1==this.minutes.length&&(this.minutes="0"+this.minutes)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hr({type:t,selectors:[["app-clock"]],inputs:{type:"type"},decls:2,vars:2,consts:[[1,"text-8xl","font-bold","place-items-center","flex","justify-center","items-center","m-4",2,"padding-top","120px"]],template:function(n,r){1&n&&(be(0,"div",0),Jt(1),Te()),2&n&&(Le(1),_m("",r.hours,":",r.minutes,""))},styles:[""]}),t})();function Ene(t,e){if(1&t&&(be(0,"div",8),Jt(1),Te()),2&t){const n=vi().$implicit;Le(1),Qi(n.delay)}}function Ine(t,e){if(1&t&&(be(0,"div",2),be(1,"div",3),Jt(2),Te(),Zn(3,Ene,2,1,"div",4),be(4,"div",5),Jt(5),Te(),be(6,"div",6),Jt(7),Te(),Tn(8,"img",7),Te()),2&t){const n=e.$implicit;Le(2),Qi(n.departure),Le(1),gn("ngIf",n.delay>0),Le(2),Qi(n.destination),Le(2),Qi(n.arrival)}}let bne=(()=>{class t{constructor(){this.connections=[]}ngOnInit(){var n=this;return g(function*(){for(let r=0;r<n.destinations.length;r++){let i={},s=yield n.getSbbDepartures(n.destinations[r]);i.departure=s[0],i.arrival=s[1],i.delay=s[2],i.destination=n.destinations[r],n.connections.push(i)}})()}formatTimeString(n){return n=(n=(n=n.replace(/-/g,"/")).replace(/T/g," ")).substring(0,n.length-5),new Date(Date.parse(n)).toLocaleString("de-CH",{hour:"2-digit",minute:"2-digit"})}getDelay(n,r){const i=Date.parse(n),s=Date.parse(r),o=Math.round((s-i)/1e3/60);return o>0?`+${o}`:`${o}`}getSbbDepartures(n){var r=this;return g(function*(){const i=`https://transport.opendata.ch/v1/connections?from=${r.start}&to=${n}`,a=(yield(yield fetch(i)).json()).connections[0],u=a.from.departure,c=a.to.arrival,l=a.from.prognosis.departure;return new Array(r.formatTimeString(u),r.formatTimeString(c),r.getDelay(u,l))})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hr({type:t,selectors:[["app-sbb"]],inputs:{start:"start",destinations:"destinations"},decls:3,vars:1,consts:[["id","verbindungen-titel",1,"text-6xl","font-bold","justify-items-center","text-left"],["class","grid grid-cols-12 gap-y-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-y-2"],["id","eth-dep"],["id","eth-delay","class","bg-red-700 rounded-full h-5 w-5 place-self-start text-center text-xs",4,"ngIf"],[1,"col-start-10","col-span-2"],["id","eth-arr",1,"col-start-12","text-right"],["src","../../../assets/img/trains/trainline.svg",1,"col-span-12"],["id","eth-delay",1,"bg-red-700","rounded-full","h-5","w-5","place-self-start","text-center","text-xs"]],template:function(n,r){1&n&&(be(0,"div",0),Jt(1,"Verbindungen"),Te(),Zn(2,Ine,9,4,"div",1)),2&n&&(Le(2),gn("ngForOf",r.connections))},directives:[mc,fy],styles:[""]}),t})();var Tne=D(482);let Dne=(()=>{class t{constructor(){}ngOnInit(){var n=this;return g(function*(){n.displayMeme()})()}ngAfterViewInit(){this.displayMeme(),setInterval(()=>{this.displayMeme()},3e5)}displayMeme(){var n=this;return g(function*(){let r=yield n.getMemes();n.memeUrl=r[0].image})()}getMemes(){return g(function*(){const n=yield Tne.fetch({type:"meme"});return console.log(n),n})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hr({type:t,selectors:[["app-memes"]],decls:2,vars:1,consts:[[1,"text-center","p-4"],["alt","",1,"object-scale-down",3,"src"]],template:function(n,r){1&n&&(be(0,"div",0),Tn(1,"img",1),Te()),2&n&&(Le(1),Zu("src",r.memeUrl,Lo))},styles:[""]}),t})();function Cne(t,e){if(1&t&&(be(0,"li"),Jt(1),Te()),2&t){const n=e.$implicit;Le(1),Qi(n)}}let Sne=(()=>{class t{constructor(){this.entries=[]}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hr({type:t,selectors:[["app-todo"]],inputs:{entries:"entries"},decls:5,vars:1,consts:[[1,"p-2"],[1,"font-bold","text-6xl","pb-8"],[1,"list-disc","list-inside"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(be(0,"div",0),be(1,"div",1),Jt(2,"To Do's"),Te(),be(3,"ul",2),Zn(4,Cne,2,1,"li",3),Te(),Te()),2&n&&(Le(4),gn("ngForOf",r.entries))},directives:[mc],styles:[""]}),t})();function Ane(t,e){1&t&&Tn(0,"div"),2&t&&function SA(t,e,n){Nr(Yn,Xr,Ko(M(),t,e,n),!0)}("flex items-center justify-center ",vi().$implicit.classes,"")}function xne(t,e){if(1&t&&(be(0,"div"),Tn(1,"app-weather",4),Te()),2&t){const n=vi().$implicit;ia(n.classes),Le(1),Zu("latitude",n.properties.latitude)}}function Mne(t,e){1&t&&(be(0,"div"),Tn(1,"app-clock"),Te()),2&t&&ia(vi().$implicit.classes)}function Rne(t,e){if(1&t&&(be(0,"div"),Tn(1,"app-sbb",5),Te()),2&t){const n=vi().$implicit;ia(n.classes),Le(1),Zu("start",n.properties.start),gn("destinations",n.properties.destinations)}}function kne(t,e){1&t&&(be(0,"div"),Tn(1,"app-memes"),Te()),2&t&&ia(vi().$implicit.classes)}function Nne(t,e){if(1&t&&(be(0,"div"),Tn(1,"app-todo",6),Te()),2&t){const n=vi().$implicit;ia(n.classes),Le(1),gn("entries",n.properties.entries)}}function One(t,e){if(1&t&&(function pm(t,e,n){const r=M(),i=Me(),s=t+20,o=i.firstCreatePass?function v$(t,e,n,r,i){const s=e.consts,o=Hi(s,r),a=Bo(e,t,8,"ng-container",o);return null!==o&&Sd(a,o,!0),zg(e,n,a,Hi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Gr(o,!0);const a=r[s]=r[11].createComment("");wd(i,r,a,o),fn(a,r),Yl(o)&&(qg(i,r,o),$C(i,o,r)),null!=n&&Gg(r,o)}(0),Zn(1,Ane,1,3,"div",3),Zn(2,xne,2,4,"div",3),Zn(3,Mne,2,3,"div",3),Zn(4,Rne,2,5,"div",3),Zn(5,kne,2,3,"div",3),Zn(6,Nne,2,4,"div",3),function gm(){let t=bt();const e=Me();Gp()?zp():(t=t.parent,Gr(t,!1)),e.firstCreatePass&&(nd(e,t),Lp(t)&&e.queries.elementEnd(t))}()),2&t){const n=e.$implicit;Le(1),gn("ngIf","empty"==n.id),Le(1),gn("ngIf","weather"==n.id),Le(1),gn("ngIf","clock"==n.id),Le(1),gn("ngIf","sbb"==n.id),Le(1),gn("ngIf","meme"==n.id),Le(1),gn("ngIf","todo"==n.id)}}function Pne(t,e){if(1&t){const n=function GS(){return M()}();be(0,"button",7),Xu("click",function(){return function r0(t){return ae.lFrame.contextLView=t,t[8]}(n),vi().login()}),Jt(1,"Login"),Te()}}const Fne=[{path:"",component:(()=>{class t{constructor(n,r){this.authService=n,this.firestoreService=r,this.userComponents=[]}augmentComponentClasses(){for(const n of this.userComponents){let r;switch(+n.position){case 1:r="col-start-1 row-start-1";break;case 2:r="col-start-2 row-start-1";break;case 3:r="col-start-3 row-start-1";break;case 4:r="col-start-1 row-start-2";break;case 5:r="col-start-2 row-start-2";break;case 6:r="col-start-3 row-start-2"}r+=` row-span-${n.height} col-span-${n.width}`,n.classes=r}this.emptyPositions=Array(6-this.userComponents.length).fill(0)}ngAfterContentInit(){var n=this;return g(function*(){n.signedOut=!0,localStorage.getItem("user")?(n.subscribe(),n.signedOut=!1):(yield n.authService.storeUser(),localStorage.getItem("user")&&(n.signedOut=!1,n.subscribe()))})()}login(){var n=this;return g(function*(){n.authService.login()})()}subscribe(){var n;null===(n=this.firestoreService.getAll())||void 0===n||n.subscribe(r=>{this.userComponents=r,this.augmentComponentClasses()})}}return t.\u0275fac=function(n){return new(n||t)(Z(wJ),Z(rne))},t.\u0275cmp=Hr({type:t,selectors:[["app-display"]],decls:3,vars:2,consts:[[1,"grid","grid-cols-3","grid-rows-2","gap-2","pl-4","overflow-hidden","pr-4","h-screen","max-h-screen","w-screen","bg-black","text-white"],[4,"ngFor","ngForOf"],["class","bg-red-800",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"latitude"],[3,"start","destinations"],[3,"entries"],[1,"bg-red-800",3,"click"]],template:function(n,r){1&n&&(be(0,"div",0),Zn(1,One,7,6,"ng-container",1),Zn(2,Pne,2,0,"button",2),Te()),2&n&&(Le(1),gn("ngForOf",r.userComponents),Le(1),gn("ngIf",r.signedOut))},directives:[mc,fy,vne,wne,bne,Dne,Sne],styles:[""]}),t})()}];let Lne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=cr({type:t}),t.\u0275inj=Wn({imports:[[sk.forRoot(Fne)],sk]}),t})(),Une=(()=>{class t{constructor(){this.title="smart-mirror-display"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Tn(0,"router-outlet")},directives:[Vy],styles:[""]}),t})();const aU_firebase={projectId:"smartmirror-339017",appId:"1:661778699910:web:dbc8203725b2549943a307",storageBucket:"smartmirror-339017.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAZZi5_oJPdyujGe1CRpQymlv6bptkg-5M",authDomain:"smartmirror-339017.firebaseapp.com",messagingSenderId:"661778699910"};let jne=(()=>{class t{constructor(n){this.http=n}getWeatherData(){return this.http.get("https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&daily=weathercode,temperature_2m_max,temperature_2m_min&current_weather=true&timezone=Europe%2FBerlin")}}return t.\u0275fac=function(n){return new(n||t)(Q(cD))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=cr({type:t,bootstrap:[Une]}),t.\u0275inj=Wn({providers:[jne],imports:[[uW,Lne,B7(()=>$7(aU_firebase)),mJ(()=>yJ()),qte(()=>Kte()),yne]]}),t})();(function UG(){dM=!1})(),oW().bootstrapModule(Bne).catch(t=>console.error(t))},14:(V,ue,D)=>{V.exports=D(114)},729:(V,ue,D)=>{"use strict";var E=D(701),P=D(858),R=D(738),C=D(625),S=D(215),L=D(99),w=D(100),F=D(593);V.exports=function(y){return new Promise(function(J,ie){var z=y.data,K=y.headers,et=y.responseType;E.isFormData(z)&&delete K["Content-Type"];var A=new XMLHttpRequest;if(y.auth){var se=y.auth.username||"",Ee=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";K.Authorization="Basic "+btoa(se+":"+Ee)}var me=S(y.baseURL,y.url);function ee(){if(A){var Nt="getAllResponseHeaders"in A?L(A.getAllResponseHeaders()):null;P(J,ie,{data:et&&"text"!==et&&"json"!==et?A.response:A.responseText,status:A.status,statusText:A.statusText,headers:Nt,config:y,request:A}),A=null}}if(A.open(y.method.toUpperCase(),C(me,y.params,y.paramsSerializer),!0),A.timeout=y.timeout,"onloadend"in A?A.onloadend=ee:A.onreadystatechange=function(){!A||4!==A.readyState||0===A.status&&(!A.responseURL||0!==A.responseURL.indexOf("file:"))||setTimeout(ee)},A.onabort=function(){!A||(ie(F("Request aborted",y,"ECONNABORTED",A)),A=null)},A.onerror=function(){ie(F("Network Error",y,null,A)),A=null},A.ontimeout=function(){var On="timeout of "+y.timeout+"ms exceeded";y.timeoutErrorMessage&&(On=y.timeoutErrorMessage),ie(F(On,y,y.transitional&&y.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",A)),A=null},E.isStandardBrowserEnv()){var tt=(y.withCredentials||w(me))&&y.xsrfCookieName?R.read(y.xsrfCookieName):void 0;tt&&(K[y.xsrfHeaderName]=tt)}"setRequestHeader"in A&&E.forEach(K,function(On,O){void 0===z&&"content-type"===O.toLowerCase()?delete K[O]:A.setRequestHeader(O,On)}),E.isUndefined(y.withCredentials)||(A.withCredentials=!!y.withCredentials),et&&"json"!==et&&(A.responseType=y.responseType),"function"==typeof y.onDownloadProgress&&A.addEventListener("progress",y.onDownloadProgress),"function"==typeof y.onUploadProgress&&A.upload&&A.upload.addEventListener("progress",y.onUploadProgress),y.cancelToken&&y.cancelToken.promise.then(function(On){!A||(A.abort(),ie(On),A=null)}),z||(z=null),A.send(z)})}},114:(V,ue,D)=>{"use strict";var E=D(701),P=D(414),R=D(490),C=D(971);function L(F){var x=new R(F),y=P(R.prototype.request,x);return E.extend(y,R.prototype,x),E.extend(y,x),y}var w=L(D(324));w.Axios=R,w.create=function(x){return L(C(w.defaults,x))},w.Cancel=D(413),w.CancelToken=D(56),w.isCancel=D(827),w.all=function(x){return Promise.all(x)},w.spread=D(936),w.isAxiosError=D(603),V.exports=w,V.exports.default=w},413:V=>{"use strict";function ue(D){this.message=D}ue.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ue.prototype.__CANCEL__=!0,V.exports=ue},56:(V,ue,D)=>{"use strict";var E=D(413);function P(R){if("function"!=typeof R)throw new TypeError("executor must be a function.");var C;this.promise=new Promise(function(w){C=w});var S=this;R(function(w){S.reason||(S.reason=new E(w),C(S.reason))})}P.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},P.source=function(){var C;return{token:new P(function(w){C=w}),cancel:C}},V.exports=P},827:V=>{"use strict";V.exports=function(D){return!(!D||!D.__CANCEL__)}},490:(V,ue,D)=>{"use strict";var E=D(701),P=D(625),R=D(607),C=D(957),S=D(971),L=D(828),w=L.validators;function F(x){this.defaults=x,this.interceptors={request:new R,response:new R}}F.prototype.request=function(y){"string"==typeof y?(y=arguments[1]||{}).url=arguments[0]:y=y||{},(y=S(this.defaults,y)).method=y.method?y.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var q=y.transitional;void 0!==q&&L.assertOptions(q,{silentJSONParsing:w.transitional(w.boolean,"1.0.0"),forcedJSONParsing:w.transitional(w.boolean,"1.0.0"),clarifyTimeoutError:w.transitional(w.boolean,"1.0.0")},!1);var J=[],ie=!0;this.interceptors.request.forEach(function(ee){"function"==typeof ee.runWhen&&!1===ee.runWhen(y)||(ie=ie&&ee.synchronous,J.unshift(ee.fulfilled,ee.rejected))});var K,z=[];if(this.interceptors.response.forEach(function(ee){z.push(ee.fulfilled,ee.rejected)}),!ie){var et=[C,void 0];for(Array.prototype.unshift.apply(et,J),et=et.concat(z),K=Promise.resolve(y);et.length;)K=K.then(et.shift(),et.shift());return K}for(var A=y;J.length;){var se=J.shift(),Ee=J.shift();try{A=se(A)}catch(me){Ee(me);break}}try{K=C(A)}catch(me){return Promise.reject(me)}for(;z.length;)K=K.then(z.shift(),z.shift());return K},F.prototype.getUri=function(y){return y=S(this.defaults,y),P(y.url,y.params,y.paramsSerializer).replace(/^\?/,"")},E.forEach(["delete","get","head","options"],function(y){F.prototype[y]=function(q,J){return this.request(S(J||{},{method:y,url:q,data:(J||{}).data}))}}),E.forEach(["post","put","patch"],function(y){F.prototype[y]=function(q,J,ie){return this.request(S(ie||{},{method:y,url:q,data:J}))}}),V.exports=F},607:(V,ue,D)=>{"use strict";var E=D(701);function P(){this.handlers=[]}P.prototype.use=function(C,S,L){return this.handlers.push({fulfilled:C,rejected:S,synchronous:!!L&&L.synchronous,runWhen:L?L.runWhen:null}),this.handlers.length-1},P.prototype.eject=function(C){this.handlers[C]&&(this.handlers[C]=null)},P.prototype.forEach=function(C){E.forEach(this.handlers,function(L){null!==L&&C(L)})},V.exports=P},215:(V,ue,D)=>{"use strict";var E=D(692),P=D(554);V.exports=function(C,S){return C&&!E(S)?P(C,S):S}},593:(V,ue,D)=>{"use strict";var E=D(124);V.exports=function(R,C,S,L,w){var F=new Error(R);return E(F,C,S,L,w)}},957:(V,ue,D)=>{"use strict";var E=D(701),P=D(134),R=D(827),C=D(324);function S(L){L.cancelToken&&L.cancelToken.throwIfRequested()}V.exports=function(w){return S(w),w.headers=w.headers||{},w.data=P.call(w,w.data,w.headers,w.transformRequest),w.headers=E.merge(w.headers.common||{},w.headers[w.method]||{},w.headers),E.forEach(["delete","get","head","post","put","patch","common"],function(y){delete w.headers[y]}),(w.adapter||C.adapter)(w).then(function(y){return S(w),y.data=P.call(w,y.data,y.headers,w.transformResponse),y},function(y){return R(y)||(S(w),y&&y.response&&(y.response.data=P.call(w,y.response.data,y.response.headers,w.transformResponse))),Promise.reject(y)})}},124:V=>{"use strict";V.exports=function(D,E,P,R,C){return D.config=E,P&&(D.code=P),D.request=R,D.response=C,D.isAxiosError=!0,D.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},D}},971:(V,ue,D)=>{"use strict";var E=D(701);V.exports=function(R,C){C=C||{};var S={},L=["url","method","data"],w=["headers","auth","proxy","params"],F=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],x=["validateStatus"];function y(z,K){return E.isPlainObject(z)&&E.isPlainObject(K)?E.merge(z,K):E.isPlainObject(K)?E.merge({},K):E.isArray(K)?K.slice():K}function q(z){E.isUndefined(C[z])?E.isUndefined(R[z])||(S[z]=y(void 0,R[z])):S[z]=y(R[z],C[z])}E.forEach(L,function(K){E.isUndefined(C[K])||(S[K]=y(void 0,C[K]))}),E.forEach(w,q),E.forEach(F,function(K){E.isUndefined(C[K])?E.isUndefined(R[K])||(S[K]=y(void 0,R[K])):S[K]=y(void 0,C[K])}),E.forEach(x,function(K){K in C?S[K]=y(R[K],C[K]):K in R&&(S[K]=y(void 0,R[K]))});var J=L.concat(w).concat(F).concat(x),ie=Object.keys(R).concat(Object.keys(C)).filter(function(K){return-1===J.indexOf(K)});return E.forEach(ie,q),S}},858:(V,ue,D)=>{"use strict";var E=D(593);V.exports=function(R,C,S){var L=S.config.validateStatus;S.status&&L&&!L(S.status)?C(E("Request failed with status code "+S.status,S.config,null,S.request,S)):R(S)}},134:(V,ue,D)=>{"use strict";var E=D(701),P=D(324);V.exports=function(C,S,L){var w=this||P;return E.forEach(L,function(x){C=x.call(w,C,S)}),C}},324:(V,ue,D)=>{"use strict";var E=D(701),P=D(620),R=D(124),C={"Content-Type":"application/x-www-form-urlencoded"};function S(x,y){!E.isUndefined(x)&&E.isUndefined(x["Content-Type"])&&(x["Content-Type"]=y)}var F={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function L(){var x;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(x=D(729)),x}(),transformRequest:[function(y,q){return P(q,"Accept"),P(q,"Content-Type"),E.isFormData(y)||E.isArrayBuffer(y)||E.isBuffer(y)||E.isStream(y)||E.isFile(y)||E.isBlob(y)?y:E.isArrayBufferView(y)?y.buffer:E.isURLSearchParams(y)?(S(q,"application/x-www-form-urlencoded;charset=utf-8"),y.toString()):E.isObject(y)||q&&"application/json"===q["Content-Type"]?(S(q,"application/json"),function w(x,y,q){if(E.isString(x))try{return(y||JSON.parse)(x),E.trim(x)}catch(J){if("SyntaxError"!==J.name)throw J}return(q||JSON.stringify)(x)}(y)):y}],transformResponse:[function(y){var q=this.transitional,z=!(q&&q.silentJSONParsing)&&"json"===this.responseType;if(z||q&&q.forcedJSONParsing&&E.isString(y)&&y.length)try{return JSON.parse(y)}catch(K){if(z)throw"SyntaxError"===K.name?R(K,this,"E_JSON_PARSE"):K}return y}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(y){return y>=200&&y<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(y){F.headers[y]={}}),E.forEach(["post","put","patch"],function(y){F.headers[y]=E.merge(C)}),V.exports=F},414:V=>{"use strict";V.exports=function(D,E){return function(){for(var R=new Array(arguments.length),C=0;C<R.length;C++)R[C]=arguments[C];return D.apply(E,R)}}},625:(V,ue,D)=>{"use strict";var E=D(701);function P(R){return encodeURIComponent(R).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}V.exports=function(C,S,L){if(!S)return C;var w;if(L)w=L(S);else if(E.isURLSearchParams(S))w=S.toString();else{var F=[];E.forEach(S,function(q,J){null==q||(E.isArray(q)?J+="[]":q=[q],E.forEach(q,function(z){E.isDate(z)?z=z.toISOString():E.isObject(z)&&(z=JSON.stringify(z)),F.push(P(J)+"="+P(z))}))}),w=F.join("&")}if(w){var x=C.indexOf("#");-1!==x&&(C=C.slice(0,x)),C+=(-1===C.indexOf("?")?"?":"&")+w}return C}},554:V=>{"use strict";V.exports=function(D,E){return E?D.replace(/\/+$/,"")+"/"+E.replace(/^\/+/,""):D}},738:(V,ue,D)=>{"use strict";var E=D(701);V.exports=E.isStandardBrowserEnv()?{write:function(C,S,L,w,F,x){var y=[];y.push(C+"="+encodeURIComponent(S)),E.isNumber(L)&&y.push("expires="+new Date(L).toGMTString()),E.isString(w)&&y.push("path="+w),E.isString(F)&&y.push("domain="+F),!0===x&&y.push("secure"),document.cookie=y.join("; ")},read:function(C){var S=document.cookie.match(new RegExp("(^|;\\s*)("+C+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove:function(C){this.write(C,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},692:V=>{"use strict";V.exports=function(D){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(D)}},603:V=>{"use strict";V.exports=function(D){return"object"==typeof D&&!0===D.isAxiosError}},100:(V,ue,D)=>{"use strict";var E=D(701);V.exports=E.isStandardBrowserEnv()?function(){var S,R=/(msie|trident)/i.test(navigator.userAgent),C=document.createElement("a");function L(w){var F=w;return R&&(C.setAttribute("href",F),F=C.href),C.setAttribute("href",F),{href:C.href,protocol:C.protocol?C.protocol.replace(/:$/,""):"",host:C.host,search:C.search?C.search.replace(/^\?/,""):"",hash:C.hash?C.hash.replace(/^#/,""):"",hostname:C.hostname,port:C.port,pathname:"/"===C.pathname.charAt(0)?C.pathname:"/"+C.pathname}}return S=L(window.location.href),function(F){var x=E.isString(F)?L(F):F;return x.protocol===S.protocol&&x.host===S.host}}():function(){return!0}},620:(V,ue,D)=>{"use strict";var E=D(701);V.exports=function(R,C){E.forEach(R,function(L,w){w!==C&&w.toUpperCase()===C.toUpperCase()&&(R[C]=L,delete R[w])})}},99:(V,ue,D)=>{"use strict";var E=D(701),P=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];V.exports=function(C){var L,w,F,S={};return C&&E.forEach(C.split("\n"),function(y){if(F=y.indexOf(":"),L=E.trim(y.substr(0,F)).toLowerCase(),w=E.trim(y.substr(F+1)),L){if(S[L]&&P.indexOf(L)>=0)return;S[L]="set-cookie"===L?(S[L]?S[L]:[]).concat([w]):S[L]?S[L]+", "+w:w}}),S}},936:V=>{"use strict";V.exports=function(D){return function(P){return D.apply(null,P)}}},828:(V,ue,D)=>{"use strict";var E=D(50),P={};["object","boolean","number","function","string","symbol"].forEach(function(w,F){P[w]=function(y){return typeof y===w||"a"+(F<1?"n ":" ")+w}});var R={},C=E.version.split(".");function S(w,F){for(var x=F?F.split("."):C,y=w.split("."),q=0;q<3;q++){if(x[q]>y[q])return!0;if(x[q]<y[q])return!1}return!1}P.transitional=function(F,x,y){var q=x&&S(x);function J(ie,z){return"[Axios v"+E.version+"] Transitional option '"+ie+"'"+z+(y?". "+y:"")}return function(ie,z,K){if(!1===F)throw new Error(J(z," has been removed in "+x));return q&&!R[z]&&(R[z]=!0,console.warn(J(z," has been deprecated since v"+x+" and will be removed in the near future"))),!F||F(ie,z,K)}},V.exports={isOlderVersion:S,assertOptions:function L(w,F,x){if("object"!=typeof w)throw new TypeError("options must be an object");for(var y=Object.keys(w),q=y.length;q-- >0;){var J=y[q],ie=F[J];if(ie){var z=w[J],K=void 0===z||ie(z,J,w);if(!0!==K)throw new TypeError("option "+J+" must be "+K)}else if(!0!==x)throw Error("Unknown option "+J)}},validators:P}},701:(V,ue,D)=>{"use strict";var E=D(414),P=Object.prototype.toString;function R(O){return"[object Array]"===P.call(O)}function C(O){return void 0===O}function q(O){return null!==O&&"object"==typeof O}function J(O){if("[object Object]"!==P.call(O))return!1;var Wt=Object.getPrototypeOf(O);return null===Wt||Wt===Object.prototype}function et(O){return"[object Function]"===P.call(O)}function ee(O,Wt){if(null!=O)if("object"!=typeof O&&(O=[O]),R(O))for(var It=0,wu=O.length;It<wu;It++)Wt.call(null,O[It],It,O);else for(var Ot in O)Object.prototype.hasOwnProperty.call(O,Ot)&&Wt.call(null,O[Ot],Ot,O)}V.exports={isArray:R,isArrayBuffer:function L(O){return"[object ArrayBuffer]"===P.call(O)},isBuffer:function S(O){return null!==O&&!C(O)&&null!==O.constructor&&!C(O.constructor)&&"function"==typeof O.constructor.isBuffer&&O.constructor.isBuffer(O)},isFormData:function w(O){return"undefined"!=typeof FormData&&O instanceof FormData},isArrayBufferView:function F(O){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(O):O&&O.buffer&&O.buffer instanceof ArrayBuffer},isString:function x(O){return"string"==typeof O},isNumber:function y(O){return"number"==typeof O},isObject:q,isPlainObject:J,isUndefined:C,isDate:function ie(O){return"[object Date]"===P.call(O)},isFile:function z(O){return"[object File]"===P.call(O)},isBlob:function K(O){return"[object Blob]"===P.call(O)},isFunction:et,isStream:function A(O){return q(O)&&et(O.pipe)},isURLSearchParams:function se(O){return"undefined"!=typeof URLSearchParams&&O instanceof URLSearchParams},isStandardBrowserEnv:function me(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:ee,merge:function tt(){var O={};function Wt(Ot,Se){O[Se]=J(O[Se])&&J(Ot)?tt(O[Se],Ot):J(Ot)?tt({},Ot):R(Ot)?Ot.slice():Ot}for(var It=0,wu=arguments.length;It<wu;It++)ee(arguments[It],Wt);return O},extend:function Nt(O,Wt,It){return ee(Wt,function(Ot,Se){O[Se]=It&&"function"==typeof Ot?E(Ot,It):Ot}),O},trim:function Ee(O){return O.trim?O.trim():O.replace(/^\s+|\s+$/g,"")},stripBOM:function On(O){return 65279===O.charCodeAt(0)&&(O=O.slice(1)),O}}},940:function(V,ue){!function(D){"use strict";function E(A){return Array.prototype.slice.call(A)}function P(A){return new Promise(function(se,Ee){A.onsuccess=function(){se(A.result)},A.onerror=function(){Ee(A.error)}})}function R(A,se,Ee){var me,ee=new Promise(function(tt,Nt){P(me=A[se].apply(A,Ee)).then(tt,Nt)});return ee.request=me,ee}function C(A,se,Ee){var me=R(A,se,Ee);return me.then(function(ee){if(ee)return new y(ee,me.request)})}function S(A,se,Ee){Ee.forEach(function(me){Object.defineProperty(A.prototype,me,{get:function(){return this[se][me]},set:function(ee){this[se][me]=ee}})})}function L(A,se,Ee,me){me.forEach(function(ee){ee in Ee.prototype&&(A.prototype[ee]=function(){return R(this[se],ee,arguments)})})}function w(A,se,Ee,me){me.forEach(function(ee){ee in Ee.prototype&&(A.prototype[ee]=function(){return this[se][ee].apply(this[se],arguments)})})}function F(A,se,Ee,me){me.forEach(function(ee){ee in Ee.prototype&&(A.prototype[ee]=function(){return C(this[se],ee,arguments)})})}function x(A){this._index=A}function y(A,se){this._cursor=A,this._request=se}function q(A){this._store=A}function J(A){this._tx=A,this.complete=new Promise(function(se,Ee){A.oncomplete=function(){se()},A.onerror=function(){Ee(A.error)},A.onabort=function(){Ee(A.error)}})}function ie(A,se,Ee){this._db=A,this.oldVersion=se,this.transaction=new J(Ee)}function z(A){this._db=A}S(x,"_index",["name","keyPath","multiEntry","unique"]),L(x,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),F(x,"_index",IDBIndex,["openCursor","openKeyCursor"]),S(y,"_cursor",["direction","key","primaryKey","value"]),L(y,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(A){A in IDBCursor.prototype&&(y.prototype[A]=function(){var se=this,Ee=arguments;return Promise.resolve().then(function(){return se._cursor[A].apply(se._cursor,Ee),P(se._request).then(function(me){if(me)return new y(me,se._request)})})})}),q.prototype.createIndex=function(){return new x(this._store.createIndex.apply(this._store,arguments))},q.prototype.index=function(){return new x(this._store.index.apply(this._store,arguments))},S(q,"_store",["name","keyPath","indexNames","autoIncrement"]),L(q,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),F(q,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),w(q,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new q(this._tx.objectStore.apply(this._tx,arguments))},S(J,"_tx",["objectStoreNames","mode"]),w(J,"_tx",IDBTransaction,["abort"]),ie.prototype.createObjectStore=function(){return new q(this._db.createObjectStore.apply(this._db,arguments))},S(ie,"_db",["name","version","objectStoreNames"]),w(ie,"_db",IDBDatabase,["deleteObjectStore","close"]),z.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},S(z,"_db",["name","version","objectStoreNames"]),w(z,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(A){[q,x].forEach(function(se){A in se.prototype&&(se.prototype[A.replace("open","iterate")]=function(){var Ee=E(arguments),me=Ee[Ee.length-1],ee=this._store||this._index,tt=ee[A].apply(ee,Ee.slice(0,-1));tt.onsuccess=function(){me(tt.result)}})})}),[x,q].forEach(function(A){A.prototype.getAll||(A.prototype.getAll=function(se,Ee){var me=this,ee=[];return new Promise(function(tt){me.iterateCursor(se,function(Nt){Nt?(ee.push(Nt.value),void 0===Ee||ee.length!=Ee?Nt.continue():tt(ee)):tt(ee)})})})}),D.openDb=function K(A,se,Ee){var me=R(indexedDB,"open",[A,se]),ee=me.request;return ee&&(ee.onupgradeneeded=function(tt){Ee&&Ee(new ie(ee.result,tt.oldVersion,ee.transaction))}),me.then(function(tt){return new z(tt)})},D.deleteDb=function et(A){return R(indexedDB,"deleteDatabase",[A])},Object.defineProperty(D,"__esModule",{value:!0})}(ue)},143:V=>{V.exports.searchType=["hot","top","rising"],V.exports.memeSubreddit=["memes","AdviceAnimals","AdviceAnimals+funny+memes","funny","PrequelMemes","SequelMemes","MemeEconomy","ComedyCemetery","dankmemes","terriblefacebookmemes","shittyadviceanimals","wholesomememes","me_irl","2meirl4meirl","i_irl","meirl","BikiniBottomTwitter","trippinthroughtime","boottoobig","HistoryMemes","OTMemes","starterpacks","gifs","rickandmorty","FellowKids","Memes_Of_The_Dank","raimimemes","comedyhomicide","lotrmemes","freefolk","GameOfThronesMemes","howyoudoin","HolUp","meme","memeswithoutmods","dankmeme","suicidebywords","puns","PerfectTiming"],V.exports.wallpaperSubreddit=["wallpaper","wallpapers","iWallpaper","earthporn","SkyPorn","Beachporn","multiwall","ImaginaryStarscapes","ImaginaryLandscapes","ImaginaryFuturism","ExposurePorn","phonewallpapers","MobileWallpaper","iphonewallpapers","iphonexwallpapers","ImaginaryBestOf","ReasonableFantasy","BirdsForScale","SympatheticMonsters","EpicMounts","ImaginaryBehemoths","mtgporn","ImaginaryLeviathans","ImaginaryColorscapes","ImaginaryCityscapes","ImaginaryMindscapes","Cyberpunk","ImaginaryCyberpunk","ImaginaryFeels","ImaginaryTechnology","wallpaperengine"]},482:(V,ue,D)=>{var E=D(926).default;const P=D(689),R=D(848),C=D(143),L=function(){var F=E(function*(x={}){try{let y=75,q=1,J="meme",ie=C.memeSubreddit;if("object"==typeof x&&void 0!==x.type&&("wallpaper"===x.type?(J="wallpaper",ie=C.wallpaperSubreddit):"custom"===x.type&&(J="custom",ie=[])),"object"==typeof x){if(void 0!==x.total){if(x.total>50)throw Error("max value of total is 50");if(x.total<1)throw Error("min value of total is 1");q=x.total}void 0!==x.addSubreddit&&(ie=ie.concat(x.addSubreddit)),void 0!==x.removeSubreddit&&x.removeSubreddit.forEach(z=>{let K=ie.indexOf(z);-1!==K&&ie.splice(K,1)}),"custom"===J&&void 0!==x.subreddit&&(ie=x.subreddit)}if(!ie.length)throw Error("Can not fetch from empty subreddit library");return yield w(parseInt(q),J,ie,y)}catch(y){return console.error(y),[]}});return function(){return F.apply(this,arguments)}}(),w=function(){var F=E(function*(x,y,q,J,ie=0,z=[]){if(50==++ie)throw Error("Maximum retry limit exceeded");let K;try{let A=R.randomNumber(0,q.length);K=yield R.getRequest("https://api.reddit.com/r/"+q[A]+"/"+P.pick(C.searchType,{picks:1})+"?limit="+J)}catch(A){return yield w(x,y,q,J,ie)}return K.data.data.children.forEach(A=>{let se=!0;"wallpaper"===y&&(se=!1),void 0!==A.data&&void 0!==A.data.url&&R.isImageUrl(A.data.url,se)&&z.push(R.formatPost(A.data,y))}),z.length<x&&(z=yield w(x,y,q,J,ie,z)),1===x?[P.pick(z,{picks:x})]:P.pick(z,{picks:x})});return function(y,q,J,ie){return F.apply(this,arguments)}}();V.exports.fetch=L},848:(V,ue,D)=>{var E=D(926).default;const P=D(14),S=function(){var w=E(function*(F){try{return P.get(F)}catch(x){throw Error(x)}});return function(x){return w.apply(this,arguments)}}();V.exports.randomNumber=(w,F)=>(w=Math.ceil(w),F=Math.floor(F),Math.floor(Math.random()*(F-w))+w),V.exports.isImageUrl=(w,F=!0)=>F?!w.includes(".gifv")&&(w.includes(".jpg")||w.includes(".png")||w.includes(".gif")||w.includes(".jpeg")):!w.includes(".gifv")&&(w.includes(".jpg")||w.includes(".png")||w.includes(".jpeg")),V.exports.getRequest=S,V.exports.formatPost=(w,F)=>({id:void 0!==w.id?w.id:null,type:F,title:void 0!==w.title?w.title:null,postLink:void 0!==w.id?"https://redd.it/"+w.id:null,image:void 0!==w.url?w.url:null,thumbnail:void 0!==w.thumbnail?w.thumbnail:null,subreddit:void 0!==w.subreddit?w.subreddit:null,NSFW:void 0!==w.over_18?w.over_18:null,spoiler:void 0!==w.spoiler?w.spoiler:null,createdUtc:void 0!==w.created_utc?w.created_utc:null,upvotes:void 0!==w.ups?w.ups:null,upvoteRatio:void 0!==w.upvote_ratio?w.upvote_ratio:null})},689:V=>{"use strict";function ue(D,E){if(!Array.isArray(D))throw new Error("shuffle expect an array as parameter.");var S,L,P=D,R=D.length,C=(E=E||{}).rng||Math.random;for(!0===E.copy&&(P=D.slice());R;)S=Math.floor(C()*R),L=P[R-=1],P[R]=P[S],P[S]=L;return P}ue.pick=function(D,E){if(!Array.isArray(D))throw new Error("shuffle.pick() expect an array as parameter.");var P=(E=E||{}).rng||Math.random,R=E.picks||1;if("number"==typeof R&&1!==R){for(var w,C=D.length,S=D.slice(),L=[];R&&C;)w=Math.floor(P()*C),L.push(S[w]),S.splice(w,1),C-=1,R-=1;return L}return D[Math.floor(P()*D.length)]},V.exports=ue},926:V=>{function ue(E,P,R,C,S,L,w){try{var F=E[L](w),x=F.value}catch(y){return void R(y)}F.done?P(x):Promise.resolve(x).then(C,S)}V.exports=function D(E){return function(){var P=this,R=arguments;return new Promise(function(C,S){var L=E.apply(P,R);function w(x){ue(L,C,S,w,F,"next",x)}function F(x){ue(L,C,S,w,F,"throw",x)}w(void 0)})}},V.exports.default=V.exports,V.exports.__esModule=!0},50:V=>{"use strict";V.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},V=>{V(V.s=211)}]);