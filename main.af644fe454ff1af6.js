(self.webpackChunksmart_mirror_display=self.webpackChunksmart_mirror_display||[]).push([[179],{786:(cl,ll,ji)=>{"use strict";function me(t){return"function"==typeof t}function Vs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ai=Vs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function js(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class $e{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(me(r))try{r()}catch(s){e=s instanceof ai?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{qa(s)}catch(o){e=null!=e?e:[],o instanceof ai?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ai(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qa(e);else{if(e instanceof $e){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&js(n,e)}remove(e){const{_teardowns:n}=this;n&&js(n,e),e instanceof $e&&e._removeParent(this)}}$e.EMPTY=(()=>{const t=new $e;return t.closed=!0,t})();const Bs=$e.EMPTY;function Bi(t){return t instanceof $e||t&&"closed"in t&&me(t.remove)&&me(t.add)&&me(t.unsubscribe)}function qa(t){me(t)?t():t.unsubscribe()}const Bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ur={setTimeout(...t){const{delegate:e}=ur;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=ur;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function pn(t){ur.setTimeout(()=>{const{onUnhandledError:e}=Bt;if(!e)throw t;e(t)})}function cr(){}const $s=Ga("C",void 0,void 0);function Ga(t,e,n){return{kind:t,value:e,error:n}}let R=null;function J(t){if(Bt.useDeprecatedSynchronousErrorHandling){const e=!R;if(e&&(R={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=R;if(R=null,n)throw r}}else t()}class fe extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bi(e)&&e.add(this)):this.destination=cL}static create(e,n,r){return new ne(e,n,r)}next(e){this.isStopped?zf(function Wf(t){return Ga("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?zf(function Hs(t){return Ga("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zf($s,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ne extends fe{constructor(e,n,r){let i;if(super(),me(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&Bt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?$t(i):cr,error:$t(null!=n?n:ui),complete:r?$t(r):cr}}}function $t(t,e){return(...n)=>{try{t(...n)}catch(r){Bt.useDeprecatedSynchronousErrorHandling?function le(t){Bt.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=t)}(r):pn(r)}}}function ui(t){throw t}function zf(t,e){const{onStoppedNotification:n}=Bt;n&&ur.setTimeout(()=>n(t,e))}const cL={closed:!0,next:cr,error:ui,complete:cr},Kf="function"==typeof Symbol&&Symbol.observable||"@@observable";function $i(t){return t}let De=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function dL(t){return t&&t instanceof fe||function lL(t){return t&&me(t.next)&&me(t.error)&&me(t.complete)}(t)&&Bi(t)}(n)?n:new ne(n,r,i);return J(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=PT(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Kf](){return this}pipe(...n){return function NT(t){return 0===t.length?$i:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=PT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function PT(t){var e;return null!==(e=null!=t?t:Bt.Promise)&&void 0!==e?e:Promise}const hL=Vs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mr=(()=>{class t extends De{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new OT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hL}next(n){J(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Bs:(s.push(n),new $e(()=>js(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new De;return n.source=this,n}}return t.create=(e,n)=>new OT(e,n),t})();class OT extends Mr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Bs}}function FT(t){return me(null==t?void 0:t.lift)}function _t(t){return e=>{if(FT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class vt extends fe{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function _e(t,e){return _t((n,r)=>{let i=0;n.subscribe(new vt(r,s=>{r.next(t.call(e,s,i++))}))})}function Hi(t){return this instanceof Hi?(this.v=t,this):new Hi(t)}function gL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Hi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function mL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function VT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const jT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function BT(t){return me(null==t?void 0:t.then)}function $T(t){return me(t[Kf])}function HT(t){return Symbol.asyncIterator&&me(null==t?void 0:t[Symbol.asyncIterator])}function qT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GT=function _L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function WT(t){return me(null==t?void 0:t[GT])}function zT(t){return gL(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Hi(n.read());if(i)return yield Hi(void 0);yield yield Hi(r)}}finally{n.releaseLock()}})}function KT(t){return me(null==t?void 0:t.getReader)}function Rr(t){if(t instanceof De)return t;if(null!=t){if($T(t))return function vL(t){return new De(e=>{const n=t[Kf]();if(me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(jT(t))return function wL(t){return new De(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(BT(t))return function EL(t){return new De(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pn)})}(t);if(HT(t))return QT(t);if(WT(t))return function IL(t){return new De(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(KT(t))return function DL(t){return QT(zT(t))}(t)}throw qT(t)}function QT(t){return new De(e=>{(function TL(t,e){var n,r,i,s;return function fL(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=mL(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function kr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function at(t,e,n=1/0){return me(e)?at((r,i)=>_e((s,o)=>e(r,s,i,o))(Rr(t(r,i))),n):("number"==typeof e&&(n=e),_t((r,i)=>function bL(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;Rr(n(m,l++)).subscribe(new vt(e,w=>{null==i||i(w),s?f(w):e.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const w=u.shift();o?kr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(new vt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Wa(t=1/0){return at($i,t)}const Nr=new De(t=>t.complete());function Yf(t){return t[t.length-1]}function za(t){return function SL(t){return t&&me(t.schedule)}(Yf(t))?t.pop():void 0}function dl(t,e=0){return _t((n,r)=>{n.subscribe(new vt(r,i=>kr(r,t,()=>r.next(i),e),()=>kr(r,t,()=>r.complete(),e),i=>kr(r,t,()=>r.error(i),e)))})}function hl(t,e=0){return _t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YT(t,e){if(!t)throw new Error("Iterable cannot be null");return new De(n=>{kr(n,e,()=>{const r=t[Symbol.asyncIterator]();kr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wt(t,e){return e?function OL(t,e){if(null!=t){if($T(t))return function ML(t,e){return Rr(t).pipe(hl(e),dl(e))}(t,e);if(jT(t))return function kL(t,e){return new De(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(BT(t))return function RL(t,e){return Rr(t).pipe(hl(e),dl(e))}(t,e);if(HT(t))return YT(t,e);if(WT(t))return function NL(t,e){return new De(n=>{let r;return kr(n,e,()=>{r=t[GT](),kr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>me(null==r?void 0:r.return)&&r.return()})}(t,e);if(KT(t))return function PL(t,e){return YT(zT(t),e)}(t,e)}throw qT(t)}(t,e):Rr(t)}function fl(t){return t<=0?()=>Nr:_t((e,n)=>{let r=0;e.subscribe(new vt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Jf(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(fl(1)).subscribe(()=>t())}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Zf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const UL=ve({__forward_ref__:ve});function ep(t){return t.__forward_ref__=ep,t.toString=function(){return pe(this())},t}function z(t){return function JT(t){return"function"==typeof t&&t.hasOwnProperty(UL)&&t.__forward_ref__===ep}(t)?t():t}class de extends Error{constructor(e,n){super(function tp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function Ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}function pl(t,e){const n=e?` in ${e}`:"";throw new de(-201,`No provider for ${Ht(t)} found${n}`)}function mn(t,e){null==t&&function Te(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function np(t){return XT(t,gl)||XT(t,eb)}function XT(t,e){return t.hasOwnProperty(e)?t[e]:null}function ZT(t){return t&&(t.hasOwnProperty(rp)||t.hasOwnProperty(GL))?t[rp]:null}const gl=ve({\u0275prov:ve}),rp=ve({\u0275inj:ve}),eb=ve({ngInjectableDef:ve}),GL=ve({ngInjectorDef:ve});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let ip;function ci(t){const e=ip;return ip=t,e}function tb(t,e,n){const r=np(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==e?e:void pl(pe(t),"Injector")}function li(t){return{toString:t}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),lr=(()=>{return(t=lr||(lr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",lr;var t})();const zL="undefined"!=typeof globalThis&&globalThis,KL="undefined"!=typeof window&&window,QL="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ye=zL||"undefined"!=typeof global&&global||KL||QL,qs={},we=[],ml=ve({\u0275cmp:ve}),sp=ve({\u0275dir:ve}),op=ve({\u0275pipe:ve}),nb=ve({\u0275mod:ve}),Or=ve({\u0275fac:ve}),Ka=ve({__NG_ELEMENT_ID__:ve});let YL=0;function qi(t){return li(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lr.Emulated,id:"c",styles:t.styles||we,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=YL++,r.inputs=ob(t.inputs,n),r.outputs=ob(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(rb):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(ib):null,r})}function rb(t){return kt(t)||function di(t){return t[sp]||null}(t)}function ib(t){return function Gi(t){return t[op]||null}(t)}const sb={};function dr(t){return li(()=>{const e={type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(sb[t.id]=t.type),e})}function ob(t,e){if(null==t)return qs;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Rt=qi;function kt(t){return t[ml]||null}function Mn(t,e){const n=t[nb]||null;if(!n&&!0===e)throw new Error(`Type ${pe(t)} does not have '\u0275mod' property.`);return n}const K=11;function hr(t){return Array.isArray(t)&&"object"==typeof t[1]}function zn(t){return Array.isArray(t)&&!0===t[1]}function cp(t){return 0!=(8&t.flags)}function wl(t){return 2==(2&t.flags)}function El(t){return 1==(1&t.flags)}function Kn(t){return null!==t.template}function nU(t){return 0!=(512&t[2])}function Qi(t,e){return t.hasOwnProperty(Or)?t[Or]:null}class sU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ub(t){return t.type.prototype.ngOnChanges&&(t.setInput=aU),oU}function oU(){const t=lb(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===qs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function aU(t,e,n,r){const i=lb(t)||function uU(t,e){return t[cb]=e}(t,{previous:qs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new sU(u&&u.currentValue,e,o===qs),t[r]=e}const cb="__ngSimpleChanges__";function lb(t){return t[cb]||null}let hp;function ke(t){return!!t.listen}const fb={createRenderer:(t,e)=>function fp(){return void 0!==hp?hp:"undefined"!=typeof document?document:void 0}()};function He(t){for(;Array.isArray(t);)t=t[0];return t}function Nn(t,e){return He(e[t.index])}function pp(t,e){return t.data[e]}function _n(t,e){const n=e[t];return hr(n)?n:n[0]}function gp(t){return 128==(128&t[2])}function hi(t,e){return null==e?null:t[e]}function gb(t){t[18]=0}function mp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const j={lFrame:Db(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mb(){return j.bindingsEnabled}function I(){return j.lFrame.lView}function oe(){return j.lFrame.tView}function Xe(){let t=yb();for(;null!==t&&64===t.type;)t=t.parent;return t}function yb(){return j.lFrame.currentTNode}function fr(t,e){const n=j.lFrame;n.currentTNode=t,n.isParent=e}function yp(){return j.lFrame.isParent}function _p(){j.lFrame.isParent=!1}function Dl(){return j.isInCheckNoChangesMode}function Tl(t){j.isInCheckNoChangesMode=t}function Ys(){return j.lFrame.bindingIndex++}function DU(t,e){const n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,vp(e)}function vp(t){j.lFrame.currentDirectiveIndex=t}function Ep(t){j.lFrame.currentQueryIndex=t}function bU(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Eb(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&G.Host||(i=bU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=j.lFrame=Ib();return r.currentTNode=e,r.lView=t,!0}function bl(t){const e=Ib(),n=t[1];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ib(){const t=j.lFrame,e=null===t?null:t.child;return null===e?Db(t):e}function Db(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Tb(){const t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bb=Tb;function Cl(){const t=Tb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gt(){return j.lFrame.selectedIndex}function fi(t){j.lFrame.selectedIndex=t}function Sl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Al(t,e,n){Cb(t,e,3,n)}function xl(t,e,n,r){(3&t[2])===n&&Cb(t,e,n,r)}function Ip(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Cb(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(PU(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function PU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Za{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ml(t,e,n){const r=ke(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Tp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Sb(t){return 3===t||4===t||6===t}function Tp(t){return 64===t.charCodeAt(0)}function Rl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ab(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ab(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function xb(t){return-1!==t}function Js(t){return 32767&t}function Xs(t,e){let n=function VU(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let bp=!0;function kl(t){const e=bp;return bp=t,e}let jU=0;function tu(t,e){const n=Sp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Cp(r.data,t),Cp(e,null),Cp(r.blueprint,null));const i=Nl(t,e),s=t.injectorIndex;if(xb(i)){const o=Js(i),a=Xs(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Cp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Nl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Pl(t,e,n){!function BU(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ka)&&(r=n[Ka]),null==r&&(r=n[Ka]=jU++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function kb(t,e,n){if(n&G.Optional)return t;pl(e,"NodeInjector")}function Nb(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){const i=t[9],s=ci(void 0);try{return i?i.get(e,r,n&G.Optional):tb(e,r,n&G.Optional)}finally{ci(s)}}return kb(r,e,n)}function Pb(t,e,n,r=G.Default,i){if(null!==t){const s=function GU(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ka)?t[Ka]:void 0;return"number"==typeof e?e>=0?255&e:HU:e}(n);if("function"==typeof s){if(!Eb(e,t,r))return r&G.Host?kb(i,n,r):Nb(e,n,r,i);try{const o=s(r);if(null!=o||r&G.Optional)return o;pl(n)}finally{bb()}}else if("number"==typeof s){let o=null,a=Sp(t,e),u=-1,c=r&G.Host?e[16][6]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?Nl(t,e):e[a+8],-1!==u&&Lb(r,!1)?(o=e[1],a=Js(u),e=Xs(u,e)):a=-1);-1!==a;){const l=e[1];if(Fb(s,a,l.data)){const d=qU(a,e,n,o,r,c);if(d!==Ob)return d}u=e[a+8],-1!==u&&Lb(r,e[1].data[a+8]===c)&&Fb(s,a,e)?(o=l,a=Js(u),e=Xs(u,e)):a=-1}}}return Nb(e,n,r,i)}const Ob={};function HU(){return new Zs(Xe(),I())}function qU(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function Ol(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Kn(f)&&f.type===n)return u}return null}(a,o,n,null==r?wl(a)&&bp:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==l?nu(e,o,l,a):Ob}function nu(t,e,n,r){let i=t[n];const s=e.data;if(function OU(t){return t instanceof Za}(i)){const o=i;o.resolving&&function VL(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new de(-200,`Circular dependency in DI detected for ${t}${n}`)}(Ht(s[n]));const a=kl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ci(o.injectImpl):null;Eb(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function NU(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=ub(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&ci(u),kl(a),o.resolving=!1,bb()}}return i}function Fb(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Lb(t,e){return!(t&G.Self||t&G.Host&&e)}class Zs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Pb(this._tNode,this._lView,e,r,n)}}const to="__parameters__";function ro(t,e,n){return li(()=>{const r=function xp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(to)?u[to]:Object.defineProperty(u,to,{value:[]})[to];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const KU=new ee("AnalyzeForEntryComponents");function pr(t,e){t.forEach(n=>Array.isArray(n)?pr(n,e):e(n))}function Vb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vn(t,e,n){let r=io(t,e);return r>=0?t[1|r]=n:(r=~r,function JU(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Rp(t,e){const n=io(t,e);if(n>=0)return t[1|n]}function io(t,e){return function $b(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const au={},Np="__NG_DI_FLAG__",Ul="ngTempTokenPath",iV=/\n/gm,qb="__source",oV=ve({provide:String,useValue:ve});let uu;function Gb(t){const e=uu;return uu=t,e}function aV(t,e=G.Default){if(void 0===uu)throw new de(203,"");return null===uu?tb(t,void 0,e):uu.get(t,e&G.Optional?null:void 0,e)}function F(t,e=G.Default){return(function WL(){return ip}()||aV)(z(t),e)}function Pp(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new de(900,"");let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],u=uV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function cu(t,e){return t[Np]=e,t.prototype[Np]=e,t}function uV(t){return t[Np]}const lu=cu(ro("Inject",t=>({token:t})),-1),Ve=cu(ro("Optional"),8),so=cu(ro("SkipSelf"),4);const d0="__ngContext__";function Pt(t,e){t[d0]=e}function qp(t){const e=function gu(t){return t[d0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Wp(t){return t.ngOriginalError}function ej(t,...e){t.error(...e)}class uo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function ZV(t){return t&&t.ngErrorLogger||ej}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wp(e);for(;n&&Wp(n);)n=Wp(n);return n||null}}const m0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ye))();function mr(t){return t instanceof Function?t():t}var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();function Kp(t,e){return undefined(t,e)}function mu(t){const e=t[3];return zn(e)?e[3]:e}function Qp(t){return E0(t[13])}function Yp(t){return E0(t[4])}function E0(t){for(;null!==t&&!zn(t);)t=t[4];return t}function lo(t,e,n,r,i){if(null!=r){let s,o=!1;zn(r)?s=r:hr(r)&&(o=!0,r=r[0]);const a=He(r);0===t&&null!==n?null==i?S0(e,n,a):Ji(e,n,a,i||null,!0):1===t&&null!==n?Ji(e,n,a,i||null,!0):2===t?function P0(t,e,n){const r=ql(t,e);r&&function Dj(t,e,n,r){ke(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Cj(t,e,n,r,i){const s=n[7];s!==He(n)&&lo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];yu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Xp(t,e,n){return ke(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function D0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,mp(i,-1)),n.splice(r,1)}function Zp(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&D0(i,r),e>0&&(t[n-1][4]=r[4]);const s=Fl(t,10+e);!function gj(t,e){yu(t,e,e[K],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function T0(t,e){if(!(256&e[2])){const n=e[K];ke(n)&&n.destroyNode&&yu(t,e,n,3,null,null),function _j(t){let e=t[13];if(!e)return eg(t[1],t);for(;e;){let n=null;if(hr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)hr(e)&&eg(e[1],e),e=e[3];null===e&&(e=t),hr(e)&&eg(e[1],e),n=e&&e[4]}e=n}}(e)}}function eg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Ij(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Za)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function Ej(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):He(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&ke(e[K])&&e[K].destroy();const n=e[17];if(null!==n&&zn(e[3])){n!==e[3]&&D0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function b0(t,e,n){return function C0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===lr.None||i===lr.Emulated)return null}return Nn(r,n)}(t,e.parent,n)}function Ji(t,e,n,r,i){ke(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function S0(t,e,n){ke(t)?t.appendChild(e,n):e.appendChild(n)}function A0(t,e,n,r,i){null!==r?Ji(t,e,n,r,i):S0(t,e,n)}function ql(t,e){return ke(t)?t.parentNode(e):e.parentNode}let R0=function M0(t,e,n){return 40&t.type?Nn(t,n):null};function Gl(t,e,n,r){const i=b0(t,r,e),s=e[K],a=function x0(t,e,n){return R0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)A0(s,i,n[u],a,!1);else A0(s,i,n,a,!1)}function Wl(t,e){if(null!==e){const n=e.type;if(3&n)return Nn(e,t);if(4&n)return ng(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Wl(t,r);{const i=t[e.index];return zn(i)?ng(-1,i):He(i)}}if(32&n)return Kp(e,t)()||He(t[e.index]);{const r=N0(t,e);return null!==r?Array.isArray(r)?r[0]:Wl(mu(t[16]),r):Wl(t,e.next)}}return null}function N0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ng(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Wl(r,i)}return e[7]}function rg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Pt(He(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)rg(t,e,n.child,r,i,s,!1),lo(e,t,i,a,s);else if(32&u){const c=Kp(n,r);let l;for(;l=c();)lo(e,t,i,l,s);lo(e,t,i,a,s)}else 16&u?O0(t,e,r,n,i,s):lo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function yu(t,e,n,r,i,s){rg(n,r,t.firstChild,e,i,s,!1)}function O0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)lo(e,t,i,u[c],s);else rg(t,e,u,o[3],i,s,!0)}function F0(t,e,n){ke(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ig(t,e,n){ke(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function L0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const U0="ng-template";function Aj(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==L0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function V0(t){return 4===t.type&&t.value!==U0}function xj(t,e,n){return e===(4!==t.type||n?t.value:U0)}function Mj(t,e,n){let r=4;const i=t.attrs||[],s=function Nj(t){for(let e=0;e<t.length;e++)if(Sb(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!xj(t,u,n)||""===u&&1===e.length){if(Qn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Aj(t.attrs,c,n)){if(Qn(r))return!1;o=!0}continue}const d=Rj(8&r?"class":u,i,V0(t),n);if(-1===d){if(Qn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==L0(f,c,0)||2&r&&c!==h){if(Qn(r))return!1;o=!0}}}}else{if(!o&&!Qn(r)&&!Qn(u))return!1;if(o&&Qn(u))continue;o=!1,r=u|1&r}}return Qn(r)||o}function Qn(t){return 0==(1&t)}function Rj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Pj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function j0(t,e,n=!1){for(let r=0;r<e.length;r++)if(Mj(t,e[r],n))return!0;return!1}function B0(t,e){return t?":not("+e.trim()+")":e}function Fj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Qn(o)&&(e+=B0(s,i),i=""),r=o,s=s||!Qn(r);n++}return""!==i&&(e+=B0(s,i)),e}const H={};function _u(t){$0(oe(),I(),Gt()+t,Dl())}function $0(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Al(e,s,n)}else{const s=t.preOrderHooks;null!==s&&xl(e,s,0,n)}fi(n)}function zl(t,e){return t<<17|e<<2}function Yn(t){return t>>17&32767}function sg(t){return 2|t}function Ur(t){return(131068&t)>>2}function og(t,e){return-131069&t|e<<2}function ag(t){return 1|t}function Z0(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ep(i),o.contentQueries(2,e[s],s)}}}function vu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,gb(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[K]=a||t&&t[K],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ho(t,e,n,r,i){let s=t.data[e];if(null===s)s=function mg(t,e,n,r,i){const s=yb(),o=yp(),u=t.data[e]=function e2(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function IU(){return j.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Xa(){const t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return fr(s,!0),s}function fo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wu(t,e,n){bl(e);try{const r=t.viewQuery;null!==r&&bg(1,r,n);const i=t.template;null!==i&&eC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Z0(t,e),t.staticViewQueries&&bg(2,t.viewQuery,n);const s=t.components;null!==s&&function Jj(t,e){for(let n=0;n<e.length;n++)_2(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Cl()}}function po(t,e,n,r){const i=e[2];if(256==(256&i))return;bl(e);const s=Dl();try{gb(e),function _b(t){return j.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&eC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Al(e,c,null)}else{const c=t.preOrderHooks;null!==c&&xl(e,c,0,null),Ip(e,0)}if(function m2(t){for(let e=Qp(t);null!==e;e=Yp(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&mp(s,1),i[2]|=1024}}}(e),function g2(t){for(let e=Qp(t);null!==e;e=Yp(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];gp(r)&&po(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Z0(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Al(e,c)}else{const c=t.contentHooks;null!==c&&xl(e,c,1),Ip(e,1)}!function Qj(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)fi(~i);else{const s=i,o=n[++r],a=n[++r];DU(o,s),a(2,e[s])}}}finally{fi(-1)}}(t,e);const a=t.components;null!==a&&function Yj(t,e){for(let n=0;n<e.length;n++)y2(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&bg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Al(e,c)}else{const c=t.viewHooks;null!==c&&xl(e,c,2),Ip(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,mp(e[3],-1))}finally{Cl()}}function Xj(t,e,n,r){const i=e[10],s=!Dl(),o=function pb(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&wu(t,e,r),po(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function eC(t,e,n,r,i){const s=Gt(),o=2&r;try{fi(-1),o&&e.length>20&&$0(t,e,20,Dl()),n(r,i)}finally{fi(s)}}function tC(t,e,n){if(cp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function yg(t,e,n){!mb()||(function a2(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||tu(n,e),Pt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Kn(u);c&&h2(e,n,u);const l=nu(e,t,a,n);Pt(l,e),null!==o&&f2(0,a-i,l,u,0,o),c&&(_n(n.index,e)[8]=l)}}(t,e,n,Nn(n,e)),128==(128&n.flags)&&function u2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function TU(){return j.lFrame.currentDirectiveIndex}();try{fi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];vp(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&cC(c,l)}}finally{fi(-1),vp(a)}}(t,e,n))}function _g(t,e,n=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function nC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yl(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function Zj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:H);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function oC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function vg(t,e,n,r){let i=!1;if(mb()){const s=function c2(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];j0(n,o.selectors,!1)&&(i||(i=[]),Pl(tu(n,e),t,o.type),Kn(o)?(lC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,dC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=fo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Rl(n.mergedAttrs,d.hostAttrs),hC(t,n,e,c,d),d2(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function t2(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||V0(e)?null:p2(d,s);o.push(h),a=oC(d,c,a),u=oC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function l2(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new de(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Rl(n.mergedAttrs,n.attrs),i}function uC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function o2(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function cC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function lC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function d2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function dC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function hC(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Qi(i.type)),o=new Za(s,Kn(i),null);t.blueprint[r]=o,n[r]=o,uC(t,e,0,r,fo(t,n,i.hostVars,H),i)}function h2(t,e,n){const r=Nn(e,t),i=nC(n),s=t[10],o=Jl(t,vu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function f2(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function p2(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fC(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function y2(t,e){const n=_n(e,t);if(gp(n)){const r=n[1];80&n[2]?po(r,n,r.template,n[8]):n[5]>0&&Eg(n)}}function Eg(t){for(let r=Qp(t);null!==r;r=Yp(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];po(o,s,o.template,s[8])}else s[5]>0&&Eg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=_n(n[r],t);gp(i)&&i[5]>0&&Eg(i)}}function _2(t,e){const n=_n(e,t),r=n[1];(function v2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),wu(r,n,n[8])}function Jl(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Tg(t,e,n){const r=e[10];r.begin&&r.begin();try{po(t,e,t.template,n)}catch(i){throw function _C(t,e){const n=t[9],r=n?n.get(uo,null):null;r&&r.handleError(e)}(e,i),i}finally{r.end&&r.end()}}function pC(t){!function Dg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=qp(n),i=r[1];Xj(i,r,i.template,n)}}(t[8])}function bg(t,e,n){Ep(0),e(t,n)}const D2=(()=>Promise.resolve(null))();function vC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Xl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Zf(i,a):2==s&&(r=Zf(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Cg=new ee("INJECTOR",-1);class wC{get(e,n=au){if(n===au){const r=new Error(`NullInjectorError: No provider for ${pe(e)}!`);throw r.name="NullInjectorError",r}return n}}const Sg=new ee("Set Injector scope."),Eu={},C2={};let Ag;function EC(){return void 0===Ag&&(Ag=new wC),Ag}function IC(t,e=null,n=null,r){const i=DC(t,e,n,r);return i._resolveInjectorDefTypes(),i}function DC(t,e=null,n=null,r){return new S2(t,n,e||EC(),r)}class S2{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&pr(n,a=>this.processProvider(a,e,n)),pr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Cg,go(void 0,this));const o=this.records.get(Sg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:pe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=au,r=G.Default){this.assertNotDestroyed();const i=Gb(this),s=ci(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function O2(t){return"function"==typeof t||"object"==typeof t&&t instanceof ee}(e)&&np(e);a=u&&this.injectableDefInScope(u)?go(xg(e),Eu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?EC():this.parent).get(e,n=r&G.Optional&&n===au?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ul]=o[Ul]||[]).unshift(pe(e)),i)throw o;return function cV(t,e,n,r){const i=t[Ul];throw e[qb]&&i.unshift(e[qb]),t.message=function lV(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=pe(e);if(Array.isArray(e))i=e.map(pe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):pe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(iV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ul]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{ci(s),Gb(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(pe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,"")}processInjectorType(e,n,r){if(!(e=z(e)))return!1;let i=ZT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=ZT(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{pr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];pr(f,p=>this.processProvider(p,h,f||we))}}this.injectorDefTypes.add(o);const u=Qi(o)||(()=>new o);this.records.set(o,go(u,Eu));const c=i.providers;if(null!=c&&!a){const l=e;pr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=mo(e=z(e))?e:z(e&&e.provide);const s=function x2(t,e,n){return bC(t)?go(void 0,t.useValue):go(function TC(t,e,n){let r;if(mo(t)){const i=z(t);return Qi(i)||xg(i)}if(bC(t))r=()=>z(t.useValue);else if(function R2(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Pp(t.deps||[]));else if(function M2(t){return!(!t||!t.useExisting)}(t))r=()=>F(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function N2(t){return!!t.deps}(t))return Qi(i)||xg(i);r=()=>new i(...Pp(t.deps))}return r}(t),Eu)}(e);if(mo(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=go(void 0,Eu,!0),o.factory=()=>Pp(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Eu&&(n.value=C2,n.value=n.factory()),"object"==typeof n.value&&n.value&&function P2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function xg(t){const e=np(t),n=null!==e?e.factory:Qi(t);if(null!==n)return n;if(t instanceof ee)throw new de(204,"");if(t instanceof Function)return function A2(t){const e=t.length;if(e>0)throw function ou(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new de(204,"");const n=function HL(t){const e=t&&(t[gl]||t[eb]);if(e){const n=function qL(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new de(204,"")}function go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bC(t){return null!==t&&"object"==typeof t&&oV in t}function mo(t){return"function"==typeof t}let ct=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return IC({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return IC({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=au,t.NULL=new wC,t.\u0275prov=re({token:t,providedIn:"any",factory:()=>F(Cg)}),t.__NG_ELEMENT_ID__=-1,t})();function H2(t,e){Sl(qp(t)[1],Xe())}let Zl=null;function yo(){if(!Zl){const t=ye.Symbol;if(t&&t.iterator)Zl=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Zl=r)}}}return Zl}function Iu(t){return!!Ng(t)&&(Array.isArray(t)||!(t instanceof Map)&&yo()in t)}function Ng(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ot(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Tu(t,e,n,r,i,s,o,a){const u=I(),c=oe(),l=t+20,d=c.firstCreatePass?function eB(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ho(e,t,4,o||null,hi(c,a));vg(e,n,l,hi(c,u)),Sl(e,l);const d=l.tViews=Yl(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];fr(d,!1);const h=u[K].createComment("");Gl(c,u,h,d),Pt(h,u),Jl(u,u[l]=fC(h,u,h,d)),El(d)&&yg(c,u,d),null!=o&&_g(u,d,a)}function P(t,e=G.Default){const n=I();return null===n?F(t,e):Pb(Xe(),n,z(t),e)}function Vg(){throw new Error("invalid")}function Ao(t,e,n){const r=I();return Ot(r,Ys(),e)&&function En(t,e,n,r,i,s,o,a){const u=Nn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(vC(t,n,l,r,i),wl(e)&&function r2(t,e){const n=_n(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function n2(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,ke(s)?s.setProperty(u,r,i):Tp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(oe(),function Ne(){const t=j.lFrame;return pp(t.tView,t.selectedIndex)}(),r,t,e,r[K],n,!1),Ao}function jg(t,e,n,r,i){const o=i?"class":"style";vC(t,n,e.inputs[o],o,r)}function _i(t,e,n,r){const i=I(),s=oe(),o=20+t,a=i[K],u=i[o]=Xp(a,e,function kU(){return j.lFrame.currentNamespace}()),c=s.firstCreatePass?function IB(t,e,n,r,i,s,o){const a=e.consts,c=ho(e,t,2,i,hi(a,s));return vg(e,n,c,hi(a,o)),null!==c.attrs&&Xl(c,c.attrs,!1),null!==c.mergedAttrs&&Xl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];fr(c,!0);const l=c.mergedAttrs;null!==l&&Ml(a,u,l);const d=c.classes;null!==d&&ig(a,u,d);const h=c.styles;null!==h&&F0(a,u,h),64!=(64&c.flags)&&Gl(s,i,u,c),0===function gU(){return j.lFrame.elementDepthCount}()&&Pt(u,i),function mU(){j.lFrame.elementDepthCount++}(),El(c)&&(yg(s,i,c),tC(s,c,i)),null!==r&&_g(i,c)}function vi(){let t=Xe();yp()?_p():(t=t.parent,fr(t,!1));const e=t;!function yU(){j.lFrame.elementDepthCount--}();const n=oe();n.firstCreatePass&&(Sl(n,t),cp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function LU(t){return 0!=(16&t.flags)}(e)&&jg(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function UU(t){return 0!=(32&t.flags)}(e)&&jg(n,e,I(),e.stylesWithoutHost,!1)}function xo(t,e,n,r){_i(t,e,n,r),vi()}function nd(t){return!!t&&"function"==typeof t.then}const sS=function iS(t){return!!t&&"function"==typeof t.subscribe};function id(t=1){return function CU(t){return(j.lFrame.contextLView=function SU(t,e){for(;t>0;)e=e[15],t--;return e}(t,j.lFrame.contextLView))[8]}(t)}function _S(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Yn(s):Ur(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];kB(t[a],e)&&(u=!0,t[a+1]=r?ag(l):sg(l)),a=r?Yn(l):Ur(l)}u&&(t[n+1]=r?sg(s):ag(s))}function kB(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&io(t,e)>=0}const et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vS(t){return t.substring(et.key,et.keyEnd)}function wS(t,e){const n=et.textEnd;return n===e?-1:(e=et.keyEnd=function FB(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,et.key=e,n),Mo(t,e,n))}function Mo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Gg(t){Zn(vn,wr,t,!0)}function wr(t,e){for(let n=function PB(t){return function IS(t){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=t.length}(t),wS(t,Mo(t,0,et.textEnd))}(e);n>=0;n=wS(e,n))vn(t,vS(e),!0)}function Zn(t,e,n,r){const i=oe(),s=function Lr(t){const e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);i.firstUpdatePass&&function AS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Gt()],o=SS(t,n);kS(s,r)&&null===e&&!o&&(e=!1),e=function jB(t,e,n,r){const i=function wp(t){const e=j.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bu(n=Wg(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Wg(i,t,e,n,r),null===s){let u=function BB(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ur(r))return t[Yn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Wg(null,t,e,u[1],r),u=bu(u,e.attrs,r),function $B(t,e,n,r){t[Yn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function HB(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bu(r,t[s].hostAttrs,n);return bu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function MB(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yn(o),u=Ur(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||io(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Yn(t[a+1]);t[r+1]=zl(h,a),0!==h&&(t[h+1]=og(t[h+1],r)),t[a+1]=function Vj(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=zl(a,0),0!==a&&(t[a+1]=og(t[a+1],r)),a=r;else t[r+1]=zl(u,0),0===a?a=r:t[u+1]=og(t[u+1],r),u=r;c&&(t[r+1]=sg(t[r+1])),_S(t,l,r,!0),_S(t,l,r,!1),function RB(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&io(s,e)>=0&&(n[r+1]=ag(n[r+1]))}(e,l,t,r,s),o=zl(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=I();if(n!==H&&Ot(o,s,n)){const a=i.data[Gt()];if(kS(a,r)&&!SS(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Zf(u,n||"")),jg(i,a,o,n,r)}else!function GB(t,e,n,r,i,s,o,a){i===H&&(i=we);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&MS(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[K],o[s+1],o[s+1]=function qB(t,e,n){if(null==n||""===n)return we;const r=[],i=function gi(t){return t instanceof class e0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function SS(t,e){return e>=t.expandoStartIndex}function Wg(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function MS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];sd(function G0(t){return 1==(1&t)}(c)?RS(u,e,n,i,Ur(c),o):void 0)||(sd(s)||function q0(t){return 2==(2&t)}(c)&&(s=RS(u,null,n,i,a,o)),function Sj(t,e,n,r,i){const s=ke(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:wn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=wn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,function Il(t,e){return He(e[t])}(Gt(),n),i,s))}function RS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===H&&(h=d?we:void 0);let f=d?Rp(h,r):l===r?h:void 0;if(c&&!sd(f)&&(f=Rp(u,r)),sd(f)&&(a=f,o))return a;const p=t[i+1];i=o?Yn(p):Ur(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Rp(u,r))}return a}function sd(t){return void 0!==t}function kS(t,e){return 0!=(t.flags&(e?16:32))}function od(t,e=""){const n=I(),r=oe(),i=t+20,s=r.firstCreatePass?ho(r,i,1,e,null):r.data[i],o=n[i]=function Jp(t,e){return ke(t)?t.createText(e):t.createTextNode(e)}(n[K],e);Gl(r,n,o,s),fr(s,!1)}function $S(t,e,n){Zn(vn,wr,function vo(t,e,n,r){return Ot(t,Ys(),n)?e+$(n)+r:H}(I(),t,e,n),!0)}const Zi=void 0;var d$=["en",[["a","p"],["AM","PM"],Zi],[["AM","PM"],Zi,Zi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zi,"{1} 'at' {0}",Zi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l$(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ro={};function tA(t){return t in Ro||(Ro[t]=ye.ng&&ye.ng.common&&ye.ng.common.locales&&ye.ng.common.locales[t]),Ro[t]}var x=(()=>((x=x||{})[x.LocaleId=0]="LocaleId",x[x.DayPeriodsFormat=1]="DayPeriodsFormat",x[x.DayPeriodsStandalone=2]="DayPeriodsStandalone",x[x.DaysFormat=3]="DaysFormat",x[x.DaysStandalone=4]="DaysStandalone",x[x.MonthsFormat=5]="MonthsFormat",x[x.MonthsStandalone=6]="MonthsStandalone",x[x.Eras=7]="Eras",x[x.FirstDayOfWeek=8]="FirstDayOfWeek",x[x.WeekendRange=9]="WeekendRange",x[x.DateFormat=10]="DateFormat",x[x.TimeFormat=11]="TimeFormat",x[x.DateTimeFormat=12]="DateTimeFormat",x[x.NumberSymbols=13]="NumberSymbols",x[x.NumberFormats=14]="NumberFormats",x[x.CurrencyCode=15]="CurrencyCode",x[x.CurrencySymbol=16]="CurrencySymbol",x[x.CurrencyName=17]="CurrencyName",x[x.Currencies=18]="Currencies",x[x.Directionality=19]="Directionality",x[x.PluralCase=20]="PluralCase",x[x.ExtraData=21]="ExtraData",x))();const ad="en-US";let nA=ad;class SA{}class pH{resolveComponentFactory(e){throw function fH(t){const e=Error(`No component factory found for ${pe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let No=(()=>{class t{}return t.NULL=new pH,t})();function gH(){return Po(Xe(),I())}function Po(t,e){return new wi(Nn(t,e))}let wi=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=gH,t})();class xA{}let vH=(()=>{class t{}return t.\u0275prov=re({token:t,providedIn:"root",factory:()=>null}),t})();class Mu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const MA=new Mu("13.1.3"),em={};function fd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(He(s)),zn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&fd(u[1],u,c,r)}const o=n.type;if(8&o)fd(t,e,n.child,r);else if(32&o){const a=Kp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=N0(e,n);if(Array.isArray(a))r.push(...a);else{const u=mu(e[16]);fd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ru{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return fd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(zn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Zp(e,r),Fl(n,r))}this._attachedToViewContainer=!1}T0(this._lView[1],this._lView)}onDestroy(e){!function sC(t,e,n,r){const i=function gC(t){return t[7]||(t[7]=[])}(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&function mC(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){!function Ig(t){for(;t;){t[2]|=64;const e=mu(t);if(nU(t)&&!e)return t;t=e}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function E2(t,e,n){Tl(!0);try{Tg(t,e,n)}finally{Tl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new de(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yj(t,e){yu(t,e,e[K],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new de(902,"");this._appRef=e}}class wH extends Ru{constructor(e){super(e),this._view=e}detectChanges(){pC(this._view)}checkNoChanges(){!function I2(t){Tl(!0);try{pC(t)}finally{Tl(!1)}}(this._view)}get context(){return null}}class RA extends No{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=kt(e);return new tm(n,this.ngModule)}}function kA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const IH=new ee("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>m0});class tm extends SA{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Lj(t){return t.map(Fj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return kA(this.componentDef.inputs)}get outputs(){return kA(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function DH(t,e){return{get:(n,r,i)=>{const s=t.get(n,em,i);return s!==em||r===em?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(xA,fb),a=s.get(vH,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function iC(t,e,n){if(ke(t))return t.selectRootElement(e,n===lr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Xp(o.createRenderer(null,this.componentDef),c,function EH(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function FC(t,e){return{components:[],scheduler:t||m0,clean:D2,playerHandler:e||null,flags:0}}(),f=Yl(0,null,null,1,0,null,null,null,null,null),p=vu(null,f,h,d,null,null,o,u,a,s);let m,_;bl(p);try{const w=function PC(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=ho(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Xl(u,c,!0),null!==t&&(Ml(i,t,c),null!==u.classes&&ig(i,t,u.classes),null!==u.styles&&F0(i,t,u.styles)));const l=r.createRenderer(t,e),d=vu(n,nC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(Pl(tu(u,n),o,e.type),lC(o,u),dC(u,n.length,1)),Jl(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Ml(u,l,["ng-version",MA.full]);else{const{attrs:y,classes:C}=function Uj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Qn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Ml(u,l,y),C&&C.length>0&&ig(u,l,C.join(" "))}if(_=pp(f,20),void 0!==n){const y=_.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const N=n[C];y.push(null!=N?Array.from(N):null)}}m=function OC(t,e,n,r,i){const s=n[1],o=function s2(t,e,n){const r=Xe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),hC(t,r,e,fo(t,e,1,null),n));const i=nu(e,t,r.directiveStart,r);Pt(i,e);const s=Nn(r,e);return s&&Pt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Xe();e.contentQueries(1,o,u.directiveStart)}const a=Xe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fi(a.index),uC(n[1],a,0,a.directiveStart,a.directiveEnd,e),cC(e,o)),o}(w,this.componentDef,p,h,[H2]),wu(f,p,null)}finally{Cl()}return new bH(this.componentType,m,Po(_,p),p,_)}}class bH extends class hH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new wH(i),this.componentType=e}get injector(){return new Zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class jr{}class NA{}const Oo=new Map;class FA extends jr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new RA(this);const r=Mn(e);this._bootstrapComponents=mr(r.bootstrap),this._r3Injector=DC(e,n,[{provide:jr,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],pe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=ct.THROW_IF_NOT_FOUND,r=G.Default){return e===ct||e===jr||e===Cg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nm extends NA{constructor(e){super(),this.moduleType=e,null!==Mn(e)&&function SH(t){const e=new Set;!function n(r){const i=Mn(r,!0),s=i.id;null!==s&&(function PA(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${pe(e)} vs ${pe(e.name)}`)}(s,Oo.get(s),r),Oo.set(s,r));const o=mr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new FA(this.moduleType,e)}}function rm(t){return e=>{setTimeout(t,void 0,e)}}const Kt=class GH extends Mr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=rm(u),a&&(a=rm(a)),c&&(c=rm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof $e&&e.add(l),l}};Symbol;let Br=(()=>{class t{}return t.__NG_ELEMENT_ID__=QH,t})();const zH=Br,KH=class extends zH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=vu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),wu(n,r,e),new Ru(r)}};function QH(){return function pd(t,e){return 4&t.type?new KH(e,t,Po(t,e)):null}(Xe(),I())}let er=(()=>{class t{}return t.__NG_ELEMENT_ID__=YH,t})();function YH(){return function qA(t,e){let n;const r=e[t.index];if(zn(r))n=r;else{let i;if(8&t.type)i=He(r);else{const s=e[K];i=s.createComment("");const o=Nn(t,e);Ji(s,ql(s,o),i,function Tj(t,e){return ke(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=fC(r,e,i,t),Jl(e,n)}return new $A(n,t,e)}(Xe(),I())}const JH=er,$A=class extends JH{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new Zs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nl(this._hostTNode,this._hostLView);if(xb(e)){const n=Xs(e,this._hostLView),r=Js(e);return new Zs(n[1].data[r+8],n)}return new Zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=HA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function su(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new tm(kt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(jr,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function pU(t){return zn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new $A(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function vj(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Vb(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function wj(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=ng(s,o),u=r[K],c=ql(u,o[7]);return null!==c&&function mj(t,e,n,r,i,s){r[0]=i,r[6]=e,yu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),Vb(sm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=HA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Zp(this._lContainer,n);r&&(Fl(sm(this._lContainer),n),T0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Zp(this._lContainer,n);return r&&null!=Fl(sm(this._lContainer),n)?new Ru(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function HA(t){return t[8]}function sm(t){return t[8]||(t[8]=[])}function yd(...t){}const _d=new ee("Application Initializer");let Lo=(()=>{class t{constructor(n){this.appInits=n,this.resolve=yd,this.reject=yd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(nd(s))n.push(s);else if(sS(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(_d,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();const Ou=new ee("AppId"),bq={provide:Ou,useFactory:function Tq(){return`${vm()}${vm()}${vm()}`},deps:[]};function vm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hx=new ee("Platform Initializer"),Fu=new ee("Platform ID"),fx=new ee("appBootstrapListener");let px=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();const Ei=new ee("LocaleId"),gx=new ee("DefaultCurrencyCode");class Cq{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let vd=(()=>{class t{compileModuleSync(n){return new nm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=mr(Mn(n).declarations).reduce((o,a)=>{const u=kt(a);return u&&o.push(new tm(u)),o},[]);return new Cq(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();const Aq=(()=>Promise.resolve(0))();function wm(t){"undefined"==typeof Zone?Aq.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function xq(){let t=ye.requestAnimationFrame,e=ye.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function kq(t){const e=()=>{!function Rq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ye,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Im(t),t.isCheckStableRunning=!0,Em(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Im(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return mx(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),yx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return mx(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),yx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Im(t),Em(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Mq,yd,yd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Mq={};function Em(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Im(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yx(t){t._nesting--,Em(t)}class Nq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Dm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xe.assertNotInAngularZone(),wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(xe))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})(),_x=(()=>{class t{constructor(){this._applications=new Map,Tm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Tm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();class Pq{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let tr,Tm=new Pq;const vx=new ee("AllowMultipleToken");class wx{constructor(e,n){this.name=e,this.token=n}}function Ex(t,e,n=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=Ix();if(!o||o.injector.get(vx,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Sg,useValue:"platform"});!function Uq(t){if(tr&&!tr.destroyed&&!tr.injector.get(vx,!1))throw new de(400,"");tr=t.get(Dx);const e=t.get(hx,null);e&&e.forEach(n=>n())}(ct.create({providers:a,name:r}))}return function Vq(t){const e=Ix();if(!e)throw new de(401,"");return e}()}}function Ix(){return tr&&!tr.destroyed?tr:null}let Dx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function jq(t,e){let n;return n="noop"===t?new Nq:("zone.js"===t?void 0:t)||new xe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:xe,useValue:a}];return a.run(()=>{const c=ct.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(uo,null);if(!d)throw new de(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{bm(this._modules,l),h.unsubscribe()})}),function Bq(t,e,n){try{const r=n();return nd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Lo);return h.runInitializers(),h.donePromise.then(()=>(function m$(t){mn(t,"Expected localeId to be defined"),"string"==typeof t&&(nA=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ei,ad)||ad),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=Tx({},r);return function Fq(t,e,n){const r=new nm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Lu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new de(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(ct))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();function Tx(t,e){return Array.isArray(e)?e.reduce(Tx,t):Object.assign(Object.assign({},t),e)}let Lu=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new De(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new De(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function FL(...t){const e=za(t),n=function xL(t,e){return"number"==typeof Yf(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Rr(r[0]):Wa(n)(wt(r,e)):Nr}(a,u.pipe(function LL(t={}){const{connector:e=(()=>new Mr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return _t((m,_)=>{c++,!d&&!l&&h();const w=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=Jf(p,i))}),w.subscribe(_),o||(o=new ne({next:y=>w.next(y),error:y=>{d=!0,h(),a=Jf(f,n,y),w.error(y)},complete:()=>{l=!0,h(),a=Jf(f,r),w.complete()}}),wt(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new de(405,"");let i;i=n instanceof SA?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function Lq(t){return t.isBoundToModule}(i)?void 0:this._injector.get(jr),a=i.create(ct.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Dm,null),l=c&&a.injector.get(_x);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),bm(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new de(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(fx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F(xe),F(ct),F(uo),F(No),F(Lo))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();function bm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Cx=!0,Cm=(()=>{class t{}return t.__NG_ELEMENT_ID__=qq,t})();function qq(t){return function Gq(t,e,n){if(wl(t)&&!n){const r=_n(t.index,e);return new Ru(r,r)}return 47&t.type?new Ru(e[16],e):null}(Xe(),I(),16==(16&t))}class Nx{constructor(){}supports(e){return Iu(e)}create(e){return new Jq(e)}}const Yq=(t,e)=>e;class Jq{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yq}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Ox(r,i,s)?n:r,a=Ox(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Iu(e))throw new de(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Z2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[yo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Xq(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Px),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Px),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Xq{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zq{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Px{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Zq,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ox(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Fx{constructor(){}supports(e){return e instanceof Map||Ng(e)}create(){return new eG}}class eG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Ng(e)))throw new de(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new tG(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class tG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lx(){return new Uu([new Nx])}let Uu=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Lx()),deps:[[t,new so,new Ve]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new de(901,"")}}return t.\u0275prov=re({token:t,providedIn:"root",factory:Lx}),t})();function Ux(){return new Uo([new Fx])}let Uo=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ux()),deps:[[t,new so,new Ve]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new de(901,"")}}return t.\u0275prov=re({token:t,providedIn:"root",factory:Ux}),t})();const nG=[new Fx],iG=new Uu([new Nx]),sG=new Uo(nG),oG=Ex(null,"core",[{provide:Fu,useValue:"unknown"},{provide:Dx,deps:[ct]},{provide:_x,deps:[]},{provide:px,deps:[]}]),dG=[{provide:Lu,useClass:Lu,deps:[xe,ct,uo,No,Lo]},{provide:IH,deps:[xe],useFactory:function hG(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Lo,useClass:Lo,deps:[[new Ve,_d]]},{provide:vd,useClass:vd,deps:[]},bq,{provide:Uu,useFactory:function aG(){return iG},deps:[]},{provide:Uo,useFactory:function uG(){return sG},deps:[]},{provide:Ei,useFactory:function cG(t){return t||function lG(){return"undefined"!=typeof $localize&&$localize.locale||ad}()},deps:[[new lu(Ei),new Ve,new so]]},{provide:gx,useValue:"USD"}];let fG=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(Lu))},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({providers:dG}),t})(),Ed=null;function Ii(){return Ed}const Fn=new ee("DocumentToken");let ts=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=re({token:t,factory:function(){return function yG(){return F(Vx)}()},providedIn:"platform"}),t})();const _G=new ee("Location Initialized");let Vx=(()=>{class t extends ts{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ii().getBaseHref(this._doc)}onPopState(n){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){jx()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){jx()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(Fn))},t.\u0275prov=re({token:t,factory:function(){return function vG(){return new Vx(F(Fn))}()},providedIn:"platform"}),t})();function jx(){return!!window.history.pushState}function Rm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Bx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function $r(t){return t&&"?"!==t[0]?"?"+t:t}let Vo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=re({token:t,factory:function(){return function wG(t){const e=F(Fn).location;return new $x(F(ts),e&&e.origin||"")}()},providedIn:"root"}),t})();const km=new ee("appBaseHref");let $x=(()=>{class t extends Vo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+$r(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+$r(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(ts),F(km,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})(),EG=(()=>{class t extends Vo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Rm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+$r(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+$r(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(ts),F(km,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})(),Nm=(()=>{class t{constructor(n,r){this._subject=new Kt,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Bx(Hx(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$r(r))}normalize(n){return t.stripTrailingSlash(function DG(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Hx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$r(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$r(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=$r,t.joinWithSlash=Rm,t.stripTrailingSlash=Bx,t.\u0275fac=function(n){return new(n||t)(F(Vo),F(ts))},t.\u0275prov=re({token:t,factory:function(){return function IG(){return new Nm(F(Vo),F(ts))}()},providedIn:"root"}),t})();function Hx(t){return t.replace(/\/index.html$/,"")}var Ge=(()=>((Ge=Ge||{})[Ge.Zero=0]="Zero",Ge[Ge.One=1]="One",Ge[Ge.Two=2]="Two",Ge[Ge.Few=3]="Few",Ge[Ge.Many=4]="Many",Ge[Ge.Other=5]="Other",Ge))();const MG=function eA(t){return function zt(t){const e=function h$(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=tA(e);if(n)return n;const r=e.split("-")[0];if(n=tA(r),n)return n;if("en"===r)return d$;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[x.PluralCase]};class Rd{}let sW=(()=>{class t extends Rd{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(MG(r||this.locale)(n)){case Ge.Zero:return"zero";case Ge.One:return"one";case Ge.Two:return"two";case Ge.Few:return"few";case Ge.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(F(Ei))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();class cW{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xx=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new cW(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Zx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Zx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(P(er),P(Br),P(Uu))},t.\u0275dir=Rt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Zx(t,e){t.context.$implicit=e.item}let eM=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new lW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(P(er),P(Br))},t.\u0275dir=Rt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class lW{constructor(){this.$implicit=null,this.ngIf=null}}function tM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${pe(e)}'.`)}let LW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({providers:[{provide:Rd,useClass:sW}]}),t})();let BW=(()=>{class t{}return t.\u0275prov=re({token:t,providedIn:"root",factory:()=>new $W(F(Fn),window)}),t})();class $W{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function HW(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sM(this.window.history)||sM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function sM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Wm extends class GW extends class mG{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function gG(t){Ed||(Ed=t)}(new Wm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function WW(){return Bu=Bu||document.querySelector("base"),Bu?Bu.getAttribute("href"):null}();return null==n?null:function zW(t){kd=kd||document.createElement("a"),kd.setAttribute("href",t);const e=kd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oW(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let kd,Bu=null;const oM=new ee("TRANSITION_ID"),QW=[{provide:_d,useFactory:function KW(t,e,n){return()=>{n.get(Lo).donePromise.then(()=>{const r=Ii(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[oM,Fn,ct],multi:!0}];class zm{static init(){!function Oq(t){Tm=t}(new zm)}addToWindow(e){ye.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ye.getAllAngularTestabilities=()=>e.getAllTestabilities(),ye.getAllAngularRootElements=()=>e.getAllRootElements(),ye.frameworkStabilizers||(ye.frameworkStabilizers=[]),ye.frameworkStabilizers.push(r=>{const i=ye.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Ii().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let YW=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();const Nd=new ee("EventManagerPlugins");let Pd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(Nd),F(xe))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();class aM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ii().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let uM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})(),$u=(()=>{class t extends uM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(cM),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(cM))}}return t.\u0275fac=function(n){return new(n||t)(F(Fn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();function cM(t){Ii().remove(t)}const Km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qm=/%COMP%/g;function Od(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Od(t,i,n):(i=i.replace(Qm,t),n.push(i))}return n}function hM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ym=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Jm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case lr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new nz(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case lr.ShadowDom:return new rz(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Od(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(Pd),F($u),F(Ou))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();class Jm{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Km[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Km[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Km[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wn.DashCase|wn.Important)?e.style.setProperty(n,r,i&wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,hM(r)):this.eventManager.addEventListener(e,n,hM(r))}}class nz extends Jm{constructor(e,n,r,i){super(e),this.component=r;const s=Od(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function ZW(t){return"_ngcontent-%COMP%".replace(Qm,t)}(i+"-"+r.id),this.hostAttr=function ez(t){return"_nghost-%COMP%".replace(Qm,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class rz extends Jm{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Od(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let iz=(()=>{class t extends aM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Fn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();const pM=["alt","control","meta","shift"],oz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},az={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uz=(()=>{class t extends aM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ii().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(pM.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function cz(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gM.hasOwnProperty(e)&&(e=gM[e]))}return oz[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pM.forEach(s=>{s!=i&&az[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Fn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();const fz=Ex(oG,"browser",[{provide:Fu,useValue:"browser"},{provide:hx,useValue:function lz(){Wm.makeCurrent(),zm.init()},multi:!0},{provide:Fn,useFactory:function hz(){return function lU(t){hp=t}(document),document},deps:[]}]),pz=[{provide:Sg,useValue:"root"},{provide:uo,useFactory:function dz(){return new uo},deps:[]},{provide:Nd,useClass:iz,multi:!0,deps:[Fn,xe,Fu]},{provide:Nd,useClass:uz,multi:!0,deps:[Fn]},{provide:Ym,useClass:Ym,deps:[Pd,$u,Ou]},{provide:xA,useExisting:Ym},{provide:uM,useExisting:$u},{provide:$u,useClass:$u,deps:[Fn]},{provide:Dm,useClass:Dm,deps:[xe]},{provide:Pd,useClass:Pd,deps:[Nd,xe]},{provide:class qW{},useClass:YW,deps:[]}];let gz=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ou,useValue:n.appId},{provide:oM,useExisting:Ou},QW]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({providers:pz,imports:[LW,fG]}),t})();function Y(...t){return wt(t,za(t))}"undefined"!=typeof window&&window;class ir extends Mr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Cz}=Array,{getPrototypeOf:Sz,prototype:Az,keys:xz}=Object;const{isArray:kz}=Array;function Fz(...t){const e=za(t),n=function AL(t){return me(Yf(t))?t.pop():void 0}(t),{args:r,keys:i}=function Mz(t){if(1===t.length){const e=t[0];if(Cz(e))return{args:e,keys:null};if(function Rz(t){return t&&"object"==typeof t&&Sz(t)===Az}(e)){const n=xz(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return wt([],e);const s=new De(function Lz(t,e,n=$i){return r=>{_M(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)_M(e,()=>{const c=wt(t[u],e);let l=!1;c.subscribe(new vt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function Oz(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):$i));return n?s.pipe(function Pz(t){return _e(e=>function Nz(t,e){return kz(e)?t(...e):t(e)}(t,e))}(n)):s}function _M(t,e,n){t?kr(n,t,e):e()}const Fd=Vs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Zm(...t){return function Uz(){return Wa(1)}()(wt(t,za(t)))}function vM(t){return new De(e=>{Rr(t()).subscribe(e)})}function wM(){return _t((t,e)=>{let n=null;t._refCount++;const r=new vt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Vz extends De{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,FT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;const n=this.getSubject();e.add(this.source.subscribe(new vt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return wM()(this)}}function ns(t,e){return _t((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new vt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Rr(t(u,l)).subscribe(i=new vt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Bz(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new vt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function EM(t,e){return _t(Bz(t,e,arguments.length>=2,!0))}function jo(t,e){return _t((n,r)=>{let i=0;n.subscribe(new vt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ti(t){return _t((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new vt(n,void 0,void 0,o=>{s=Rr(t(o,Ti(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Hu(t,e){return me(e)?at(t,e,1):at(t,1)}function ey(t){return t<=0?()=>Nr:_t((e,n)=>{let r=[];e.subscribe(new vt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function IM(t=$z){return _t((e,n)=>{let r=!1;e.subscribe(new vt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $z(){return new Fd}function DM(t){return _t((e,n)=>{let r=!1;e.subscribe(new vt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Bo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?jo((i,s)=>t(i,s,r)):$i,fl(1),n?DM(e):IM(()=>new Fd))}function on(t,e,n){const r=me(t)||e||n?{next:t,error:e,complete:n}:t;return r?_t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new vt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):$i}class qr{constructor(e,n){this.id=e,this.url=n}}class ty extends qr{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qu extends qr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class TM extends qr{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gz extends qr{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wz extends qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zz extends qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kz extends qr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qz extends qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yz extends qr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bM{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CM{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jz{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xz{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zz{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e3{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SM{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Z="primary";class t3{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function $o(t){return new t3(t)}const AM="ngNavigationCancelingError";function ny(t){const e=Error("NavigationCancelingError: "+t);return e[AM]=!0,e}function r3(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Er(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xM(t[i],e[i]))return!1;return!0}function xM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function MM(t){return Array.prototype.concat.apply([],t)}function RM(t){return t.length>0?t[t.length-1]:null}function Et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ir(t){return sS(t)?t:nd(t)?wt(Promise.resolve(t)):Y(t)}const o3={exact:function PM(t,e,n){if(!is(t.segments,e.segments)||!Ld(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!PM(t.children[r],e.children[r],n))return!1;return!0},subset:OM},kM={exact:function a3(t,e){return Er(t,e)},subset:function u3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xM(t[n],e[n]))},ignored:()=>!0};function NM(t,e,n){return o3[n.paths](t.root,e.root,n.matrixParams)&&kM[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function OM(t,e,n){return FM(t,e,e.segments,n)}function FM(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!is(i,n)||e.hasChildren()||!Ld(i,n,r))}if(t.segments.length===n.length){if(!is(t.segments,n)||!Ld(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!OM(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(is(t.segments,i)&&Ld(t.segments,i,r)&&t.children[Z])&&FM(t.children[Z],e,s,r)}}function Ld(t,e,n){return e.every((r,i)=>kM[n](t[i].parameters,r.parameters))}class rs{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return d3.serialize(this)}}class ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Et(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ud(this)}}class Gu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=$o(this.parameters)),this._parameterMap}toString(){return BM(this)}}function is(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class LM{}class UM{parse(e){const n=new w3(e);return new rs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Wu(e.root,!0)}`,r=function p3(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Vd(n)}=${Vd(i)}`).join("&"):`${Vd(n)}=${Vd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function h3(t){return encodeURI(t)}(e.fragment)}`:""}`}}const d3=new UM;function Ud(t){return t.segments.map(e=>BM(e)).join("/")}function Wu(t,e){if(!t.hasChildren())return Ud(t);if(e){const n=t.children[Z]?Wu(t.children[Z],!1):"",r=[];return Et(t.children,(i,s)=>{s!==Z&&r.push(`${s}:${Wu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function l3(t,e){let n=[];return Et(t.children,(r,i)=>{i===Z&&(n=n.concat(e(r,i)))}),Et(t.children,(r,i)=>{i!==Z&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===Z?[Wu(t.children[Z],!1)]:[`${i}:${Wu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Z]?`${Ud(t)}/${n[0]}`:`${Ud(t)}/(${n.join("//")})`}}function VM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(t){return VM(t).replace(/%3B/gi,";")}function ry(t){return VM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jd(t){return decodeURIComponent(t)}function jM(t){return jd(t.replace(/\+/g,"%20"))}function BM(t){return`${ry(t.path)}${function f3(t){return Object.keys(t).map(e=>`;${ry(e)}=${ry(t[e])}`).join("")}(t.parameters)}`}const g3=/^[^\/()?;=#]+/;function Bd(t){const e=t.match(g3);return e?e[0]:""}const m3=/^[^=?&#]+/,_3=/^[^&#]+/;class w3{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ie(e,n)),r}parseSegment(){const e=Bd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Gu(jd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Bd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Bd(this.remaining);i&&(r=i,this.capture(r))}e[jd(n)]=jd(r)}parseQueryParam(e){const n=function y3(t){const e=t.match(m3);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function v3(t){const e=t.match(_3);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=jM(n),s=jM(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Z]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $M{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=iy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=iy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=sy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sy(e,this._root).map(n=>n.value)}}function iy(t,e){if(t===e.value)return e;for(const n of e.children){const r=iy(t,n);if(r)return r}return null}function sy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=sy(t,n);if(r.length)return r.unshift(e),r}return[]}class Gr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ho(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class HM extends $M{constructor(e,n){super(e),this.snapshot=n,oy(this,e)}toString(){return this.snapshot.toString()}}function qM(t,e){const n=function E3(t,e){const o=new $d([],{},{},"",{},Z,e,null,t.root,-1,{});return new WM("",new Gr(o,[]))}(t,e),r=new ir([new Gu("",{})]),i=new ir({}),s=new ir({}),o=new ir({}),a=new ir(""),u=new qo(r,i,o,a,s,Z,e,n.root);return u.snapshot=n.root,new HM(new Gr(u,[]),n)}class qo{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>$o(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>$o(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GM(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function I3(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $d{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WM extends $M{constructor(e,n){super(n),this.url=e,oy(this,n)}toString(){return zM(this._root)}}function oy(t,e){e.value._routerState=t,e.children.forEach(n=>oy(t,n))}function zM(t){const e=t.children.length>0?` { ${t.children.map(zM).join(", ")} } `:"";return`${t.value}${e}`}function ay(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Er(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Er(e.params,n.params)||t.params.next(n.params),function i3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Er(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Er(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function uy(t,e){const n=Er(t.params,e.params)&&function c3(t,e){return is(t,e)&&t.every((n,r)=>Er(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||uy(t.parent,e.parent))}function zu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function T3(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zu(t,r,i);return zu(t,r)})}(t,e,n);return new Gr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zu(t,a)),o}}const r=function b3(t){return new qo(new ir(t.url),new ir(t.params),new ir(t.queryParams),new ir(t.fragment),new ir(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>zu(t,s));return new Gr(r,i)}}function Hd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ku(t){return"object"==typeof t&&null!=t&&t.outlets}function cy(t,e,n,r,i){let s={};return r&&Et(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new rs(n.root===t?e:KM(n.root,t,e),s,i)}function KM(t,e,n){const r={};return Et(t.children,(i,s)=>{r[s]=i===e?n:KM(i,e,n)}),new ie(t.segments,r)}class QM{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hd(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ku);if(i&&i!==RM(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ly{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function YM(t,e,n){if(t||(t=new ie([],{})),0===t.segments.length&&t.hasChildren())return qd(t,e,n);const r=function R3(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ku(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!XM(u,c,o))return s;r+=2}else{if(!XM(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new ie(t.segments.slice(r.pathIndex),t.children),qd(s,0,i)}return r.match&&0===i.length?new ie(t.segments,{}):r.match&&!t.hasChildren()?dy(t,e,n):r.match?qd(t,0,i):dy(t,e,n)}function qd(t,e,n){if(0===n.length)return new ie(t.segments,{});{const r=function M3(t){return Ku(t[0])?t[0].outlets:{[Z]:t}}(n),i={};return Et(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=YM(t.children[o],e,s))}),Et(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ie(t.segments,i)}}function dy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ku(s)){const u=k3(s.outlets);return new ie(r,u)}if(0===i&&Hd(n[0])){r.push(new Gu(t.segments[e].path,JM(n[0]))),i++;continue}const o=Ku(s)?s.outlets[Z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hd(a)?(r.push(new Gu(o,JM(a))),i+=2):(r.push(new Gu(o,{})),i++)}return new ie(r,{})}function k3(t){const e={};return Et(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=dy(new ie([],{}),0,n))}),e}function JM(t){const e={};return Et(t,(n,r)=>e[r]=`${n}`),e}function XM(t,e,n){return t==n.path&&Er(e,n.parameters)}class P3{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ay(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ho(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Et(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ho(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ho(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ho(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new e3(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Xz(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(ay(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ay(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function O3(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class hy{constructor(e,n){this.routes=e,this.module=n}}function bi(t){return"function"==typeof t}function ss(t){return t instanceof rs}const Qu=Symbol("INITIAL_VALUE");function Yu(){return ns(t=>Fz(t.map(e=>e.pipe(fl(1),function jz(...t){const e=za(t);return _t((n,r)=>{(e?Zm(t,n,e):Zm(t,n)).subscribe(r)})}(Qu)))).pipe(EM((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Qu?i:(s===Qu&&(r=!0),r||!1!==s&&o!==n.length-1&&!ss(s)?i:s),e)},Qu),jo(e=>e!==Qu),_e(e=>ss(e)?e:!0===e),fl(1)))}class B3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ju,this.attachRef=null}}class Ju{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new B3,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let fy=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.name=s||Z,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new $3(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(P(Ju),P(er),P(No),function ru(t){return function $U(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Sb(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Xe(),t)}("name"),P(Cm))},t.\u0275dir=Rt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class $3{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qo?this.route:e===Ju?this.childContexts:this.parent.get(e,n)}}let ZM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qi({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&xo(0,"router-outlet")},directives:[fy],encapsulation:2}),t})();function eR(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];H3(r,q3(e,r))}}function H3(t,e){t.children&&eR(t.children,e)}function q3(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function py(t){const e=t.children&&t.children.map(py),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=ZM),n}function Vn(t){return t.outlet||Z}function tR(t,e){const n=t.filter(r=>Vn(r)===e);return n.push(...t.filter(r=>Vn(r)!==e)),n}const nR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gd(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},nR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||r3)(n,t,e);if(!s)return Object.assign({},nR);const o={};Et(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Wd(t,e,n,r,i="corrected"){if(n.length>0&&function z3(t,e,n){return n.some(r=>zd(t,e,r)&&Vn(r)!==Z)}(t,n,r)){const o=new ie(e,function W3(t,e,n,r){const i={};i[Z]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Vn(s)!==Z){const o=new ie([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Vn(s)]=o}return i}(t,e,r,new ie(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function K3(t,e,n){return n.some(r=>zd(t,e,r))}(t,n,r)){const o=new ie(t.segments,function G3(t,e,n,r,i,s){const o={};for(const a of r)if(zd(t,n,a)&&!i[Vn(a)]){const u=new ie([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Vn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ie(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function zd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function rR(t,e,n,r){return!!(Vn(t)===r||r!==Z&&zd(e,n,t))&&("**"===t.path||Gd(e,t,n).matched)}function iR(t,e,n){return 0===e.length&&!t.children[n]}class Xu{constructor(e){this.segmentGroup=e||null}}class sR{constructor(e){this.urlTree=e}}function Kd(t){return new De(e=>e.error(new Xu(t)))}function oR(t){return new De(e=>e.error(new sR(t)))}function Q3(t){return new De(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class X3{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(jr)}apply(){const e=Wd(this.urlTree.root,[],[],this.config).segmentGroup,n=new ie(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Z).pipe(_e(s=>this.createUrlTree(gy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ti(s=>{if(s instanceof sR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Xu?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Z).pipe(_e(i=>this.createUrlTree(gy(i),e.queryParams,e.fragment))).pipe(Ti(i=>{throw i instanceof Xu?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ie([],{[Z]:e}):e;return new rs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(_e(s=>new ie([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wt(i).pipe(Hu(s=>{const o=r.children[s],a=tR(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(_e(u=>({segment:u,outlet:s})))}),EM((s,o)=>(s[o.outlet]=o.segment,s),{}),function Hz(t,e){const n=arguments.length>=2;return r=>r.pipe(t?jo((i,s)=>t(i,s,r)):$i,ey(1),n?DM(e):IM(()=>new Fd))}())}expandSegment(e,n,r,i,s,o){return wt(r).pipe(Hu(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ti(c=>{if(c instanceof Xu)return Y(null);throw c}))),Bo(a=>!!a),Ti((a,u)=>{if(a instanceof Fd||"EmptyError"===a.name){if(iR(n,i,s))return Y(new ie([],{}));throw new Xu(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return rR(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Kd(n):Kd(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oR(s):this.lineralizeSegments(r,s).pipe(at(o=>{const a=new ie(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Gd(n,i,s);if(!a)return Kd(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?oR(d):this.lineralizeSegments(i,d).pipe(at(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Y(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(_e(h=>(r._loadedConfig=h,new ie(i,{})))):Y(new ie(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Gd(n,r,i);if(!o)return Kd(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(at(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=Wd(n,a,c,f),_=new ie(p.segments,p.children);if(0===m.length&&_.hasChildren())return this.expandChildren(h,f,_).pipe(_e(N=>new ie(a,N)));if(0===f.length&&0===m.length)return Y(new ie(a,{}));const w=Vn(r)===s;return this.expandSegment(h,_,f,m,w?Z:s,!0).pipe(_e(C=>new ie(a.concat(C.segments),C.children)))}))}getChildConfig(e,n,r){return n.children?Y(new hy(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Y(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(at(i=>i?this.configLoader.load(e.injector,n).pipe(_e(s=>(n._loadedConfig=s,s))):function Y3(t){return new De(e=>e.error(ny(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):Y(new hy([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?Y(i.map(o=>{const a=e.get(o);let u;if(function L3(t){return t&&bi(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!bi(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Ir(u)})).pipe(Yu(),on(o=>{if(!ss(o))return;const a=ny(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),_e(o=>!0===o)):Y(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[Z])return Q3(e.redirectTo);i=i.children[Z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new rs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Et(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Et(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function gy(t){const e={};for(const r of Object.keys(t.children)){const s=gy(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Z3(t){if(1===t.numberOfChildren&&t.children[Z]){const e=t.children[Z];return new ie(t.segments.concat(e.segments),e.children)}return t}(new ie(t.segments,e))}class aR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qd{constructor(e,n){this.component=e,this.route=n}}function t8(t,e,n){const r=t._root;return Zu(r,e?e._root:null,n,[r.value])}function Yd(t,e,n){const r=function r8(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Zu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ho(e);return t.children.forEach(o=>{(function i8(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function s8(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!is(t.url,e.url);case"pathParamsOrQueryParamsChange":return!is(t.url,e.url)||!Er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uy(t,e)||!Er(t.queryParams,e.queryParams);default:return!uy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new aR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Zu(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qd(a.outlet.component,o))}else o&&ec(e,a,i),i.canActivateChecks.push(new aR(r)),Zu(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Et(s,(o,a)=>ec(o,n.getContext(a),i)),i}function ec(t,e,n){const r=Ho(t),i=t.value;Et(r,(s,o)=>{ec(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Qd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class p8{}function uR(t){return new De(e=>e.error(t))}class m8{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Wd(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Z);if(null===n)return null;const r=new $d([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Z,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gr(r,n),s=new WM(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=GM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=tR(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=cR(r);return function y8(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return iR(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!rR(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?RM(r).parameters:{};s=new $d(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hR(e),Vn(e),e.component,e,lR(n),dR(n)+r.length,fR(e))}else{const f=Gd(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new $d(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hR(e),Vn(e),e.component,e,lR(n),dR(n)+o.length,fR(e))}const u=function _8(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Wd(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Gr(s,f)]}if(0===u.length&&0===l.length)return[new Gr(s,[])];const d=Vn(e)===i,h=this.processSegment(u,c,l,d?Z:i);return null===h?null:[new Gr(s,h)]}}function v8(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cR(t){const e=[],n=new Set;for(const r of t){if(!v8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=cR(r.children);e.push(new Gr(r.value,i))}return e.filter(r=>!n.has(r))}function lR(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function dR(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hR(t){return t.data||{}}function fR(t){return t.resolve||{}}function my(t){return ns(e=>{const n=t(e);return n?wt(n).pipe(_e(()=>e)):Y(e)})}class S8 extends class C8{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const yy=new ee("ROUTES");class pR{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new hy(MM(o.injector.get(yy,void 0,G.Self|G.Optional)).map(py),o)}),Ti(s=>{throw n._loader$=void 0,s}));return n._loader$=new Vz(i,()=>new Mr).pipe(wM()),n._loader$}loadModuleFactory(e){return Ir(e()).pipe(at(n=>n instanceof NA?Y(n):wt(this.compiler.compileModuleAsync(n))))}}class x8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function M8(t){throw t}function R8(t,e,n){return e.parse("/")}function gR(t,e){return Y(null)}const k8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mr,this.errorHandler=M8,this.malformedUriErrorHandler=R8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gR,afterPreactivation:gR},this.urlHandlingStrategy=new x8,this.routeReuseStrategy=new S8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(jr),this.console=o.get(px);const d=o.get(xe);this.isNgZoneEnabled=d instanceof xe&&xe.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function s3(){return new rs(new ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pR(o,a,h=>this.triggerEvent(new bM(h)),h=>this.triggerEvent(new CM(h))),this.routerState=qM(this.currentUrlTree,this.rootComponentType),this.transitions=new ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(jo(i=>0!==i.id),_e(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ns(i=>{let s=!1,o=!1;return Y(i).pipe(on(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ns(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Jd(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(ns(d=>{const h=this.transitions.getValue();return r.next(new ty(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Nr:Promise.resolve(d)}),function e8(t,e,n,r){return ns(i=>function J3(t,e,n,r,i){return new X3(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(_e(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),on(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function w8(t,e,n,r,i){return at(s=>function g8(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new m8(t,e,n,r,i,s).recognize();return null===o?uR(new p8):Y(o)}catch(o){return uR(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(_e(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),on(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Wz(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,w=new ty(h,this.serializeUrl(f),p,m);r.next(w);const y=qM(f,this.rootComponentType).snapshot;return Y(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Nr}),my(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),on(a=>{const u=new zz(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),_e(a=>Object.assign(Object.assign({},a),{guards:t8(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function o8(t,e){return at(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y(Object.assign(Object.assign({},n),{guardsResult:!0})):function a8(t,e,n,r){return wt(t).pipe(at(i=>function f8(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=Yd(a,e,i);let c;if(function j3(t){return t&&bi(t.canDeactivate)}(u))c=Ir(u.canDeactivate(t,e,n,r));else{if(!bi(u))throw new Error("Invalid CanDeactivate guard");c=Ir(u(t,e,n,r))}return c.pipe(Bo())})).pipe(Yu()):Y(!0)}(i.component,i.route,n,e,r)),Bo(i=>!0!==i,!0))}(o,r,i,t).pipe(at(a=>a&&function F3(t){return"boolean"==typeof t}(a)?function u8(t,e,n,r){return wt(e).pipe(Hu(i=>Zm(function l8(t,e){return null!==t&&e&&e(new Jz(t)),Y(!0)}(i.route.parent,r),function c8(t,e){return null!==t&&e&&e(new Zz(t)),Y(!0)}(i.route,r),function h8(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function n8(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>vM(()=>Y(o.guards.map(u=>{const c=Yd(u,o.node,n);let l;if(function V3(t){return t&&bi(t.canActivateChild)}(c))l=Ir(c.canActivateChild(r,t));else{if(!bi(c))throw new Error("Invalid CanActivateChild guard");l=Ir(c(r,t))}return l.pipe(Bo())})).pipe(Yu())));return Y(s).pipe(Yu())}(t,i.path,n),function d8(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>vM(()=>{const o=Yd(s,e,n);let a;if(function U3(t){return t&&bi(t.canActivate)}(o))a=Ir(o.canActivate(e,t));else{if(!bi(o))throw new Error("Invalid CanActivate guard");a=Ir(o(e,t))}return a.pipe(Bo())}));return Y(i).pipe(Yu())}(t,i.route,n))),Bo(i=>!0!==i,!0))}(r,s,t,e):Y(a)),_e(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),on(a=>{if(ss(a.guardsResult)){const c=ny(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new Kz(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),jo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),my(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(on(u=>{const c=new Qz(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),ns(u=>{let c=!1;return Y(u).pipe(function E8(t,e){return at(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return wt(i).pipe(Hu(o=>function I8(t,e,n,r){return function D8(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Y({});const s={};return wt(i).pipe(at(o=>function T8(t,e,n,r){const i=Yd(t,e,r);return Ir(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(on(a=>{s[o]=a}))),ey(1),at(()=>Object.keys(s).length===i.length?Y(s):Nr))}(t._resolve,t,e,r).pipe(_e(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),GM(t,n).resolve),null)))}(o.route,r,t,e)),on(()=>s++),ey(1),at(o=>s===i.length?Y(n):Nr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),on({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),on(u=>{const c=new Yz(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),my(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),_e(a=>{const u=function D3(t,e,n){const r=zu(t,e._root,n?n._root:void 0);return new HM(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),on(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>_e(r=>(new P3(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),on({next(){s=!0},complete(){s=!0}}),function qz(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ti(a=>{if(o=!0,function n3(t){return t&&t[AM]}(a)){const u=ss(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new TM(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jd(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new Gz(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Nr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){eR(n),this.config=n.map(py),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function C3(t,e,n,r,i){if(0===n.length)return cy(e.root,e.root,e,r,i);const s=function S3(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new QM(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Et(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new QM(n,e,r)}(n);if(s.toRoot())return cy(e.root,new ie([],{}),e,r,i);const o=function A3(t,e,n){if(t.isAbsolute)return new ly(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new ly(s,s===e.root,0)}const r=Hd(t.commands[0])?0:1;return function x3(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ly(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?qd(o.segmentGroup,o.index,s.commands):YM(o.segmentGroup,o.index,s.commands);return cy(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ss(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function P8(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},k8):!1===r?Object.assign({},N8):r,ss(n))return NM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return NM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new qu(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,d=Jd(r)&&l&&!Jd(l.source),h=l.rawUrl.toString()===n.toString(),f=l.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let m,_,w;o?(m=o.resolve,_=o.reject,w=o.promise):w=new Promise((N,W)=>{m=N,_=W});const y=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):C=0,this.setTransition({id:y,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:m,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(N=>Promise.reject(N))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new TM(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Vg()},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();function Jd(t){return"imperative"!==t}class mR{}class yR{preload(e,n){return Y(null)}}let _R=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new pR(i,r,u=>n.triggerEvent(new bM(u)),u=>n.triggerEvent(new CM(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(jo(n=>n instanceof qu),Hu(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(jr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return wt(i).pipe(Wa(),_e(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Y(r._loadedConfig):this.loader.load(n.injector,r)).pipe(at(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(In),F(vd),F(ct),F(mR))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})(),wy=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ty?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qu&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof SM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new SM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Vg()},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();const os=new ee("ROUTER_CONFIGURATION"),vR=new ee("ROUTER_FORROOT_GUARD"),U8=[Nm,{provide:LM,useClass:UM},{provide:In,useFactory:function H8(t,e,n,r,i,s,o={},a,u){const c=new In(null,t,e,n,r,i,MM(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function q8(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[LM,Ju,Nm,ct,vd,yy,os,[class A8{},new Ve],[class b8{},new Ve]]},Ju,{provide:qo,useFactory:function G8(t){return t.routerState.root},deps:[In]},_R,yR,class L8{preload(e,n){return n().pipe(Ti(()=>Y(null)))}},{provide:os,useValue:{enableTracing:!1}}];function V8(){return new wx("Router",In)}let wR=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[U8,ER(n),{provide:vR,useFactory:$8,deps:[[In,new Ve,new so]]},{provide:os,useValue:r||{}},{provide:Vo,useFactory:B8,deps:[ts,[new lu(km),new Ve],os]},{provide:wy,useFactory:j8,deps:[In,BW,os]},{provide:mR,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:yR},{provide:wx,multi:!0,useFactory:V8},[Ey,{provide:_d,multi:!0,useFactory:W8,deps:[Ey]},{provide:IR,useFactory:z8,deps:[Ey]},{provide:fx,multi:!0,useExisting:IR}]]}}static forChild(n){return{ngModule:t,providers:[ER(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(vR,8),F(In,8))},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({}),t})();function j8(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wy(t,e,n)}function B8(t,e,n={}){return n.useHash?new EG(t,e):new $x(t,e)}function $8(t){return"guarded"}function ER(t){return[{provide:KU,multi:!0,useValue:t},{provide:yy,multi:!0,useValue:t}]}let Ey=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Mr}appInitializer(){return this.injector.get(_G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(In),o=this.injector.get(os);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(os),i=this.injector.get(_R),s=this.injector.get(wy),o=this.injector.get(In),a=this.injector.get(Lu);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(ct))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t})();function W8(t){return t.appInitializer.bind(t)}function z8(t){return t.bootstrapListener.bind(t)}const IR=new ee("Router Initializer");function DR(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){DR(s,r,i,o,a,"next",u)}function a(u){DR(s,r,i,o,a,"throw",u)}o(void 0)})}}const Dy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class by{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function SR(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Xd(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function AR(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xR(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wo(){return"object"==typeof indexedDB}function Zd(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Cy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}}class Tr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function i4(t,e){return t.replace(s4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Dr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const s4=/\{\$([^}]+)}/g;function th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(RR(s)&&RR(o)){if(!th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RR(t){return null!==t&&"object"==typeof t}function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class u4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function c4(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Sy),void 0===i.error&&(i.error=Sy),void 0===i.complete&&(i.complete=Sy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sy(){}function xy(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function jn(t){return t&&t._delegate?t._delegate:t}class Yt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const as="[DEFAULT]";class g4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new by;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function y4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===as?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const My=[];var ae=(()=>{return(t=ae||(ae={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ae;var t})();const kR={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},v4=ae.INFO,w4={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},E4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=w4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class zo{constructor(e){this.name=e,this._logLevel=v4,this._logHandler=E4,this._userLogHandler=null,My.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?kR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}class I4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function D4(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ry="@firebase/app",ky=new zo("@firebase/app"),Ny="[DEFAULT]",Q4={[Ry]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},us=new Map,nh=new Map;function Y4(t,e){try{t.container.addComponent(e)}catch(n){ky.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function an(t){const e=t.name;if(nh.has(e))return ky.debug(`There were multiple attempts to register component ${e}.`),!1;nh.set(e,t);for(const n of us.values())Y4(n,t);return!0}function Ko(t,e){return t.container.getProvider(e)}const nc=new Tr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class X4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nc.create("app-deleted",{appName:this._name})}}const Qo="9.6.4";function Z4(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Ny,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw nc.create("bad-app-name",{appName:String(r)});const i=us.get(r);if(i){if(th(t,i.options)&&th(n,i.config))return i;throw nc.create("duplicate-app",{appName:r})}const s=new _4(r);for(const a of nh.values())s.addComponent(a);const o=new X4(t,n,s);return us.set(r,o),o}function Py(t=Ny){const e=us.get(t);if(!e)throw nc.create("no-app",{appName:t});return e}function PR(){return Array.from(us.values())}function Oe(t,e,n){var r;let i=null!==(r=Q4[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ky.warn(a.join(" "))}an(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}!function e6(t){an(new Yt("platform-logger",e=>new I4(e),"PRIVATE")),Oe(Ry,"0.7.14",t),Oe(Ry,"0.7.14","esm2017"),Oe("fire-js","")}(""),Oe("firebase","9.6.4","app");var Yo=ji(940);const OR="@firebase/installations",LR="w:0.5.5",UR="FIS_v2",Wr=new Tr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function VR(t){return t instanceof Dr&&t.code.includes("request-failed")}function Ly({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function jR(t){return{token:t.token,requestStatus:2,expiresIn:u6(t.expiresIn),creationTime:Date.now()}}function Uy(t,e){return Vy.apply(this,arguments)}function Vy(){return(Vy=g(function*(t,e){const r=(yield e.json()).error;return Wr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function BR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $R(t,{refreshToken:e}){const n=BR(t);return n.append("Authorization",function c6(t){return`${UR} ${t}`}(e)),n}function jy(t){return By.apply(this,arguments)}function By(){return(By=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function u6(t){return Number(t.replace("s","000"))}function l6(t,e){return $y.apply(this,arguments)}function $y(){return($y=g(function*(t,{fid:e}){const n=Ly(t),s={method:"POST",headers:BR(t),body:JSON.stringify({fid:e,authVersion:UR,appId:t.appId,sdkVersion:LR})},o=yield jy(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:jR(a.authToken)}}throw yield Uy("Create Installation",o)})).apply(this,arguments)}function HR(t){return new Promise(e=>{setTimeout(e,t)})}const h6=/^[cdef][\w-]{21}$/;function f6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function p6(t){return function d6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return h6.test(n)?n:""}catch(t){return""}}function Jo(t){return`${t.appName}!${t.appId}`}const Xo=new Map;function qR(t,e){const n=Jo(t);GR(n,e),function y6(t,e){const n=function WR(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{GR(t.data.key,t.data.fid)}),cs}();n&&n.postMessage({key:t,fid:e}),function zR(){0===Xo.size&&cs&&(cs.close(),cs=null)}()}(n,e)}function GR(t,e){const n=Xo.get(t);if(n)for(const r of n)r(e)}let cs=null;const ls="firebase-installations-store";let qy=null;function Gy(){return qy||(qy=(0,Yo.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(ls)})),qy}function rh(t,e){return Wy.apply(this,arguments)}function Wy(){return(Wy=g(function*(t,e){const n=Jo(t),i=(yield Gy()).transaction(ls,"readwrite"),s=i.objectStore(ls),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&qR(t,e.fid),e})).apply(this,arguments)}function zy(t){return Ky.apply(this,arguments)}function Ky(){return(Ky=g(function*(t){const e=Jo(t),r=(yield Gy()).transaction(ls,"readwrite");yield r.objectStore(ls).delete(e),yield r.complete})).apply(this,arguments)}function rc(t,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=g(function*(t,e){const n=Jo(t),i=(yield Gy()).transaction(ls,"readwrite"),s=i.objectStore(ls),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&qR(t,a.fid),a})).apply(this,arguments)}function Yy(t){return Jy.apply(this,arguments)}function Jy(){return(Jy=g(function*(t){let e;const n=yield rc(t,r=>{const i=w6(r),s=E6(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function w6(t){return QR(t||{fid:f6(),registrationStatus:0})}function E6(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Wr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function I6(t,e){return Xy.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:D6(t)}:{installationEntry:e}}function Xy(){return(Xy=g(function*(t,e){try{return rh(t,yield l6(t,e))}catch(n){throw VR(n)&&409===n.customData.serverCode?yield zy(t):yield rh(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function D6(t){return Zy.apply(this,arguments)}function Zy(){return(Zy=g(function*(t){let e=yield KR(t);for(;1===e.registrationStatus;)yield HR(100),e=yield KR(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Yy(t);return r||n}return e})).apply(this,arguments)}function KR(t){return rc(t,e=>{if(!e)throw Wr.create("installation-not-found");return QR(e)})}function QR(t){return function T6(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function b6(t,e){return e_.apply(this,arguments)}function e_(){return(e_=g(function*({appConfig:t,platformLoggerProvider:e},n){const r=C6(t,n),i=$R(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:LR}})},u=yield jy(()=>fetch(r,a));if(u.ok)return jR(yield u.json());throw yield Uy("Generate Auth Token",u)})).apply(this,arguments)}function C6(t,{fid:e}){return`${Ly(t)}/${e}/authTokens:generate`}function t_(t){return n_.apply(this,arguments)}function n_(){return(n_=g(function*(t,e=!1){let n;const r=yield rc(t.appConfig,s=>{if(!JR(s))throw Wr.create("not-registered");const o=s.authToken;if(!e&&x6(o))return s;if(1===o.requestStatus)return n=S6(t,e),s;{if(!navigator.onLine)throw Wr.create("app-offline");const a=R6(s);return n=A6(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function S6(t,e){return r_.apply(this,arguments)}function r_(){return(r_=g(function*(t,e){let n=yield YR(t.appConfig);for(;1===n.authToken.requestStatus;)yield HR(100),n=yield YR(t.appConfig);const r=n.authToken;return 0===r.requestStatus?t_(t,e):r})).apply(this,arguments)}function YR(t){return rc(t,e=>{if(!JR(e))throw Wr.create("not-registered");return function k6(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function A6(t,e){return i_.apply(this,arguments)}function i_(){return(i_=g(function*(t,e){try{const n=yield b6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield rh(t.appConfig,r),n}catch(n){if(!VR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield rh(t.appConfig,r)}else yield zy(t.appConfig);throw n}})).apply(this,arguments)}function JR(t){return void 0!==t&&2===t.registrationStatus}function x6(t){return 2===t.requestStatus&&!function M6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function R6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function s_(){return(s_=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Yy(e.appConfig);return r?r.catch(console.error):t_(e).catch(console.error),n.fid})).apply(this,arguments)}function o_(){return(o_=g(function*(t,e=!1){const n=t;return yield O6(n.appConfig),(yield t_(n,e)).token})).apply(this,arguments)}function O6(t){return a_.apply(this,arguments)}function a_(){return(a_=g(function*(t){const{registrationPromise:e}=yield Yy(t);e&&(yield e)})).apply(this,arguments)}function l_(t){return Wr.create("missing-app-config-values",{valueName:t})}const XR="installations",j6=t=>{const e=t.getProvider("app").getImmediate(),n=function U6(t){if(!t||!t.options)throw l_("App Configuration");if(!t.name)throw l_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw l_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:Ko(e,"platform-logger"),_delete:()=>Promise.resolve()}},B6=t=>{const n=Ko(t.getProvider("app").getImmediate(),XR).getImmediate();return{getId:()=>function N6(t){return s_.apply(this,arguments)}(n),getToken:i=>function P6(t){return o_.apply(this,arguments)}(n,i)}};(function $6(){an(new Yt(XR,j6,"PUBLIC")),an(new Yt("installations-internal",B6,"PRIVATE"))})(),Oe(OR,"0.5.5"),Oe(OR,"0.5.5","esm2017");const d_="@firebase/remote-config",un=new Tr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Z6{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function eK(t=navigator){return t.languages&&t.languages[0]||t.language}class tK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:eK()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,y)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",y(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let y="fetch-client-network";throw"AbortError"===w.name&&(y="fetch-timeout"),un.create(y,{originalErrorMessage:w.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let w;try{w=yield h.json()}catch(y){throw un.create("fetch-client-parse",{originalErrorMessage:y.message})}m=w.entries,_=w.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw un.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class iK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function nK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function rK(t){if(!(t instanceof Dr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+xy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class aK{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sh(t,e){const n=t.target.error||void 0;return un.create(e,{originalErrorMessage:n&&n.message})}const ds="app_namespace_store";class dK{constructor(e,n,r,i=function lK(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(sh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ds,{keyPath:"compositeKey"})}}catch(n){e(un.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ds],"readonly").objectStore(ds),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(sh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(un.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ds],"readwrite").objectStore(ds),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(sh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(un.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ds],"readwrite").objectStore(ds),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(sh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(un.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class hK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function pK(){return m_.apply(this,arguments)}function m_(){return(m_=g(function*(){if(!Wo())return!1;try{return yield Zd()}catch(t){return!1}})).apply(this,arguments)}!function fK(){an(new Yt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw un.create("registration-window");if(!Wo())throw un.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw un.create("registration-project-id");if(!o)throw un.create("registration-api-key");if(!a)throw un.create("registration-app-id");const u=new dK(a,r.name,n=n||"firebase"),c=new hK(u),l=new zo(d_);l.logLevel=ae.ERROR;const d=new tK(i,Qo,n,s,o,a),h=new iK(d,u),f=new Z6(h,u,c,l),p=new aK(r,f,c,u,l);return function Y6(t){const e=jn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Oe(d_,"0.3.4"),Oe(d_,"0.3.4","esm2017")}();const gK="/firebase-messaging-sw.js",mK="/firebase-cloud-messaging-push-scope",nk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rk="google.c.a.c_id",_K="google.c.a.c_l",vK="google.c.a.ts",wK="google.c.a.e";var Zo=(()=>{return(t=Zo||(Zo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Zo;var t})();function zr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function EK(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const y_="fcm_token_details_db",ik="fcm_token_object_Store";function DK(t){return __.apply(this,arguments)}function __(){return __=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(y_))return null;let e=null;return(yield(0,Yo.openDb)(y_,5,function(){var r=g(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(ik))return;const o=i.transaction.objectStore(ik),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:zr(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:zr(u.auth),p256dh:zr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:zr(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:zr(u.auth),p256dh:zr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:zr(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,Yo.deleteDb)(y_),yield(0,Yo.deleteDb)("fcm_vapid_details_db"),yield(0,Yo.deleteDb)("undefined"),TK(e)?e:null}),__.apply(this,arguments)}function TK(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const hs="firebase-messaging-store";let v_=null;function w_(){return v_||(v_=(0,Yo.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(hs)})),v_}function sk(t){return E_.apply(this,arguments)}function E_(){return(E_=g(function*(t){const e=b_(t),r=yield(yield w_()).transaction(hs).objectStore(hs).get(e);if(r)return r;{const i=yield DK(t.appConfig.senderId);if(i)return yield I_(t,i),i}})).apply(this,arguments)}function I_(t,e){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(t,e){const n=b_(t),i=(yield w_()).transaction(hs,"readwrite");return yield i.objectStore(hs).put(e,n),yield i.complete,e})).apply(this,arguments)}function SK(t){return T_.apply(this,arguments)}function T_(){return(T_=g(function*(t){const e=b_(t),r=(yield w_()).transaction(hs,"readwrite");yield r.objectStore(hs).delete(e),yield r.complete})).apply(this,arguments)}function b_({appConfig:t}){return t.appId}const It=new Tr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xK(t,e){return C_.apply(this,arguments)}function C_(){return(C_=g(function*(t,e){const n=yield M_(t),r=ak(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(x_(t.appConfig),i)).json()}catch(o){throw It.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw It.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw It.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function MK(t,e){return S_.apply(this,arguments)}function S_(){return(S_=g(function*(t,e){const n=yield M_(t),r=ak(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${x_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw It.create("token-update-failed",{errorInfo:o})}if(s.error)throw It.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw It.create("token-update-no-token");return s.token})).apply(this,arguments)}function ok(t,e){return A_.apply(this,arguments)}function A_(){return(A_=g(function*(t,e){const r={method:"DELETE",headers:yield M_(t)};try{const s=yield(yield fetch(`${x_(t.appConfig)}/${e}`,r)).json();if(s.error)throw It.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw It.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function x_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function M_(t){return R_.apply(this,arguments)}function R_(){return(R_=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ak({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==nk&&(i.web.applicationPubKey=r),i}const RK=6048e5;function kK(t){return k_.apply(this,arguments)}function k_(){return(k_=g(function*(t){const e=yield PK(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:zr(e.getKey("auth")),p256dh:zr(e.getKey("p256dh"))},r=yield sk(t.firebaseDependencies);if(r){if(OK(r.subscriptionOptions,n))return Date.now()>=r.createTime+RK?NK(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ok(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ck(t.firebaseDependencies,n)}return ck(t.firebaseDependencies,n)})).apply(this,arguments)}function uk(t){return N_.apply(this,arguments)}function N_(){return(N_=g(function*(t){const e=yield sk(t.firebaseDependencies);e&&(yield ok(t.firebaseDependencies,e.token),yield SK(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function NK(t,e){return P_.apply(this,arguments)}function P_(){return(P_=g(function*(t,e){try{const n=yield MK(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield I_(t.firebaseDependencies,r),n}catch(n){throw yield uk(t),n}})).apply(this,arguments)}function ck(t,e){return O_.apply(this,arguments)}function O_(){return(O_=g(function*(t,e){const r={token:yield xK(t,e),createTime:Date.now(),subscriptionOptions:e};return yield I_(t,r),r.token})).apply(this,arguments)}function PK(t,e){return F_.apply(this,arguments)}function F_(){return(F_=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:EK(e)})})).apply(this,arguments)}function OK(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function lk(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function FK(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function LK(t,e){!e.data||(t.data=e.data)}(e,t),function UK(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function VK(t){return"object"==typeof t&&!!t&&rk in t}function dk(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function L_(t){return It.create("missing-app-config-values",{valueName:t})}dk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class BK{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function jK(t){if(!t||!t.options)throw L_("App Configuration Object");if(!t.name)throw L_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw L_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function hk(t){return U_.apply(this,arguments)}function U_(){return(U_=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(gK,{scope:mK}),t.swRegistration.update().catch(()=>{})}catch(e){throw It.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function $K(t,e){return V_.apply(this,arguments)}function V_(){return(V_=g(function*(t,e){if(!e&&!t.swRegistration&&(yield hk(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function HK(t,e){return j_.apply(this,arguments)}function j_(){return(j_=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=nk)})).apply(this,arguments)}function B_(){return(B_=g(function*(t,e){if(!navigator)throw It.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw It.create("permission-blocked");return yield HK(t,null==e?void 0:e.vapidKey),yield $K(t,null==e?void 0:e.serviceWorkerRegistration),kK(t)})).apply(this,arguments)}function qK(t,e,n){return $_.apply(this,arguments)}function $_(){return($_=g(function*(t,e,n){const r=GK(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rk],message_name:n[_K],message_time:n[vK],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function GK(t){switch(t){case Zo.NOTIFICATION_CLICKED:return"notification_open";case Zo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function H_(){return(H_=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(lk(n)):t.onMessageHandler.next(lk(n)));const r=n.data;VK(r)&&"1"===r[wK]&&(yield qK(t,n.messageType,r))})).apply(this,arguments)}const pk="@firebase/messaging",zK=t=>{const e=new BK(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function WK(t,e){return H_.apply(this,arguments)}(e,n)),e},KK=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function fk(t,e){return B_.apply(this,arguments)}(e,r)}};function mk(){return q_.apply(this,arguments)}function q_(){return(q_=g(function*(){return"undefined"!=typeof window&&Wo()&&(yield Zd())&&Cy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function QK(){an(new Yt("messaging",zK,"PUBLIC")),an(new Yt("messaging-internal",KK,"PRIVATE")),Oe(pk,"0.9.7"),Oe(pk,"0.9.7","esm2017")}();const oh="analytics",XK="firebase_id",t7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yk="https://www.googletagmanager.com/gtag/js",Dt=new zo("@firebase/analytics");function _k(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function n7(t,e){const n=document.createElement("script");n.src=`${yk}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function i7(t,e,n,r,i,s){return z_.apply(this,arguments)}function z_(){return(z_=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield _k(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Dt.error(a)}t("config",i,s)})).apply(this,arguments)}function s7(t,e,n,r,i){return K_.apply(this,arguments)}function K_(){return(K_=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield _k(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Dt.error(s)}})).apply(this,arguments)}function u7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(yk))return e;return null}const Dn=new Tr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),vk=new class h7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function f7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function p7(t){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:f7(r)},s=t7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Dn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function g7(t){return Y_.apply(this,arguments)}function Y_(){return(Y_=g(function*(t,e=vk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Dn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _7;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),wk({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function wk(t,e,n){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=vk){const{appId:s,measurementId:o}=t;try{yield m7(r,e)}catch(a){if(o)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield p7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!y7(a)){if(i.deleteThrottleMetadata(s),o)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?xy(n,i.intervalMillis,30):xy(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Dt.debug(`Calling attemptFetch again in ${u} millis`),wk(t,c,r,i)}})).apply(this,arguments)}function m7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function y7(t){if(!(t instanceof Dr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class _7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function v7(){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(){if(!Wo())return Dt.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Zd()}catch(t){return Dt.warn(Dn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function Z_(){return(Z_=g(function*(t,e,n,r,i,s,o){var a;const u=g7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Dt.error(f)),e.push(u);const c=v7().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);u7()||n7(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[XK]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class E7{constructor(e){this.app=e}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},Ek=[];const Ik={};let Tk,ic,ah="dataLayer",ev=!1;function D7(t,e,n){!function I7(){const t=[];if(Xd()&&t.push("This is a browser extension environment."),Cy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Dn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Dn.create("no-api-key");Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kr[r])throw Dn.create("already-exists",{id:r});if(!ev){!function r7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ah);const{wrappedGtag:s,gtagCore:o}=function a7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function o7(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield s7(t,e,n,a,u):"config"===o?yield i7(t,e,n,r,a,u):t("set",a)}catch(c){Dt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Kr,Ek,Ik,ah,"gtag");ic=s,Tk=o,ev=!0}return Kr[r]=function w7(t,e,n,r,i,s,o){return Z_.apply(this,arguments)}(t,Ek,Ik,e,Tk,ah,n),new E7(t)}function tv(){return(tv=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function M7(){return ov.apply(this,arguments)}function ov(){return(ov=g(function*(){if(Xd()||!Cy()||!Wo())return!1;try{return yield Zd()}catch(t){return!1}})).apply(this,arguments)}const bk="@firebase/analytics";!function k7(){an(new Yt(oh,(e,{options:n})=>D7(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),an(new Yt("analytics-internal",function t(e){try{const n=e.getProvider(oh).getImmediate();return{logEvent:(r,i,s)=>function R7(t,e,n,r){t=jn(t),function T7(t,e,n,r,i){return tv.apply(this,arguments)}(ic,Kr[t.app.options.appId],e,n,r).catch(i=>Dt.error(i))}(n,r,i,s)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Oe(bk,"0.7.5"),Oe(bk,"0.7.5","esm2017")}();class N7 extends $e{constructor(e,n){super()}schedule(e,n=0){return this}}const uh={setInterval(...t){const{delegate:e}=uh;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=uh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class Sk extends N7{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return uh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;uh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,js(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Ak={now:()=>(Ak.delegate||Date).now(),delegate:void 0};class sc{constructor(e,n=sc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}sc.now=Ak.now;class xk extends sc{constructor(e,n=sc.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const F7=new class O7 extends xk{}(class P7 extends Sk{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),L7=new xk(Sk),ch=new Mu("7.2.0"),av="__angularfire_symbol__analyticsIsSupported",uv="__angularfire_symbol__remoteConfigIsSupported",cv="__angularfire_symbol__messagingIsSupported";function dv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[av]||(globalThis[av]=M7().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[cv]||(globalThis[cv]=mk().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[uv]||(globalThis[uv]=pK().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const hv=(t,e)=>{const n=e?[e]:PR(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ea(){}class Nk{constructor(e,n=F7){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class U7{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ea,{},ea,ea)),n.pipe(on({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fv=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Nk(Zone.current)),this.insideAngular=n.run(()=>new Nk(Zone.current,L7)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(xe))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function V7(t){return fs().ngZone.runOutsideAngular(()=>t())}function ps(t){return fs().ngZone.run(()=>t())}function j7(t){return fs(),function B7(t){return function(n){return(n=n.lift(new U7(t.ngZone))).pipe(hl(t.outsideAngular),dl(t.insideAngular))}}(fs())(t)}const $7=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ps(()=>t.apply(n,arguments))}},gs=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ea,{},ea,ea)))),arguments[i]=$7(arguments[i],n));const r=V7(()=>t.apply(this,arguments));if(!e){if(r instanceof De){const i=fs();return r.pipe(hl(i.outsideAngular),dl(i.insideAngular))}return ps(()=>r)}return r instanceof De?r.pipe(j7):r instanceof Promise?ps(()=>new Promise((i,s)=>r.then(o=>ps(()=>i(o)),o=>ps(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:ps(()=>r)};class ta{constructor(e){return e}}class pv{constructor(){return PR()}}const gv=new ee("angularfire2._apps"),q7={provide:ta,useFactory:function H7(t){return t&&1===t.length?t[0]:new ta(Py())},deps:[[new Ve,gv]]},G7={provide:pv,deps:[[new Ve,gv]]};function W7(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ta(r)}}let z7=(()=>{class t{constructor(n){Oe("angularfire",ch.full,"core"),Oe("angularfire",ch.full,"app"),Oe("angular",MA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(Fu))},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({providers:[q7,G7]}),t})();function K7(t,...e){return{ngModule:z7,providers:[{provide:gv,useFactory:W7(t),multi:!0,deps:[xe,ct,fv,...e]}]}}const Q7=gs(Z4,!0),Pk=new Map,Y7={activated:!1,tokenObservers:[]},J7={initialized:!1,enabled:!1};function dt(t){return Pk.get(t)||Y7}function sr(t,e){Pk.set(t,e)}function lh(){return J7}class n5{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new by,yield function r5(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new by,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Jt=new Tr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fk(t){if(!dt(t).activated)throw Jt.create("use-before-activation",{appName:t.name})}function _v(t,e){return vv.apply(this,arguments)}function vv(){return(vv=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Jt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Jt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Jt.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function u5(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const oc="firebase-app-check-store";let fh=null;function Uk(){return fh||(fh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Jt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oc,{keyPath:"compositeKey"})}}catch(n){e(Jt.create("storage-open",{originalErrorMessage:n.message}))}}),fh)}function wv(){return(wv=g(function*(t,e){const r=(yield Uk()).transaction(oc,"readwrite"),s=r.objectStore(oc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Jt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const ac=new zo("@firebase/app-check");function $k(t,e){return Wo()?function h5(t,e){return function Vk(t,e){return wv.apply(this,arguments)}(function Bk(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ac.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Hk(){return lh().enabled}function qk(){return Tv.apply(this,arguments)}function Tv(){return(Tv=g(function*(){const t=lh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _5={error:"UNKNOWN_ERROR"};function v5(t){return Dy.encodeString(JSON.stringify(t),!1)}function ph(t){return bv.apply(this,arguments)}function bv(){return(bv=g(function*(t,e=!1){const n=t.app;Fk(n);const r=dt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&gh(u)&&(i=u)}if(!e&&i&&gh(i))return{token:i.token};let a,o=!1;if(Hk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_v(u5(n,yield qk()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield $k(n,u),sr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ac.warn(u.message):ac.error(u),s=u}return i?(a={token:i.token},sr(n,Object.assign(Object.assign({},r),{token:i})),yield $k(n,i)):a=E5(s),o&&Wk(n,a),a})).apply(this,arguments)}function Sv(t,e){const n=dt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),sr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Gk(t){const{app:e}=t,n=dt(e);let r=n.tokenRefresher;r||(r=function w5(t){const{app:e}=t;return new n5(g(function*(){let r;if(r=dt(e).token?yield ph(t,!0):yield ph(t),r.error)throw r.error}),()=>!0,()=>{const n=dt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),sr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Wk(t,e){const n=dt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function gh(t){return t.expireTimeMillis-Date.now()>0}function E5(t){return{token:v5(_5),error:t}}class I5{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=dt(this.app);for(const n of e)Sv(this.app,n.next);return Promise.resolve()}}const eN="app-check-internal";!function F5(){an(new Yt("app-check",t=>function D5(t,e){return new I5(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(eN).initialize()})),an(new Yt(eN,t=>function T5(t){return{getToken:e=>ph(t,e),addTokenListener:e=>function Cv(t,e,n,r){const{app:i}=t,s=dt(i),o={next:n,error:r,type:e};if(sr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&gh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Gk(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Gk(t))}(t,"INTERNAL",e),removeTokenListener:e=>Sv(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Oe("@firebase/app-check","0.5.3")}();class Rv{constructor(){return hv("app-check")}}function Pv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}"undefined"!=typeof window&&window;const H5=function sN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},oN=new Tr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),aN=new zo("@firebase/auth");function _h(t,...e){aN.logLevel<=ae.ERROR&&aN.error(`Auth (9.6.4): ${t}`,...e)}function cn(t,...e){throw Ov(t,...e)}function Tn(t,...e){return Ov(t,...e)}function uN(t,e,n){const r=Object.assign(Object.assign({},H5()),{[e]:n});return new Tr("auth","Firebase",r).create(e,{appName:t.name})}function na(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&cn(t,"argument-error"),uN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ov(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oN.create(t,...e)}function b(t,e,...n){if(!t)throw Ov(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _h(e),new Error(e)}function Qr(t,e){t||br(e)}const cN=new Map;function Yr(t){Qr(t instanceof Function,"Expected a class definition");let e=cN.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cN.set(t,e),e)}function uc(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function lN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=SR()||AR()}get(){return function W5(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Fv(){return"http:"===lN()||"https:"===lN()}()||Xd()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lv(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class dN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Q5=new cc(3e4,6e4);function nt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ht(t,e,n,r){return Uv.apply(this,arguments)}function Uv(){return(Uv=g(function*(t,e,n,r,i={}){return hN(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=tc(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),dN.fetch()(fN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function hN(t,e,n){return Vv.apply(this,arguments)}function Vv(){return(Vv=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},K5),e);try{const i=new Y5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw vh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw vh(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uN(t,l,c);cn(t,l)}}catch(i){if(i instanceof Dr)throw i;cn(t,"network-request-failed")}})).apply(this,arguments)}function Jr(t,e,n,r){return jv.apply(this,arguments)}function jv(){return(jv=g(function*(t,e,n,r,i={}){const s=yield ht(t,e,n,r,i);return"mfaPendingCredential"in s&&cn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function fN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lv(t.config,i):`${t.config.apiScheme}://${i}`}class Y5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),Q5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tn(t,e,r);return i.customData._tokenResponse=n,i}function Bv(){return(Bv=g(function*(t,e){return ht(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Z5(t,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=g(function*(t,e){return ht(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function qv(){return(qv=g(function*(t,e=!1){const n=jn(t),r=yield n.getIdToken(e),i=wh(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lc(Gv(i.auth_time)),issuedAtTime:lc(Gv(i.iat)),expirationTime:lc(Gv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Gv(t){return 1e3*Number(t)}function wh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Dy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(_h("Failed to decode base64 JWT payload"),null)}catch(i){return _h("Caught error parsing JWT payload as JSON",i),null}}function Xr(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Dr&&nQ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function nQ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class rQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class pN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dc(t){return zv.apply(this,arguments)}function zv(){return(zv=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Xr(t,Z5(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?oQ(s.providerUserInfo):[],a=sQ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function Kv(){return(Kv=g(function*(t){const e=jn(t);yield dc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function sQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oQ(t){return t.map(e=>{var{providerId:n}=e,r=Pv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Qv(){return(Qv=g(function*(t,e){const n=yield hN(t,{},g(function*(){const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function tQ(t){const e=wh(t);return b(e,"internal-error"),b(void 0!==e.exp,"internal-error"),b(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return b(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function aQ(t,e){return Qv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hc;return r&&(b("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(b("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(b("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return br("not implemented")}}function Ci(t,e){b("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new rQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new pN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Xr(n,n.stsTokenManager.getToken(n.auth,e));return b(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function eQ(t){return qv.apply(this,arguments)}(this,e)}reload(){return function iQ(t){return Kv.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield dc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Xr(e,function J5(t,e){return Bv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:N,isAnonymous:W,providerData:ot,stsTokenManager:xn}=n;b(C&&xn,e,"internal-error");const al=hc.fromJSON(this.name,xn);b("string"==typeof C,e,"internal-error"),Ci(d,e.name),Ci(h,e.name),b("boolean"==typeof N,e,"internal-error"),b("boolean"==typeof W,e,"internal-error"),Ci(f,e.name),Ci(p,e.name),Ci(m,e.name),Ci(_,e.name),Ci(w,e.name),Ci(y,e.name);const Us=new ms({uid:C,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:al,createdAt:w,lastLoginAt:y});return ot&&Array.isArray(ot)&&(Us.providerData=ot.map(ul=>Object.assign({},ul))),_&&(Us._redirectEventId=_),Us}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new hc;i.updateFromServerResponse(n);const s=new ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dc(s),s})()}}const gN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Eh(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ms._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new ra(Yr(gN),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Yr(gN);const o=Eh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ms._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new ra(s,e,r)):new ra(s,e,r)})()}}function mN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EN(e))return"Blackberry";if(IN(e))return"Webos";if(Yv(e))return"Safari";if((e.includes("chrome/")||_N(e))&&!e.includes("edge/"))return"Chrome";if(wN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function yN(t=lt()){return/firefox\//i.test(t)}function Yv(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _N(t=lt()){return/crios\//i.test(t)}function vN(t=lt()){return/iemobile/i.test(t)}function wN(t=lt()){return/android/i.test(t)}function EN(t=lt()){return/blackberry/i.test(t)}function IN(t=lt()){return/webos/i.test(t)}function Ih(t=lt()){return/iphone|ipad|ipod/i.test(t)}function DN(t=lt()){return Ih(t)||wN(t)||IN(t)||EN(t)||/windows phone/i.test(t)||vN(t)}function TN(t,e=[]){let n;switch(t){case"Browser":n=mN(lt());break;case"Worker":n=`${mN(lt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.4/${e.length?e.join(","):"FirebaseCore-web"}`}class dQ{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bN(this),this.idTokenSubscription=new bN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ra.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(b(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield dc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function z5(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?jn(e):null;return r&&b(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&b(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Yr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Yr(e)||n._popupRedirectResolver;b(r,n,"argument-error"),n.redirectPersistenceManager=yield ra.create(n,[Yr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return b(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}function ln(t){return jn(t)}class bN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function a4(t,e){const n=new u4(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class AN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}function Zr(t,e){return cw.apply(this,arguments)}function cw(){return(cw=g(function*(t,e){return Jr(t,"POST","/v1/accounts:signInWithIdp",nt(t,e))})).apply(this,arguments)}class ia extends AN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ia(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Zr(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zr(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}class Si{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kN extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let MQ=(()=>{class t extends kN{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ia._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch(s){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Bn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ms._fromIdTokenResponse(e,r,i),o=PN(r);return new Bn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=PN(r);return new Bn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function PN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ch extends Dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ch(e,n,r,i)}}function ON(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ch._fromErrorAndOperation(t,s,e,r):s})}function _w(t,e){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(t,e,n=!1){const r=yield Xr(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Bn._forOperation(t,"link",r)})).apply(this,arguments)}function Ew(){return(Ew=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Xr(t,ON(r,i,e,t),n);b(s.idToken,r,"internal-error");const o=wh(s.idToken);b(o,r,"internal-error");const{sub:a}=o;return b(t.uid===a,r,"user-mismatch"),Bn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&cn(r,"user-mismatch"),s}})).apply(this,arguments)}function Iw(){return(Iw=g(function*(t,e,n=!1){const r="signIn",i=yield ON(t,r,e),s=yield Bn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const xh="__sak";class jN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YQ=(()=>{class t extends jN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zQ(){const t=lt();return Yv(t)||Ih(t)}()&&function lQ(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=DN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function cQ(){return xR()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),BN=(()=>{class t extends jN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let XQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function JQ(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Mh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class ZQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Mh("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function rt(){return window}function Jw(){return void 0!==rt().WorkerGlobalScope&&"function"==typeof rt().importScripts}function Xw(){return(Xw=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const $N="firebaseLocalStorageDb",Rh="firebaseLocalStorage",HN="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function Zw(){const t=indexedDB.open($N,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rh,{keyPath:HN})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),yield function s9(){const t=indexedDB.deleteDatabase($N);return new gc(t).toPromise()}(),e(yield Zw()))}))})}function qN(t,e,n){return eE.apply(this,arguments)}function eE(){return(eE=g(function*(t,e,n){const r=kh(t,!0).put({[HN]:e,value:n});return new gc(r).toPromise()})).apply(this,arguments)}function tE(){return(tE=g(function*(t,e){const n=kh(t,!1).get(e),r=yield new gc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function GN(t,e){const n=kh(t,!0).delete(e);return new gc(n).toPromise()}const c9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield Zw()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return Jw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=XQ._getInstance(function r9(){return Jw()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function t9(){return Xw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new ZQ(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function n9(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield Zw();return yield qN(n,xh,"1"),yield GN(n,xh),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>qN(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function o9(t,e){return tE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>GN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=kh(o,!1).getAll();return new gc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function zN(t){return`__${t}${Math.floor(1e6*Math.random())}`}function _s(t,e){return e?Yr(e):(b(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}zN("rcb"),new cc(3e4,6e4);class dE extends AN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C9(t){return function UN(t,e){return Iw.apply(this,arguments)}(t.auth,new dE(t),t.bypassAuthState)}function S9(t){const{auth:e,user:n}=t;return b(n,e,"internal-error"),function LN(t,e){return Ew.apply(this,arguments)}(n,new dE(t),t.bypassAuthState)}function A9(t){return hE.apply(this,arguments)}function hE(){return(hE=g(function*(t){const{auth:e,user:n}=t;return b(n,e,"internal-error"),_w(n,new dE(t),t.bypassAuthState)})).apply(this,arguments)}class QN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C9;case"linkViaPopup":case"linkViaRedirect":return A9;case"reauthViaPopup":case"reauthViaRedirect":return S9;default:cn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x9=new cc(2e3,1e4);function M9(t,e,n){return fE.apply(this,arguments)}function fE(){return(fE=g(function*(t,e,n){const r=ln(t);na(t,e,Si);const i=_s(r,n);return new mE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let mE=(()=>{class t extends QN{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return b(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Qr(1===n.filter.length,"Popup operations only handle one event");const r=Mh();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Tn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,x9.get())};n()}}return t.currentPopupAction=null,t})();const Ph=new Map;class k9 extends QN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Ph.get(n.auth._key());if(!r){try{const s=(yield function N9(t,e){return yE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ph.set(n.auth._key(),r)}return n.bypassAuthState||Ph.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function yE(){return(yE=g(function*(t,e){const n=JN(e),r=YN(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function YN(t){return Yr(t._redirectPersistence)}function JN(t){return Eh("pendingRedirect",t.config.apiKey,t.name)}function XN(t,e){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(t,e,n=!1){const r=ln(t),i=_s(r,e),o=yield new k9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class U9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function V9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t1(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!t1(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(e1(e))}saveEventToCache(e){this.cachedEventUids.add(e1(e)),this.lastProcessedEventTime=Date.now()}}function e1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function t1({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function j9(t){return CE.apply(this,arguments)}function CE(){return(CE=g(function*(t,e={}){return ht(t,"GET","/v1/projects",e)})).apply(this,arguments)}const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$9=/^https?/;function SE(){return(SE=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield j9(t);for(const n of e)try{if(q9(n))return}catch(r){}cn(t,"unauthorized-domain")})).apply(this,arguments)}function q9(t){const e=uc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!$9.test(n))return!1;if(B9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const G9=new cc(3e4,6e4);function n1(){const t=rt().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Oh=null;function z9(t){return Oh=Oh||function W9(t){return new Promise((e,n)=>{var r,i,s;function o(){n1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n1(),n(Tn(t,"network-request-failed"))},timeout:G9.get()})}if(null===(i=null===(r=rt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=rt().gapi)||void 0===s?void 0:s.load)){const a=zN("iframefcb");return rt()[a]=()=>{gapi.load?o():n(Tn(t,"network-request-failed"))},function WN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function f9(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Oh=null,e})}(t),Oh}const K9=new cc(5e3,15e3),J9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z9(t){const e=t.config;b(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lv(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Qo},i=X9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tc(r).slice(1)}`}function AE(){return AE=g(function*(t){const e=yield z9(t),n=rt().gapi;return b(n,t,"internal-error"),e.open({where:document.body,url:Z9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J9,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Tn(t,"network-request-failed"),u=rt().setTimeout(()=>{o(a)},K9.get());function c(){rt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),AE.apply(this,arguments)}const tY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class r1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function i1(t,e,n,r,i,s){b(t.config.authDomain,t,"auth-domain-config-required"),b(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qo,eventId:i};if(e instanceof Si){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function o4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof kN){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function lY({config:t}){return t.emulator?Lv(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${tc(a).slice(1)}`}const xE="webStorageSupport",hY=class dY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BN,this._completeRedirectFn=XN}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Qr(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=i1(e,n,r,uc(),i);return function oY(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},tY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=lt().toLowerCase();n&&(a=_N(c)?"_blank":n),yN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function uQ(t=lt()){var e;return Ih(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function aY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new r1(null);const d=window.open(e||"",a,l);b(d,t,"popup-blocked");try{d.focus()}catch(h){}return new r1(d)}(e,a,Mh())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function e9(t){rt().location.href=t}(i1(e,n,r,uc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function eY(t){return AE.apply(this,arguments)}(e),i=new U9(e);return r.register("authEvent",s=>(b(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xE,{type:xE},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[xE];void 0!==o&&n(!!o),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function H9(t){return SE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DN()||Yv()||Ih()}};var o1="@firebase/auth";class fY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mY(t=Py()){const e=Ko(t,"auth");return e.isInitialized()?e.getImmediate():function q5(t,e){const n=Ko(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(th(n.getOptions(),null!=e?e:{}))return i;cn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:hY,persistence:[c9,YQ,BN]})}!function gY(t){an(new Yt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{b(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),b(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TN(t)},u=new dQ(o,a);return function G5(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),an(new Yt("auth-internal",e=>{const n=ln(e.getProvider("auth").getImmediate());return new fY(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(o1,"0.19.6",function pY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Oe(o1,"0.19.6","esm2017")}("Browser");class Fh{constructor(e){return e}}class c1{constructor(){return hv("auth")}}const ME=new ee("angularfire2.auth-instances");function _Y(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fh(r)}}const vY={provide:c1,deps:[[new Ve,ME]]},wY={provide:Fh,useFactory:function yY(t,e){const n=dv("auth",t,e);return n&&new Fh(n)},deps:[[new Ve,ME],ta]};let EY=(()=>{class t{constructor(){Oe("angularfire",ch.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({providers:[wY,vY]}),t})();function IY(t,...e){return{ngModule:EY,providers:[{provide:ME,useFactory:_Y(t),multi:!0,deps:[xe,ct,fv,pv,[new Ve,Rv],...e]}]}}const DY=gs(mY,!0),TY=gs(M9,!0);let bY=(()=>{class t{constructor(n){this.auth=n,this.auth.onAuthStateChanged(r=>{r||localStorage.setItem("user","")})}login(){var n=this;return g(function*(){const r=yield TY(n.auth,new MQ);localStorage.setItem("user",JSON.stringify(r.user))})()}logout(){var n=this;return g(function*(){yield n.auth.signOut()})()}}return t.\u0275fac=function(n){return new(n||t)(F(Fh))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M,CY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ei={},RE=RE||{},B=CY||self;function Lh(){}function kE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function mc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var NE="closure_uid_"+(1e9*Math.random()>>>0),AY=0;function xY(t,e,n){return t.call.apply(t.bind,arguments)}function MY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Tt(t,e,n){return(Tt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xY:MY).apply(null,arguments)}function Uh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ai(){this.s=this.s,this.o=this.o}var kY={};Ai.prototype.s=!1,Ai.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function SY(t){return Object.prototype.hasOwnProperty.call(t,NE)&&t[NE]||(t[NE]=++AY)}(this);delete kY[t]}},Ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const l1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},d1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function h1(t){return Array.prototype.concat.apply([],arguments)}function PE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vh(t){return/^[\s\xa0]*$/.test(t)}var Zt,f1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xt(t,e){return-1!=t.indexOf(e)}function OE(t,e){return t<e?-1:t>e?1:0}e:{var p1=B.navigator;if(p1){var g1=p1.userAgent;if(g1){Zt=g1;break e}}Zt=""}function FE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function m1(t){const e={};for(const n in t)e[n]=t[n];return e}var y1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<y1.length;s++)n=y1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function LE(t){return LE[" "](t),t}LE[" "]=Lh;var jh,t,OY=Xt(Zt,"Opera"),sa=Xt(Zt,"Trident")||Xt(Zt,"MSIE"),v1=Xt(Zt,"Edge"),UE=v1||sa,w1=Xt(Zt,"Gecko")&&!(Xt(Zt.toLowerCase(),"webkit")&&!Xt(Zt,"Edge"))&&!(Xt(Zt,"Trident")||Xt(Zt,"MSIE"))&&!Xt(Zt,"Edge"),FY=Xt(Zt.toLowerCase(),"webkit")&&!Xt(Zt,"Edge");function E1(){var t=B.document;return t?t.documentMode:void 0}e:{var VE="",jE=(t=Zt,w1?/rv:([^\);]+)(\)|;)/.exec(t):v1?/Edge\/([\d\.]+)/.exec(t):sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):FY?/WebKit\/(\S+)/.exec(t):OY?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(jE&&(VE=jE?jE[1]:""),sa){var BE=E1();if(null!=BE&&BE>parseFloat(VE)){jh=String(BE);break e}}jh=VE}var LY={};var VY=B.document&&sa&&(E1()||parseInt(jh,10))||void 0,jY=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{B.addEventListener("test",Lh,e),B.removeEventListener("test",Lh,e)}catch(n){}return t}();function Ft(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function yc(t,e){if(Ft.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(w1){e:{try{LE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:BY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yc.Z.h.call(this)}}Ft.prototype.h=function(){this.defaultPrevented=!0},bt(yc,Ft);var BY={2:"touch",3:"pen",4:"mouse"};yc.prototype.h=function(){yc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),$Y=0;function HY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++$Y,this.ca=this.fa=!1}function Bh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function $h(t){this.src=t,this.g={},this.h=0}function HE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=l1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Bh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function qE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}$h.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=qE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new HY(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var GE="closure_lm_"+(1e6*Math.random()|0),WE={};function D1(t,e,n,r,i){if(r&&r.once)return b1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)D1(t,e[s],n,r,i);return null}return n=YE(n),t&&t[_c]?t.N(e,n,mc(r)?!!r.capture:!!r,i):T1(t,e,n,!1,r,i)}function T1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=mc(i)?!!i.capture:!!i,a=KE(t);if(a||(t[GE]=a=new $h(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function qY(){var e=GY;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jY||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(S1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function b1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)b1(t,e[s],n,r,i);return null}return n=YE(n),t&&t[_c]?t.O(e,n,mc(r)?!!r.capture:!!r,i):T1(t,e,n,!0,r,i)}function C1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)C1(t,e[s],n,r,i);else r=mc(r)?!!r.capture:!!r,n=YE(n),t&&t[_c]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=qE(s=t.g[e],n,r,i))&&(Bh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=KE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qE(e,n,r,i)),(n=-1<t?e[t]:null)&&zE(n))}function zE(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[_c])HE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(S1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=KE(e))?(HE(n,t),0==n.h&&(n.src=null,e[GE]=null)):Bh(t)}}}function S1(t){return t in WE?WE[t]:WE[t]="on"+t}function GY(t,e){if(t.ca)t=!0;else{e=new yc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&zE(t),t=n.call(r,e)}return t}function KE(t){return(t=t[GE])instanceof $h?t:null}var QE="__closure_events_fn_"+(1e9*Math.random()>>>0);function YE(t){return"function"==typeof t?t:(t[QE]||(t[QE]=function(e){return t.handleEvent(e)}),t[QE])}function ft(){Ai.call(this),this.i=new $h(this),this.P=this,this.I=null}function Ct(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ft(e,t);else if(e instanceof Ft)e.target=e.target||t;else{var i=e;_1(e=new Ft(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hh(o,r,!0,e)&&i}if(i=Hh(o=e.g=t,r,!0,e)&&i,i=Hh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Hh(o=e.g=n[s],r,!1,e)&&i}function Hh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&HE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}bt(ft,Ai),ft.prototype[_c]=!0,ft.prototype.removeEventListener=function(t,e,n,r){C1(this,t,e,n,r)},ft.prototype.M=function(){if(ft.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bh(n[r]);delete t.g[e],t.h--}}this.I=null},ft.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var JE=B.JSON.stringify;function WY(){var t=x1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ZE,A1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new KY,t=>t.reset());class KY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QY(t){B.setTimeout(()=>{throw t},0)}function XE(t,e){ZE||function YY(){var t=B.Promise.resolve(void 0);ZE=function(){t.then(JY)}}(),eI||(ZE(),eI=!0),x1.add(t,e)}var eI=!1,x1=new class zY{constructor(){this.h=this.g=null}add(e,n){const r=A1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function JY(){for(var t;t=WY();){try{t.h.call(t.g)}catch(n){QY(n)}var e=A1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}eI=!1}function qh(t,e){ft.call(this),this.h=t||1,this.g=e||B,this.j=Tt(this.kb,this),this.l=Date.now()}function tI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function nI(t,e,n){if("function"==typeof t)n&&(t=Tt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Tt(t.handleEvent,t)}return 2147483647<Number(e)?-1:B.setTimeout(t,e||0)}function M1(t){t.g=nI(()=>{t.g=null,t.i&&(t.i=!1,M1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}bt(qh,ft),(M=qh.prototype).da=!1,M.S=null,M.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ct(this,"tick"),this.da&&(tI(this),this.start()))}},M.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.M=function(){qh.Z.M.call(this),tI(this),delete this.g};class XY extends Ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:M1(this)}M(){super.M(),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vc(t){Ai.call(this),this.h=t,this.g={}}bt(vc,Ai);var R1=[];function k1(t,e,n,r){Array.isArray(n)||(n&&(R1[0]=n.toString()),n=R1);for(var i=0;i<n.length;i++){var s=D1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function N1(t){FE(t.g,function(e,n){this.g.hasOwnProperty(n)&&zE(e)},t),t.g={}}function Gh(){this.g=!0}function oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return JE(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}vc.prototype.M=function(){vc.Z.M.call(this),N1(this)},vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gh.prototype.Aa=function(){this.g=!1},Gh.prototype.info=function(){};var vs={},P1=null;function Wh(){return P1=P1||new ft}function O1(t){Ft.call(this,vs.Ma,t)}function wc(t){const e=Wh();Ct(e,new O1(e,t))}function F1(t,e){Ft.call(this,vs.STAT_EVENT,t),this.stat=e}function en(t){const e=Wh();Ct(e,new F1(e,t))}function L1(t,e){Ft.call(this,vs.Na,t),this.size=e}function Ec(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){t()},e)}vs.Ma="serverreachability",bt(O1,Ft),vs.STAT_EVENT="statevent",bt(F1,Ft),vs.Na="timingevent",bt(L1,Ft);var zh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},U1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rI(){}function j1(){}rI.prototype.h=null;var oI,Ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function iI(){Ft.call(this,"d")}function sI(){Ft.call(this,"c")}function Kh(){}function Dc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new vc(this),this.P=rJ,this.W=new qh(t=UE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new B1}function B1(){this.i=null,this.g="",this.h=!1}bt(iI,Ft),bt(sI,Ft),bt(Kh,rI),Kh.prototype.g=function(){return new XMLHttpRequest},Kh.prototype.i=function(){return{}},oI=new Kh;var rJ=45e3,aI={},Qh={};function uI(t,e,n){t.K=1,t.v=ef(ti(e)),t.s=n,t.U=!0,$1(t,null)}function $1(t,e){t.F=Date.now(),Tc(t),t.A=ti(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),J1(n.h,"t",r),t.C=0,n=t.l.H,t.h=new B1,t.g=wP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new XY(Tt(t.Ia,t,t.g),t.O)),k1(t.V,t.g,"readystatechange",t.gb),e=t.H?m1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),wc(1),function ZY(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function H1(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function q1(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=iJ(t,n),i==Qh){4==e&&(t.o=4,en(14),r=!1),oa(t.j,t.m,null,"[Incomplete Response]");break}if(i==aI){t.o=4,en(15),oa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}oa(t.j,t.m,i,null),cI(t,i)}H1(t)&&i!=Qh&&i!=aI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),wI(e),e.L=!0,en(11))):(oa(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),bc(t))}function iJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Qh:(n=Number(e.substring(n,r)),isNaN(n)?aI:(r+=1)+n>e.length?Qh:(e=e.substr(r,n),t.C=r+n,e))}function Tc(t){t.Y=Date.now()+t.P,G1(t,t.P)}function G1(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ec(Tt(t.eb,t),e)}function Yh(t){t.B&&(B.clearTimeout(t.B),t.B=null)}function bc(t){0==t.l.G||t.I||mP(t.l,t)}function ws(t){Yh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,tI(t.W),N1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function cI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||hI(n.i,t)))if(n.I=t.N,!t.J&&hI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ec(Tt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;af(n),sf(n)}vI(n),en(18)}if(1>=eP(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Ds(n,11)}else if((t.J||n.g==t)&&af(n),!Vh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Xt(p,"spdy")||Xt(p,"quic")||Xt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(fI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Se(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=vP(r,r.H?r.la:null,r.W),o.J){tP(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Yh(a),Tc(a)),r.g=o}else pP(r);0<n.l.length&&of(n)}else"stop"!=c[0]&&"close"!=c[0]||Ds(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ds(n,7):yI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}wc(4)}catch(c){}}function lI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kE(t)||"string"==typeof t)d1(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(kE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function sJ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(kE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function aa(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof aa)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function dI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Es(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Es(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Es(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(M=Dc.prototype).setTimeout=function(t){this.P=t},M.gb=function(t){t=t.target;const e=this.L;e&&3==ni(t)?e.l():this.Ia(t)},M.Ia=function(t){try{if(t==this.g)e:{const l=ni(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||UE||this.g&&(this.h.h||this.g.ga()||cP(this.g)))){this.I||4!=l||7==e||wc(8==e||0>=d?3:2),Yh(this);var n=this.g.ba();this.N=n;t:if(H1(this)){var r=cP(this.g);t="";var i=r.length,s=4==ni(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ws(this),bc(this);var o="";break t}this.h.i=new B.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function eJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,en(12),ws(this),bc(this);break e}oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cI(this,n)}this.U?(q1(this,l,o),UE&&this.i&&3==l&&(k1(this.V,this.W,"tick",this.fb),this.W.start())):(oa(this.j,this.m,o,null),cI(this,o)),4==l&&ws(this),this.i&&!this.I&&(4==l?mP(this.l,this):(this.i=!1,Tc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),ws(this),bc(this)}}}catch(l){}},M.fb=function(){if(this.g){var t=ni(this.g),e=this.g.ga();this.C<e.length&&(Yh(this),q1(this,t,e),this.i&&4!=t&&Tc(this))}},M.cancel=function(){this.I=!0,ws(this)},M.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function tJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wc(3),en(17)),ws(this),this.o=2,bc(this)):G1(this,this.Y-t)},(M=aa.prototype).R=function(){dI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},M.T=function(){return dI(this),this.g.concat()},M.get=function(t,e){return Es(this.h,t)?this.h[t]:e},M.set=function(t,e){Es(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},M.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var W1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Is(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Is){this.g=void 0!==e?e:t.g,Jh(this,t.j),this.s=t.s,Xh(this,t.i),Zh(this,t.m),this.l=t.l,e=t.h;var n=new Ac;n.i=e.i,e.g&&(n.g=new aa(e.g),n.h=e.h),z1(this,n),this.o=t.o}else t&&(n=String(t).match(W1))?(this.g=!!e,Jh(this,n[1]||"",!0),this.s=Cc(n[2]||""),Xh(this,n[3]||"",!0),Zh(this,n[4]),this.l=Cc(n[5]||"",!0),z1(this,n[6]||"",!0),this.o=Cc(n[7]||"")):(this.g=!!e,this.h=new Ac(null,this.g))}function ti(t){return new Is(t)}function Jh(t,e,n){t.j=n?Cc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xh(t,e,n){t.i=n?Cc(e,!0):e}function Zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function z1(t,e,n){e instanceof Ac?(t.h=e,function pJ(t,e){e&&!t.j&&(xi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Q1(this,r),J1(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Sc(e,hJ)),t.h=new Ac(e,t.g))}function Se(t,e,n){t.h.set(e,n)}function ef(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Cc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cJ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Is.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sc(e,K1,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Sc(e,K1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sc(n,"/"==n.charAt(0)?dJ:lJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sc(n,fJ)),t.join("")};var K1=/[#\/\?@]/g,lJ=/[#\?:]/g,dJ=/[#\?]/g,hJ=/[#\?@]/g,fJ=/#/g;function Ac(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xi(t){t.g||(t.g=new aa,t.h=0,t.i&&function oJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Q1(t,e){xi(t),e=ua(t,e),Es(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Es((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&dI(t)))}function Y1(t,e){return xi(t),e=ua(t,e),Es(t.g.h,e)}function J1(t,e,n){Q1(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),PE(n)),t.h+=n.length)}function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function X1(t){this.l=t||mJ,t=B.PerformanceNavigationTiming?0<(t=B.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(B.g&&B.g.Ea&&B.g.Ea()&&B.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=Ac.prototype).add=function(t,e){xi(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){xi(this),this.g.forEach(function(n,r){d1(n,function(i){t.call(e,i,r,this)},this)},this)},M.T=function(){xi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},M.R=function(t){xi(this);var e=[];if("string"==typeof t)Y1(this,t)&&(e=h1(e,this.g.get(ua(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=h1(e,t[n])}return e},M.set=function(t,e){return xi(this),this.i=null,Y1(this,t=ua(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var mJ=10;function Z1(t){return!!t.h||!!t.g&&t.g.size>=t.j}function eP(t){return t.h?1:t.g?t.g.size:0}function hI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fI(t,e){t.g?t.g.add(e):t.h=e}function tP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function nP(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return PE(t.i)}function pI(){}function yJ(){this.g=new pI}function _J(t,e,n){const r=n||"";try{lI(t,function(i,s){let o=i;mc(i)&&(o=JE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function xc(t){this.l=t.$b||null,this.j=t.ib||!1}function nf(t,e){ft.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=gI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}X1.prototype.cancel=function(){if(this.i=nP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},pI.prototype.stringify=function(t){return B.JSON.stringify(t,void 0)},pI.prototype.parse=function(t){return B.JSON.parse(t,void 0)},bt(xc,rI),xc.prototype.g=function(){return new nf(this.l,this.j)},xc.prototype.i=function(t){return function(){return t}}({}),bt(nf,ft);var gI=0;function rP(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Mc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Rc(t)}function Rc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=nf.prototype).open=function(t,e){if(this.readyState!=gI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Rc(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||B).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mc(this)),this.readyState=gI},M.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Rc(this)),this.g&&(this.readyState=3,Rc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==B.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rP(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},M.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mc(this):Rc(this),3==this.readyState&&rP(this)}},M.Ua=function(t){this.g&&(this.response=this.responseText=t,Mc(this))},M.Ta=function(t){this.g&&(this.response=t,Mc(this))},M.ha=function(){this.g&&Mc(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(nf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wJ=B.JSON.parse;function ze(t){ft.call(this),this.headers=new aa,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=iP,this.K=this.L=!1}bt(ze,ft);var iP="",EJ=/^https?$/i,IJ=["POST","PUT"];function TJ(t){return"content-type"==t.toLowerCase()}function sP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oP(t),rf(t)}function oP(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}function aP(t){if(t.h&&void 0!==RE&&(!t.C[1]||4!=ni(t)||2!=t.ba()))if(t.v&&4==ni(t))nI(t.Fa,0,t);else if(Ct(t,"readystatechange"),4==ni(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(W1)[1]||null;if(!i&&B.self&&B.self.location){var s=B.self.location.protocol;i=s.substr(0,s.length-1)}r=!EJ.test(i?i.toLowerCase():"")}n=r}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var o=2<ni(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",oP(t)}}finally{rf(t)}}}function rf(t,e){if(t.g){uP(t);const n=t.g,r=t.C[0]?Lh:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function uP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(B.clearTimeout(t.A),t.A=null)}function ni(t){return t.g?t.g.readyState:0}function cP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case iP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function bJ(t){let e="";return FE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Se(t,e,n))}function kc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lP(t){this.za=0,this.l=[],this.h=new Gh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kc("baseRetryDelayMs",5e3,t),this.$a=kc("retryDelaySeedMs",1e4,t),this.Ya=kc("forwardChannelMaxRetries",2,t),this.ra=kc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new X1(t&&t.concurrentRequestLimit),this.Ca=new yJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function yI(t){if(dP(t),3==t.G){var e=t.V++,n=ti(t.F);Se(n,"SID",t.J),Se(n,"RID",e),Se(n,"TYPE","terminate"),Nc(t,n),(e=new Dc(t,t.h,e,void 0)).K=2,e.v=ef(ti(n)),n=!1,B.navigator&&B.navigator.sendBeacon&&(n=B.navigator.sendBeacon(e.v.toString(),"")),!n&&B.Image&&((new Image).src=e.v,n=!0),n||(e.g=wP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Tc(e)}_P(t)}function sf(t){t.g&&(wI(t),t.g.cancel(),t.g=null)}function dP(t){sf(t),t.u&&(B.clearTimeout(t.u),t.u=null),af(t),t.i.cancel(),t.m&&("number"==typeof t.m&&B.clearTimeout(t.m),t.m=null)}function _I(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&of(t)}function of(t){Z1(t.i)||t.m||(t.m=!0,XE(t.Ha,t),t.C=0)}function hP(t,e){var n;n=e?e.m:t.V++;const r=ti(t.F);Se(r,"SID",t.J),Se(r,"RID",n),Se(r,"AID",t.U),Nc(t,r),t.o&&t.s&&mI(r,t.o,t.s),n=new Dc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=fP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),fI(t.i,n),uI(n,r,e)}function Nc(t,e){t.j&&lI({},function(n,r){Se(e,r,n)})}function fP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Tt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{_J(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function pP(t){t.g||t.u||(t.Y=1,XE(t.Ga,t),t.A=0)}function vI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ec(Tt(t.Ga,t),yP(t,t.A)),t.A++,0))}function wI(t){null!=t.B&&(B.clearTimeout(t.B),t.B=null)}function gP(t){t.g=new Dc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ti(t.oa);Se(e,"RID","rpc"),Se(e,"SID",t.J),Se(e,"CI",t.N?"0":"1"),Se(e,"AID",t.U),Nc(t,e),Se(e,"TYPE","xmlhttp"),t.o&&t.s&&mI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ef(ti(e)),n.s=null,n.U=!0,$1(n,t)}function af(t){null!=t.v&&(B.clearTimeout(t.v),t.v=null)}function mP(t,e){var n=null;if(t.g==e){af(t),wI(t),t.g=null;var r=2}else{if(!hI(t.i,e))return;n=e.D,tP(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ct(r=Wh(),new L1(r,n,e,i)),of(t)}else pP(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function CJ(t,e){return!(eP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ec(Tt(t.Ha,t,e),yP(t,t.C)),t.C++,0)))}(t,e)||2==r&&vI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ds(t,5);break;case 4:Ds(t,10);break;case 3:Ds(t,6);break;default:Ds(t,2)}}function yP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ds(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Tt(t.jb,t);n||(n=new Is("//www.google.com/images/cleardot.gif"),B.location&&"http"==B.location.protocol||Jh(n,"https"),ef(n)),function vJ(t,e){const n=new Gh;if(B.Image){const r=new Image;r.onload=Uh(tf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Uh(tf,n,r,"TestLoadImage: error",!1,e),r.onabort=Uh(tf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uh(tf,n,r,"TestLoadImage: timeout",!1,e),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else en(2);t.G=0,t.j&&t.j.va(e),_P(t),dP(t)}function _P(t){t.G=0,t.I=-1,t.j&&((0!=nP(t.i).length||0!=t.l.length)&&(t.i.i.length=0,PE(t.l),t.l.length=0),t.j.ua())}function vP(t,e,n){let r=function aJ(t){return t instanceof Is?ti(t):new Is(t,void 0)}(n);if(""!=r.i)e&&Xh(r,e+"."+r.i),Zh(r,r.m);else{const i=B.location;r=function uJ(t,e,n,r){var i=new Is(null,void 0);return t&&Jh(i,t),e&&Xh(i,e),n&&Zh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&FE(t.aa,function(i,s){Se(r,s,i)}),n=t.sa,(e=t.D)&&n&&Se(r,e,n),Se(r,"VER",t.ma),Nc(t,r),r}function wP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ze(n&&t.Ba&&!t.qa?new xc({ib:!0}):t.qa)).L=t.H,e}function EP(){}function uf(){if(sa&&!(10<=Number(VY)))throw Error("Environmental error: no available transport.")}function bn(t,e){ft.call(this),this.g=new lP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ca(this)}function IP(t){iI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function DP(){sI.call(this),this.status=1}function ca(t){this.g=t}(M=ze.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oI.g(),this.C=function V1(t){return t.h||(t.h=t.i())}(this.u?this.u:oI),this.g.onreadystatechange=Tt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void sP(this,s)}t=n||"";const i=new aa(this.headers);r&&lI(r,function(s,o){i.set(o,s)}),r=function NY(t){e:{var e=TJ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=B.FormData&&t instanceof B.FormData,!(0<=l1(IJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uP(this),0<this.B&&((this.K=function DJ(t){return sa&&function UY(){return function PY(t){var e=LY;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=f1(String(jh)).split("."),n=f1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=OE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||OE(0==i[2].length,0==s[2].length)||OE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.pa,this)):this.A=nI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){sP(this,s)}},M.pa=function(){void 0!==RE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),rf(this))},M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rf(this,!0)),ze.Z.M.call(this)},M.Fa=function(){this.s||(this.F||this.v||this.l?aP(this):this.cb())},M.cb=function(){aP(this)},M.ba=function(){try{return 2<ni(this)?this.g.status:-1}catch(t){return-1}},M.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},M.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wJ(e)}},M.Da=function(){return this.m},M.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=lP.prototype).ma=8,M.G=1,M.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},M.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Dc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=m1(s),_1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fP(this,i,e),Se(n=ti(this.F),"RID",t),Se(n,"CVER",22),this.D&&Se(n,"X-HTTP-Session-Id",this.D),Nc(this,n),this.o&&s&&mI(n,this.o,s),fI(this.i,i),this.Ra&&Se(n,"TYPE","init"),this.ja?(Se(n,"$req",e),Se(n,"SID","null"),i.$=!0,uI(i,n,null)):uI(i,n,e),this.G=2}}else 3==this.G&&(t?hP(this,t):0==this.l.length||Z1(this.i)||hP(this))},M.Ga=function(){if(this.u=null,gP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ec(Tt(this.bb,this),t)}},M.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,en(10),sf(this),gP(this))},M.ab=function(){null!=this.v&&(this.v=null,sf(this),vI(this),en(19))},M.jb=function(t){t?(this.h.info("Successfully pinged google.com"),en(2)):(this.h.info("Failed to ping google.com"),en(1))},(M=EP.prototype).xa=function(){},M.wa=function(){},M.va=function(){},M.ua=function(){},M.Oa=function(){},uf.prototype.g=function(t,e){return new bn(t,e)},bt(bn,ft),bn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),XE(Tt(t.hb,t,e))),en(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=vP(t,null,t.W),of(t)},bn.prototype.close=function(){yI(this.g)},bn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,_I(this.g,e)}else this.v?((e={}).__data__=JE(t),_I(this.g,e)):_I(this.g,t)},bn.prototype.M=function(){this.g.j=null,delete this.j,yI(this.g),delete this.g,bn.Z.M.call(this)},bt(IP,iI),bt(DP,sI),bt(ca,EP),ca.prototype.xa=function(){Ct(this.g,"a")},ca.prototype.wa=function(t){Ct(this.g,new IP(t))},ca.prototype.va=function(t){Ct(this.g,new DP(t))},ca.prototype.ua=function(){Ct(this.g,"b")},uf.prototype.createWebChannel=uf.prototype.g,bn.prototype.send=bn.prototype.u,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,zh.NO_ERROR=0,zh.TIMEOUT=8,zh.HTTP_ERROR=6,U1.COMPLETE="complete",j1.EventType=Ic,Ic.OPEN="a",Ic.CLOSE="b",Ic.ERROR="c",Ic.MESSAGE="d",ft.prototype.listen=ft.prototype.N,ze.prototype.listenOnce=ze.prototype.O,ze.prototype.getLastError=ze.prototype.La,ze.prototype.getLastErrorCode=ze.prototype.Da,ze.prototype.getStatus=ze.prototype.ba,ze.prototype.getResponseJson=ze.prototype.Qa,ze.prototype.getResponseText=ze.prototype.ga,ze.prototype.send=ze.prototype.ea;var SJ=ei.createWebChannelTransport=function(){return new uf},AJ=ei.getStatEventTarget=function(){return Wh()},EI=ei.ErrorCode=zh,xJ=ei.EventType=U1,MJ=ei.Event=vs,TP=ei.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},RJ=ei.FetchXmlHttpFactory=xc,cf=ei.WebChannel=j1,kJ=ei.XhrIo=ze;const bP="@firebase/firestore";class St{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");let la="9.6.3";const Mi=new zo("@firebase/firestore");function II(){return Mi.logLevel}function T(t,...e){if(Mi.logLevel<=ae.DEBUG){const n=e.map(DI);Mi.debug(`Firestore (${la}): ${t}`,...n)}}function Ke(t,...e){if(Mi.logLevel<=ae.ERROR){const n=e.map(DI);Mi.error(`Firestore (${la}): ${t}`,...n)}}function lf(t,...e){if(Mi.logLevel<=ae.WARN){const n=e.map(DI);Mi.warn(`Firestore (${la}): ${t}`,...n)}}function DI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: `+t;throw Ke(e),new Error(e)}function V(t,e){t||O()}function S(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class CP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class OJ{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new CP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new St(e)}}class FJ{constructor(e,n,r){this.type="FirstParty",this.user=St.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class LJ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new FJ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),new SP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Cn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function VJ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Cn.I=-1;class AP{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new At(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function MP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pc{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Pc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Pc{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const jJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends Pc{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return jJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}class ha{constructor(e){this.fields=e,e.sort(Lt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new it(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const BJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(V(!!t),"string"==typeof t){let e=0;const n=BJ.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fa(t){return"string"==typeof t?it.fromBase64String(t):it.fromUint8Array(t)}function TI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kP(t){const e=t.mapValue.fields.__previous_value__;return TI(e)?kP(e):e}function Oc(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}function bs(t){return null==t}function df(t){return 0===t&&1/t==-1/0}class k{constructor(e){this.path=e}static fromPath(e){return new k(he.fromString(e))}static fromName(e){return new k(he.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new he(e.slice()))}}function Cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TI(t)?4:10:O()}function Cr(t,e){if(t===e)return!0;const n=Cs(t);if(n!==Cs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ri(r.timestampValue),o=Ri(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,fa(t.bytesValue).isEqual(fa(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Qe(r.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qe(r.integerValue)===Qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Qe(r.doubleValue),o=Qe(i.doubleValue);return s===o?df(s)===df(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(MP(s)!==MP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Cr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function Fc(t,e){return void 0!==(t.values||[]).find(n=>Cr(n,e))}function pa(t,e){if(t===e)return 0;const n=Cs(t),r=Cs(e);if(n!==r)return se(n,r);switch(n){case 0:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Qe(i.integerValue||i.doubleValue),a=Qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return PP(t.timestampValue,e.timestampValue);case 4:return PP(Oc(t),Oc(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(i,s){const o=fa(i),a=fa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=se(o[u],a[u]);if(0!==c)return c}return se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=se(Qe(i.latitude),Qe(s.latitude));return 0!==o?o:se(Qe(i.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=pa(o[u],a[u]);if(c)return c}return se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=se(a[l],c[l]);if(0!==d)return d;const h=pa(o[a[l]],u[c[l]]);if(0!==h)return h}return se(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function PP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return se(t,e);const n=Ri(t),r=Ri(e),i=se(n.seconds,r.seconds);return 0!==i?i:se(n.nanos,r.nanos)}function bI(t){return CI(t)}function CI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ri(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fa(t.bytesValue).toBase64():"referenceValue"in t?k.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=CI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${CI(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function SI(t){return!!t&&"integerValue"in t}function AI(t){return!!t&&"arrayValue"in t}function OP(t){return!!t&&"nullValue"in t}function FP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Lc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ut(Lc(this.value))}}function LP(t){const e=[];return Ts(t.fields,(n,r)=>{const i=new Lt([n]);if(ff(r)){const s=LP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ha(e)}class Ae{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ae(e,0,q.min(),Ut.empty(),0)}static newFoundDocument(e,n,r){return new Ae(e,1,n,r,0)}static newNoDocument(e,n){return new Ae(e,2,n,Ut.empty(),0)}static newUnknownDocument(e,n){return new Ae(e,3,n,Ut.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ae(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $J{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function UP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $J(t,e,n,r,i,s,o)}function Uc(t){const e=S(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function qJ(t){return t.field.canonicalString()+t.op.toString()+bI(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bs(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=mf(e.startAt)),e.endAt&&(n+="|ub:",n+=mf(e.endAt)),e.R=n}return e.R}function pf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!XJ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Cr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BP(t.startAt,e.startAt)&&BP(t.endAt,e.endAt)}function gf(t){return k.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class tn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new GJ(e,n,r):"array-contains"===n?new KJ(e,r):"in"===n?new QJ(e,r):"not-in"===n?new YJ(e,r):"array-contains-any"===n?new JJ(e,r):new tn(e,n,r)}static P(e,n,r){return"in"===n?new WJ(e,r):new zJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(pa(n,this.value)):null!==n&&Cs(this.value)===Cs(n)&&this.v(pa(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GJ extends tn{constructor(e,n,r){super(e,n,r),this.key=k.fromName(r.referenceValue)}matches(e){const n=k.comparator(e.key,this.key);return this.v(n)}}class WJ extends tn{constructor(e,n){super(e,"in",n),this.keys=VP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zJ extends tn{constructor(e,n){super(e,"not-in",n),this.keys=VP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>k.fromName(r.referenceValue))}class KJ extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return AI(n)&&Fc(n.arrayValue,this.value)}}class QJ extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fc(this.value.arrayValue,n)}}class YJ extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Fc(this.value.arrayValue,n)}}class JJ extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!AI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}}class Vc{constructor(e,n){this.position=e,this.before=n}}function mf(t){return`${t.before?"b":"a"}:${t.position.map(e=>bI(e)).join(",")}`}class ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function XJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function jP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),n.key):pa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function BP(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}class ri{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function ma(t){return new ri(t)}function yf(t){return!bs(t.limit)&&"F"===t.limitType}function _f(t){return!bs(t.limit)&&"L"===t.limitType}function ya(t){const e=S(t);if(null===e.S){e.S=[];const n=function MI(t){for(const e of t.filters)if(e.V())return e.field;return null}(e),r=function xI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new ga(n)),e.S.push(new ga(Lt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new ga(Lt.keyField(),s))}}}return e.S}function $n(t){const e=S(t);if(!e.D)if("F"===e.limitType)e.D=UP(e.path,e.collectionGroup,ya(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ya(e))n.push(new ga(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Vc(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Vc(e.startAt.position,!e.startAt.before):null;e.D=UP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function jc(t,e){return pf($n(t),$n(e))&&t.limitType===e.limitType}function qP(t){return`${Uc($n(t))}|lt:${t.limitType}`}function kI(t){return`Query(target=${function HJ(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${bI(r.value)}`;var r}).join(", ")}]`),bs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+mf(t.startAt)),t.endAt&&(e+=", endAt: "+mf(t.endAt)),`Target(${e})`}($n(t))}; limitType=${t.limitType})`}function Bc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):k.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!jP(n.startAt,ya(n),r)||n.endAt&&jP(n.endAt,ya(n),r)));var n,r}function GP(t){return(e,n)=>{let r=!1;for(const i of ya(t)){const s=ZJ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ZJ(t,e,n){const r=t.field.isKeyField()?k.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?pa(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}function WP(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function zP(t){return{integerValue:""+t}}function KP(t,e){return function NP(t){return"number"==typeof t&&Number.isInteger(t)&&!df(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?zP(e):WP(t,e)}class vf{constructor(){this._=void 0}}function eX(t,e,n){return t instanceof _a?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ss?YP(t,e):t instanceof As?JP(t,e):function(r,i){const s=QP(r,i),o=XP(s)+XP(r.N);return SI(s)&&SI(r.N)?zP(o):WP(r.k,o)}(t,e)}function tX(t,e,n){return t instanceof Ss?YP(t,e):t instanceof As?JP(t,e):n}function QP(t,e){return t instanceof va?SI(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class _a extends vf{}class Ss extends vf{constructor(e){super(),this.elements=e}}function YP(t,e){const n=ZP(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class As extends vf{constructor(e){super(),this.elements=e}}function JP(t,e){let n=ZP(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class va extends vf{constructor(e,n){super(),this.k=e,this.N=n}}function XP(t){return Qe(t.integerValue||t.doubleValue)}function ZP(t){return AI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class rX{constructor(e,n){this.version=e,this.transformResults=n}}class Ye{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ye}static exists(e){return new Ye(void 0,e)}static updateTime(e){return new Ye(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ef{}function iX(t,e,n){t instanceof Hc?function(r,i,s){const o=r.value.clone(),a=rO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(r,i,s){if(!wf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=rO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(nO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function NI(t,e,n){var i;t instanceof Hc?function(r,i,s){if(!wf(r.precondition,i))return;const o=r.value.clone(),a=iO(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(tO(i),o).setHasLocalMutations()}(t,e,n):t instanceof ki?function(r,i,s){if(!wf(r.precondition,i))return;const o=iO(r.fieldTransforms,s,i),a=i.data;a.setAll(nO(r)),a.setAll(o),i.convertToFoundDocument(tO(i),a).setHasLocalMutations()}(t,e,n):wf(t.precondition,i=e)&&i.convertToNoDocument(q.min())}function sX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QP(r.transform,i||null);null!=s&&(null==n&&(n=Ut.empty()),n.set(r.field,s))}return n||null}function eO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&da(n,r,(i,s)=>function nX(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ss&&r instanceof Ss||n instanceof As&&r instanceof As?da(n.elements,r.elements,Cr):n instanceof va&&r instanceof va?Cr(n.N,r.N):n instanceof _a&&r instanceof _a);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function tO(t){return t.isFoundDocument()?t.version:q.min()}class Hc extends Ef{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ki extends Ef{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function nO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rO(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tX(o,a,n[i]))}return r}function iO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eX(s,o,e))}return r}class qc extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class PI extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class oX{constructor(e){this.count=e}}var Je,ue;function sO(t){switch(t){default:return O();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function oO(t){if(void 0===t)return Ke("GRPC error has no .code"),v.UNKNOWN;switch(t){case Je.OK:return v.OK;case Je.CANCELLED:return v.CANCELLED;case Je.UNKNOWN:return v.UNKNOWN;case Je.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Je.INTERNAL:return v.INTERNAL;case Je.UNAVAILABLE:return v.UNAVAILABLE;case Je.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Je.NOT_FOUND:return v.NOT_FOUND;case Je.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Je.ABORTED:return v.ABORTED;case Je.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Je.DATA_LOSS:return v.DATA_LOSS;default:return O()}}(ue=Je||(Je={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";class st{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new If(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new If(this.root,e,this.comparator,!1)}getReverseIterator(){return new If(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new If(this.root,e,this.comparator,!0)}}class If{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:xt.RED,this.left=null!=i?i:xt.EMPTY,this.right=null!=s?s:xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1,xt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aO(this.data.getIterator())}getIteratorFrom(e){return new aO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class aO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const aX=new st(k.comparator);function Hn(){return aX}const uX=new st(k.comparator);function OI(){return uX}const cX=new st(k.comparator);const lX=new Fe(k.comparator);function ge(...t){let e=lX;for(const n of t)e=e.add(n);return e}const dX=new Fe(se);function Df(){return dX}class Gc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,n)),new Gc(q.min(),r,Df(),Hn(),ge())}}class Wc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Wc(it.EMPTY_BYTE_STRING,n,ge(),ge(),ge())}}class Tf{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.O=i}}class cO{constructor(e,n){this.targetId=e,this.M=n}}class lO{constructor(e,n,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dO{constructor(){this.F=0,this.L=fO(),this.B=it.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=ge(),n=ge(),r=ge();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Wc(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=fO()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class hX{constructor(e){this.et=e,this.nt=new Map,this.st=Hn(),this.it=hO(),this.rt=new Fe(se)}ot(e){for(const n of e.$)e.O&&e.O.isFoundDocument()?this.ct(n,e.O):this.at(n,e.key,e.O);for(const n of e.removedTargetIds)this.at(n,e.key,e.O)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.M.count,i=this.wt(n);if(i){const s=i.target;if(gf(s))if(0===r){const o=new k(s.path);this.at(n,o,Ae.newNoDocument(o,q.min()))}else V(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&gf(a.target)){const u=new k(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.at(o,u,Ae.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=ge();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new Gc(e,n,this.rt,this.st,r);return this.st=Hn(),this.it=hO(),this.rt=new Fe(se),i}ct(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}at(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new dO,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new Fe(se),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new dO),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function hO(){return new st(k.comparator)}function fO(){return new st(k.comparator)}const fX={asc:"ASCENDING",desc:"DESCENDING"},pX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gX{constructor(e,n){this.databaseId=e,this.C=n}}function zc(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pO(t,e){return t.C?e.toBase64():e.toUint8Array()}function mX(t,e){return zc(t,e.toTimestamp())}function gt(t){return V(!!t),q.fromTimestamp(function(e){const n=Ri(e);return new At(n.seconds,n.nanos)}(t))}function FI(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function gO(t){const e=he.fromString(t);return V(SO(e)),e}function Kc(t,e){return FI(t.databaseId,e.path)}function Sr(t,e){const n=gO(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(yO(n))}function LI(t,e){return FI(t.databaseId,e)}function Qc(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yO(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function _O(t,e,n){return{name:Kc(t,e),fields:n.value.mapValue.fields}}function EO(t,e){return{documents:[LI(t,e.path)]}}function IO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=LI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=LI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(FP(l.value))return{unaryFilter:{field:wa(l.field),op:"IS_NAN"}};if(OP(l.value))return{unaryFilter:{field:wa(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(FP(l.value))return{unaryFilter:{field:wa(l.field),op:"IS_NOT_NAN"}};if(OP(l.value))return{unaryFilter:{field:wa(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(l.field),op:IX(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:wa((c=u).field),direction:EX(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||bs(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=bO(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bO(e.endAt)),n}function DO(t){let e=function mO(t){const e=gO(t);return 4===e.length?he.emptyPath():yO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=TO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ga(Ea((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,bs(d)?null:d}(n.limit));let u=null;n.startAt&&(u=CO(n.startAt));let c=null;return n.endAt&&(c=CO(n.endAt)),function $P(t,e,n,r,i,s,o,a){return new ri(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function TO(t){return t?void 0!==t.unaryFilter?[TX(t)]:void 0!==t.fieldFilter?[DX(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>TO(e)).reduce((e,n)=>e.concat(n)):O():[]}function bO(t){return{before:t.before,values:t.position}}function CO(t){return new Vc(t.values||[],!!t.before)}function EX(t){return fX[t]}function IX(t){return pX[t]}function wa(t){return{fieldPath:t.canonicalString()}}function Ea(t){return Lt.fromServerFormat(t.fieldPath)}function DX(t){return tn.create(Ea(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(t.fieldFilter.op),t.fieldFilter.value)}function TX(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ea(t.unaryFilter.field);return tn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ea(t.unaryFilter.field);return tn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ea(t.unaryFilter.field);return tn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ea(t.unaryFilter.field);return tn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return O()}}function bX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function or(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AO(e)),e=CX(t.get(n),e);return AO(e)}function CX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function AO(t){return t+"\x01\x01"}class Sn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}Sn.store="owner",Sn.key="owner";class Ni{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}Ni.store="mutationQueues",Ni.keyPath="userId";class be{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}be.store="mutations",be.keyPath="batchId",be.userMutationsIndex="userMutationsIndex",be.userMutationsKeyPath=["userId","batchId"];class Vt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,or(n)]}static key(e,n,r){return[e,or(n),r]}}Vt.store="documentMutations",Vt.PLACEHOLDER=new Vt;class Le{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Le.store="remoteDocuments",Le.readTimeIndex="readTimeIndex",Le.readTimeIndexPath="readTime",Le.collectionReadTimeIndex="collectionReadTimeIndex",Le.collectionReadTimeIndexPath=["parentPath","readTime"];class Ar{constructor(e){this.byteSize=e}}Ar.store="remoteDocumentGlobal",Ar.key="remoteDocumentGlobalKey";class dn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}dn.store="targets",dn.keyPath="targetId",dn.queryTargetsIndexName="queryTargetsIndex",dn.queryTargetsKeyPath=["canonicalId","targetId"];class Mt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Mt.store="targetDocuments",Mt.keyPath=["targetId","path"],Mt.documentTargetsIndex="documentTargetsIndex",Mt.documentTargetsKeyPath=["path","targetId"];class An{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}An.key="targetGlobalKey",An.store="targetGlobal";class xs{constructor(e,n){this.collectionId=e,this.parent=n}}xs.store="collectionParents",xs.keyPath=["collectionId","parent"];class si{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}si.store="clientMetadata",si.keyPath="clientId";class Ia{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ia.store="bundles",Ia.keyPath="bundleId";class Da{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Da.store="namedQueries",Da.keyPath="name";const xO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(i=>i?E.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Ms(t){return"IndexedDbTransactionError"===t.name}class VI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iX(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&NI(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&NI(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(q.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>eO(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>eO(n,r))}}class jI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=function uO(){return cX}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jI(e,n,r,i)}}class Pi{constructor(e,n,r,i,s=q.min(),o=q.min(),a=it.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kO{constructor(e){this.Gt=e}}function HI(t){const e=DO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function HP(t,e,n){return new ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class OX{constructor(){this.zt=new qI}addToCollectionParentIndex(e,n){return this.zt.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.zt.getEntries(n))}}class qI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(he.comparator)).toArray()}}class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ks{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ks(0)}static re(){return new ks(-1)}}function Ns(t){return WI.apply(this,arguments)}function WI(){return WI=g(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==xO)throw t;T("LocalStore","Unexpectedly lost primary lease")}),WI.apply(this,arguments)}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RP(this.inner)}}class zO{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.bn(e,n,r))}bn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Pn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Pn(n,r))}getDocumentsMatchingQuery(e,n,r){return k.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):function RI(t){return null!==t.collectionGroup}(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new k(n)).next(r=>{let i=OI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=OI();return this.Jt.getCollectionParents(e,i).next(o=>E.forEach(o,a=>{const u=(c=n,l=a.child(i),new ri(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Ae.newInvalidDocument(l),i=i.insert(l,d)),NI(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{Bc(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=ge();for(const o of n)for(const a of o.mutations)a instanceof ki&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class YI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new YI(e,n.fromCache,r,i)}}class KO{On(e){this.Mn=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(q.min())?this.Fn(e,n):this.Mn.vn(e,i).next(s=>{const o=this.Ln(n,s);return(yf(n)||_f(n))&&this.Bn(n.limitType,o,i,r)?this.Fn(e,n):(II()<=ae.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kI(n)),this.Mn.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new Fe(GP(e));return n.forEach((i,s)=>{Bc(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return II()<=ae.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",kI(n)),this.Mn.getDocumentsMatchingQuery(e,n,q.min())}}class zX{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new st(se),this.Kn=new xa(s=>Uc(s),pf),this.jn=q.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new zO(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function YO(t,e){return JI.apply(this,arguments)}function JI(){return JI=g(function*(t,e){const n=S(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new zO(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=ge();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.An=r,n.Wn=i,n.Un.On(n.Wn),s}),JI.apply(this,arguments)}function KX(t,e){const n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=E.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);V(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.An.performConsistencyCheck(r)).next(()=>n.Wn.vn(r,i))})}function JO(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function QX(t,e){const n=S(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.He.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(it.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,h))});let u=Hn();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function XO(t,e,n,r,i){let s=ge();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=Hn();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):T("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(q.min())){const c=n.He.getLastRemoteSnapshotVersion(s).next(l=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function YX(t,e){const n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(r,e)))}function Ma(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new Pi(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function Ra(t,e,n){return XI.apply(this,arguments)}function XI(){return XI=g(function*(t,e,n){const r=S(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ms(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),XI.apply(this,arguments)}function Rf(t,e,n){const r=S(t);let i=q.min(),s=ge();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.Kn.get(c);return void 0!==d?E.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:ge())).next(a=>({documents:a,zn:s})))}class eZ{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return E.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:gt(r.createTime)}),E.resolve()}getNamedQuery(e,n){return E.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:HI(r.bundledQuery),readTime:gt(r.readTime)}),E.resolve();var r}}class nD{constructor(){this.ts=new Fe(mt.es),this.ns=new Fe(mt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new mt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new mt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new k(new he([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new k(new he([])),r=new mt(n,e),i=new mt(n,e+1);let s=ge();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return k.comparator(e.key,n.key)||se(e.fs,n.fs)}static ss(e,n){return se(e.fs,n.fs)||k.comparator(e.key,n.key)}}class tZ{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Fe(mt.es)}checkEmpty(e){return E.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new VI(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new mt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return E.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return E.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(se);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),E.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new mt(new k(s),0);let a=new Fe(se);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),E.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return E.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new mt(n,0),i=this.ws.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class nZ{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new st(k.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():Ae.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ae.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=Hn();const s=new k(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||Bc(n,u)&&(i=i.insert(u.key,u.mutableCopy()))}return E.resolve(i)}Es(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rZ(this)}getSize(e){return E.resolve(this.size)}}class rZ extends class $X{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:q.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Ae.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class iZ{constructor(e){this.persistence=e,this.Is=new xa(n=>Uc(n),pf),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.As=0,this.Rs=new nD,this.targetCount=0,this.bs=ks.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),E.resolve()}ae(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new ks(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ae(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.ae(n),E.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Rs.containsKey(n))}}class sZ{constructor(e,n){this.Ps={},this.Be=new Cn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new iZ(this),this.Jt=new OX,this.Je=new nZ(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new kO(n),this.Ye=new eZ(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.Ps[e.toKey()];return n||(n=new tZ(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new oZ(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return E.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class oZ extends class RX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class rD{constructor(e){this.persistence=e,this.Cs=new nD,this.Ns=null}static ks(e){return new rD(e)}get xs(){if(this.Ns)return this.Ns;throw O()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),E.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.xs,r=>{const i=k.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return E.or([()=>E.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class oD{constructor(){this.activeTargetIds=Df()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rF{constructor(){this.pi=new oD,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new oD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class aZ{Ei(e){}shutdown(){}}class iF{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cZ{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class lZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw lf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+la,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Fi}/v1/${n}:${uZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new kJ;a.listenOnce(xJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case EI.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case EI.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case EI.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SJ(),o=AJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new RJ({})),this.qi(a.initMessageHeaders,n,r),SR()||AR()||function t4(){return lt().indexOf("Electron/")>=0}()||xR()||function n4(){return lt().indexOf("MSAppHost/")>=0}()||Xd()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new cZ({Vi:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,m,_)=>{p.listen(m,w=>{try{_(w)}catch(y){setTimeout(()=>{throw y},0)}})};return f(c,cf.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,cf.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.Oi())}),f(c,cf.EventType.ERROR,p=>{d||(d=!0,lf("Connection","WebChannel transport errored:",p),h.Oi(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,cf.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];V(!!_);const w=_,y=w.error||(null===(m=w[0])||void 0===m?void 0:m.error);if(y){T("Connection","WebChannel received error:",y);const C=y.status;let N=function(ot){const xn=Je[ot];if(void 0!==xn)return oO(xn)}(C),W=y.message;void 0===N&&(N=v.INTERNAL,W="Unknown error status: "+C+" with message "+y.message),d=!0,h.Oi(new D(N,W)),c.close()}else T("Connection","WebChannel received:",_),h.Mi(_)}}),f(o,MJ.STAT_EVENT,p=>{p.stat===TP.PROXY?T("Connection","Detected buffering proxy"):p.stat===TP.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Pf(){return"undefined"!=typeof document?document:null}function el(t){return new gX(t,!0)}class uD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Me=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class oF{constructor(e,n,r,i,s,o,a,u){this.Me=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new uD(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return g(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return g(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,n){var r=this;return g(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Ke(n.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(g(function*(){e.state=0,e.start()}))}Ar(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Me.enqueueAndForget(()=>this.rr===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dZ extends oF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function _X(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(V(void 0===c||"string"==typeof c),it.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),it.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:oO(u.code);return new D(c,u.message||"")}(o);n=new lO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sr(t,r.document.name),s=gt(r.document.updateTime),o=new Ut({mapValue:{fields:r.document.fields}}),a=Ae.newFoundDocument(i,s,o);n=new Tf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Sr(t,r.document),s=r.readTime?gt(r.readTime):q.min(),o=Ae.newNoDocument(i,s);n=new Tf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Sr(t,r.document);n=new Tf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,s=new oX(r.count||0);n=new cO(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?gt(s.readTime):q.min()}(e);return this.listener.br(n,r)}Pr(e){const n={};n.database=Qc(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=gf(a)?{documents:EO(i,a)}:{query:IO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=pO(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=zc(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function wX(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=Qc(this.k),n.removeTarget=e,this.gr(n)}}class hZ extends oF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,n){return this.ir.Qi("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const n=function vX(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let s=gt(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=gt(i)),new rX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.Cr(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Qc(this.k),this.gr(e)}Dr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function bf(t,e){let n;if(e instanceof Hc)n={update:_O(t,e.key,e.value)};else if(e instanceof qc)n={delete:Kc(t,e.key)};else if(e instanceof ki)n={update:_O(t,e.key,e.data),updateMask:bX(e.fieldMask)};else{if(!(e instanceof PI))return O();n={verify:Kc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof _a)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof va)return{fieldPath:s.field.canonicalString(),increment:o.N};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:mX(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.k,r))};this.gr(n)}}class fZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}ji(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class pZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Ke(n),this.Lr=!1):T("OnlineStateTracker",n)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class gZ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(g(function*(){var u;Ui(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=S(c);l.Gr.add(4),yield ka(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield tl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new pZ(r,i)}}function tl(t){return cD.apply(this,arguments)}function cD(){return cD=g(function*(t){if(Ui(t))for(const e of t.zr)yield e(!0)}),cD.apply(this,arguments)}function ka(t){return lD.apply(this,arguments)}function lD(){return lD=g(function*(t){for(const e of t.zr)yield e(!1)}),lD.apply(this,arguments)}function Of(t,e){const n=S(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),fD(n)?hD(n):Pa(n).lr()&&dD(n,e))}function nl(t,e){const n=S(t),r=Pa(n);n.Wr.delete(e),r.lr()&&aF(n,e),0===n.Wr.size&&(r.lr()?r._r():Ui(n)&&n.Jr.set("Unknown"))}function dD(t,e){t.Yr.X(e.targetId),Pa(t).Pr(e)}function aF(t,e){t.Yr.X(e),Pa(t).vr(e)}function hD(t){t.Yr=new hX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Pa(t).start(),t.Jr.Br()}function fD(t){return Ui(t)&&!Pa(t).hr()&&t.Wr.size>0}function Ui(t){return 0===S(t).Gr.size}function uF(t){t.Yr=void 0}function mZ(t){return pD.apply(this,arguments)}function pD(){return pD=g(function*(t){t.Wr.forEach((e,n)=>{dD(t,e)})}),pD.apply(this,arguments)}function yZ(t,e){return gD.apply(this,arguments)}function gD(){return gD=g(function*(t,e){uF(t),fD(t)?(t.Jr.Kr(e),hD(t)):t.Jr.set("Unknown")}),gD.apply(this,arguments)}function _Z(t,e,n){return mD.apply(this,arguments)}function mD(){return mD=g(function*(t,e,n){if(t.Jr.set("Online"),e instanceof lO&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ff(t,r)}else if(e instanceof Tf?t.Yr.ot(e):e instanceof cO?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(q.min()))try{const r=yield JO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(it.EMPTY_BYTE_STRING,u.snapshotVersion)),aF(i,a);const c=new Pi(u.target,a,1,u.sequenceNumber);dD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Ff(t,r)}var r}),mD.apply(this,arguments)}function Ff(t,e,n){return yD.apply(this,arguments)}function yD(){return yD=g(function*(t,e,n){if(!Ms(e))throw e;t.Gr.add(1),yield ka(t),t.Jr.set("Offline"),n||(n=()=>JO(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield tl(t)}))}),yD.apply(this,arguments)}function cF(t,e){return e().catch(n=>Ff(t,n,e))}function Na(t){return _D.apply(this,arguments)}function _D(){return _D=g(function*(t){const e=S(t),n=Vi(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;vZ(e);)try{const i=yield YX(e.localStore,r);if(null===i){0===e.Qr.length&&n._r();break}r=i.batchId,wZ(e,i)}catch(i){yield Ff(e,i)}lF(e)&&dF(e)}),_D.apply(this,arguments)}function vZ(t){return Ui(t)&&t.Qr.length<10}function wZ(t,e){t.Qr.push(e);const n=Vi(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function lF(t){return Ui(t)&&!Vi(t).hr()&&t.Qr.length>0}function dF(t){Vi(t).start()}function EZ(t){return vD.apply(this,arguments)}function vD(){return vD=g(function*(t){Vi(t).kr()}),vD.apply(this,arguments)}function IZ(t){return wD.apply(this,arguments)}function wD(){return wD=g(function*(t){const e=Vi(t);for(const n of t.Qr)e.Dr(n.mutations)}),wD.apply(this,arguments)}function DZ(t,e,n){return ED.apply(this,arguments)}function ED(){return ED=g(function*(t,e,n){const r=t.Qr.shift(),i=jI.from(r,e,n);yield cF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Na(t)}),ED.apply(this,arguments)}function TZ(t,e){return ID.apply(this,arguments)}function ID(){return ID=g(function*(t,e){var n;e&&Vi(t).Sr&&(yield(n=g(function*(r,i){if(sO(s=i.code)&&s!==v.ABORTED){const o=r.Qr.shift();Vi(r).wr(),yield cF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Na(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),lF(t)&&dF(t)}),ID.apply(this,arguments)}function TD(){return TD=g(function*(t,e){const n=S(t);e?(n.Gr.delete(2),yield tl(n)):e||(n.Gr.add(2),yield ka(n),n.Jr.set("Unknown"))}),TD.apply(this,arguments)}function Pa(t){return t.Xr||(t.Xr=function(e,n,r){const i=S(e);return i.Or(),new dZ(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:mZ.bind(null,t),Ni:yZ.bind(null,t),br:_Z.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Xr.wr(),fD(t)?hD(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),uF(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}function Vi(t){return t.Zr||(t.Zr=function(e,n,r){const i=S(e);return i.Or(),new hZ(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:EZ.bind(null,t),Ni:TZ.bind(null,t),Nr:IZ.bind(null,t),Cr:DZ.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Zr.wr(),yield Na(t)):(yield t.Zr.stop(),t.Qr.length>0&&(T("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Zr}class bD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oa(t,e){if(Ke("AsyncQueue",`${e}: ${t}`),Ms(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Fa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||k.comparator(n.key,r.key):(n,r)=>k.comparator(n.key,r.key),this.keyedMap=OI(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Fa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class hF{constructor(){this.eo=new st(k.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):O():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class La{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new La(e,n,Fa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class bZ{constructor(){this.so=void 0,this.listeners=[]}}class CZ{constructor(){this.queries=new xa(e=>qP(e),jc),this.onlineState="Unknown",this.io=new Set}}function SD(){return SD=g(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bZ),i)try{s.so=yield n.onListen(r)}catch(o){const a=Oa(o,`Initialization of query '${kI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&MD(n)}),SD.apply(this,arguments)}function xD(){return xD=g(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),xD.apply(this,arguments)}function SZ(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&MD(n)}function AZ(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function MD(t){t.io.forEach(e=>{e.next()})}class RD{constructor(e,n,r){this.query=e,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.ao?this.ho(e)&&(this.co.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class gF{constructor(e){this.key=e}}class mF{constructor(e){this.key=e}}class yF{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=ge(),this.mutatedKeys=ge(),this.Ao=GP(e),this.Ro=new Fa(this.Ao)}get bo(){return this.To}Po(e,n){const r=n?n.vo:new hF,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=yf(this.query)&&i.size===this.query.limit?i.last():null,c=_f(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Bc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),yf(this.query)||_f(this.query))for(;o.size>this.query.limit;){const l=yf(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new La(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new hF,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=ge(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new mF(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new gF(r))}),n}ko(e){this.To=e.zn,this.Io=ge();const n=this.Po(e.documents);return this.applyChanges(n,!0)}xo(){return La.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class RZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kZ{constructor(e){this.key=e,this.$o=!1}}class NZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new xa(a=>qP(a),jc),this.Fo=new Map,this.Lo=new Set,this.Bo=new st(k.comparator),this.Uo=new Map,this.qo=new nD,this.Ko={},this.jo=new Map,this.Qo=ks.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function PZ(t,e){return kD.apply(this,arguments)}function kD(){return kD=g(function*(t,e){const n=tT(t);let r,i;const s=n.Mo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Ma(n.localStore,$n(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield ND(n,e,r,"current"===a),n.isPrimaryClient&&Of(n.remoteStore,o)}return i}),kD.apply(this,arguments)}function ND(t,e,n,r){return PD.apply(this,arguments)}function PD(){return PD=g(function*(t,e,n,r){t.Go=(l,d,h)=>{return(f=g(function*(p,m,_,w){let y=m.view.Po(_);y.Bn&&(y=yield Rf(p.localStore,m.query,!1).then(({documents:W})=>m.view.Po(W,y)));const C=w&&w.targetChanges.get(m.targetId),N=m.view.applyChanges(y,p.isPrimaryClient,C);return qD(p,m.targetId,N.Co),N.snapshot}),function(p,m,_,w){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Rf(t.localStore,e,!0),s=new yF(e,i.zn),o=s.Po(i.documents),a=Wc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);qD(t,n,u.Co);const c=new RZ(e,n,s);return t.Mo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),u.snapshot}),PD.apply(this,arguments)}function OZ(t,e){return OD.apply(this,arguments)}function OD(){return OD=g(function*(t,e){const n=S(t),r=n.Mo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!jc(s,e))),void n.Mo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ra(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nl(n.remoteStore,r.targetId),Ua(n,r.targetId)}).catch(Ns))):(Ua(n,r.targetId),yield Ra(n.localStore,r.targetId,!0))}),OD.apply(this,arguments)}function FD(){return FD=g(function*(t,e,n){const r=nT(t);try{const i=yield function(s,o){const a=S(s),u=At.now(),c=o.reduce((d,h)=>d.add(h.key),ge());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=sX(p,l.get(p.key));null!=m&&f.push(new ki(p.key,m,LP(m.value.mapValue),Ye.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new st(se)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,n),yield oi(r,i.changes),yield Na(r.remoteStore)}catch(i){const s=Oa(i,"Failed to persist write");n.reject(s)}}),FD.apply(this,arguments)}function _F(t,e){return LD.apply(this,arguments)}function LD(){return LD=g(function*(t,e){const n=S(t);try{const r=yield QX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?V(o.$o):i.removedDocuments.size>0&&(V(o.$o),o.$o=!1))}),yield oi(n,r,e)}catch(r){yield Ns(r)}}),LD.apply(this,arguments)}function vF(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Mo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&MD(a)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LZ(t,e,n){return UD.apply(this,arguments)}function UD(){return UD=g(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new st(k.comparator);o=o.insert(s,Ae.newNoDocument(s,q.min()));const a=ge().add(s),u=new Gc(q.min(),new Map,new Fe(se),o,a);yield _F(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),GD(r)}else yield Ra(r.localStore,e,!1).then(()=>Ua(r,e,n)).catch(Ns)}),UD.apply(this,arguments)}function UZ(t,e){return VD.apply(this,arguments)}function VD(){return VD=g(function*(t,e){const n=S(t),r=e.batch.batchId;try{const i=yield KX(n.localStore,e);HD(n,r,null),$D(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield oi(n,i)}catch(i){yield Ns(i)}}),VD.apply(this,arguments)}function VZ(t,e,n){return jD.apply(this,arguments)}function jD(){return jD=g(function*(t,e,n){const r=S(t);try{const i=yield function(s,o){const a=S(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.An.lookupMutationBatch(u,o).next(l=>(V(null!==l),c=l.keys(),a.An.removeMutationBatch(u,l))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,c))})}(r.localStore,e);HD(r,e,n),$D(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield oi(r,i)}catch(i){yield Ns(i)}}),jD.apply(this,arguments)}function $D(t,e){(t.jo.get(e)||[]).forEach(n=>{n.resolve()}),t.jo.delete(e)}function HD(t,e,n){const r=S(t);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Ua(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Mo.delete(r),n&&t.Oo.zo(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||wF(t,r)})}function wF(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(nl(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),GD(t))}function qD(t,e,n){for(const r of n)r instanceof gF?(t.qo.addReference(r.key,e),BZ(t,r)):r instanceof mF?(T("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||wF(t,r.key)):O()}function BZ(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(T("SyncEngine","New document in limbo: "+n),t.Lo.add(r),GD(t))}function GD(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new k(he.fromString(e)),r=t.Qo.next();t.Uo.set(r,new kZ(n)),t.Bo=t.Bo.insert(n,r),Of(t.remoteStore,new Pi($n(ma(n.path)),r,2,Cn.I))}}function oi(t,e,n){return WD.apply(this,arguments)}function WD(){return WD=g(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.Mo.isEmpty()||(r.Mo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=YI.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Oo.br(i),yield(a=g(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(c,h=>E.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ms(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),WD.apply(this,arguments)}function $Z(t,e){return zD.apply(this,arguments)}function zD(){return zD=g(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield YO(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oi(n,r.Gn)}var i}),zD.apply(this,arguments)}function HZ(t,e){const n=S(t),r=n.Uo.get(e);if(r&&r.$o)return ge().add(r.key);{let i=ge();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Mo.get(o);i=i.unionWith(a.view.bo)}return i}}function tT(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_F.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LZ.bind(null,e),e.Oo.br=SZ.bind(null,e.eventManager),e.Oo.zo=AZ.bind(null,e.eventManager),e}function nT(t){const e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VZ.bind(null,e),e}class XZ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.k=el(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function QO(t,e,n,r){return new zX(t,e,n,r)}(this.persistence,new KO,e.initialUser,this.k)}Yo(e){return new sZ(rD.ks,this.k)}Jo(e){return new rF}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rT{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>vF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$Z.bind(null,r.syncEngine),yield function DD(t,e){return TD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CZ}createDatastore(e){const n=el(e.databaseInfo.databaseId),r=new lZ(e.databaseInfo);return new fZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>vF(this.syncEngine,a,0),o=iF.Pt()?new iF:new aZ,new gZ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new NZ(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=S(n);T("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield ka(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class iee{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=AP.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Oa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function TF(t,e){return iT.apply(this,arguments)}function iT(){return iT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield YO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),iT.apply(this,arguments)}function bF(t,e){return sT.apply(this,arguments)}function sT(){return sT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield oT(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=g(function*(o,a){const u=S(o);u.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const c=Ui(u);u.Gr.add(3),yield ka(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield tl(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),sT.apply(this,arguments)}function oT(t){return aT.apply(this,arguments)}function aT(){return aT=g(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield TF(t,new XZ)),t.offlineComponents}),aT.apply(this,arguments)}function Uf(t){return uT.apply(this,arguments)}function uT(){return uT=g(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield bF(t,new rT)),t.onlineComponents}),uT.apply(this,arguments)}function Va(t){return dT.apply(this,arguments)}function dT(){return dT=g(function*(t){const e=yield Uf(t),n=e.eventManager;return n.onListen=PZ.bind(null,e.syncEngine),n.onUnlisten=OZ.bind(null,e.syncEngine),n}),dT.apply(this,arguments)}class fee{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class rl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}const MF=new Map;function hT(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RF(t){if(!k.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kF(t){if(k.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class PF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function pee(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class il{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PF({}),this._settingsFrozen=!1,e instanceof rl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new NJ;switch(n.type){case"gapi":const r=n.client;return V(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new LJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=MF.get(e);n&&(T("ComponentProvider","Removing Datastore"),MF.delete(e),n.terminate())}(this),Promise.resolve()}}class Be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}}class jt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jt(this.firestore,e,this._query)}}class xr extends jt{constructor(e,n,r){super(e,n,ma(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new k(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function gee(t,e,...n){if(t=jn(t),hT("collection","path",e),t instanceof il){const r=he.fromString(e,...n);return kF(r),new xr(t,null,r)}{if(!(t instanceof Be||t instanceof xr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return kF(r),new xr(t.firestore,null,r)}}function OF(t,e,...n){if(t=jn(t),1===arguments.length&&(e=AP.A()),hT("doc","path",e),t instanceof il){const r=he.fromString(e,...n);return RF(r),new Be(t,null,new k(r))}{if(!(t instanceof Be||t instanceof xr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return RF(r),new Be(t.firestore,t instanceof xr?t.converter:null,new k(r))}}class yee{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new uD(this,"async_queue_retry"),this.bc=()=>{const n=Pf();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=Pf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const n=Pf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const n=new pt;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return g(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(n){if(!Ms(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const n=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,Ke("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=n,n}enqueueAfterDelay(e,n,r){this.Pc(),this.Rc.indexOf(e)>-1&&(n=0);const i=bD.createAndSchedule(this,e,n,r,s=>this.Sc(s));return this.Tc.push(i),i}Pc(){this.Ec&&O()}verifyOperationInProgress(){}Dc(){var e=this;return g(function*(){let n;do{n=e.mc,yield n}while(n!==e.mc)})()}Cc(e){for(const n of this.Tc)if(n.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const n=this.Tc.indexOf(e);this.Tc.splice(n,1)}}function fT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends il{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new yee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||FF(this),this._firestoreClient.terminate()}}function vee(t=Py()){return Ko(t,"firestore").getImmediate()}function yt(t){return t._firestoreClient||FF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FF(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new fee(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new iee(t._authCredentials,t._appCheckCredentials,t._queue,r)}class ja{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(it.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ps(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class VF{constructor(e){this._methodName=e}}class pT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}const wee=/^__.*__$/;class Eee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hc(e,this.data,n,this.fieldTransforms)}}function BF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class jf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Bf(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(BF(this.$c)&&wee.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class Iee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||el(e)}Qc(e,n,r,i=!1){return new jf({$c:e,methodName:n,jc:r,path:Lt.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Ba(t){const e=t._freezeSettings(),n=el(t._databaseId);return new Iee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gT(t,e,n,r,i,s={}){const o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);yT("Data must be an object, but it was:",o,r);const a=WF(r,o);let u,c;if(s.merge)u=new ha(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=_T(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KF(l,h)||l.push(h)}u=new ha(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Eee(new Ut(a),u,c)}function Os(t,e){if(zF(t=jn(t)))return yT("Unsupported field value:",e,t),WF(t,e);if(t instanceof VF)return function(n,r){if(!BF(r.$c))throw r.qc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Os(o,r.Uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=jn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return KP(r.k,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=At.fromDate(n);return{timestampValue:zc(r.k,i)}}if(n instanceof At){const i=new At(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zc(r.k,i)}}if(n instanceof pT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ps)return{bytesValue:pO(r.k,n._byteString)};if(n instanceof Be){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.qc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:FI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.qc(`Unsupported field value: ${Vf(n)}`)}(t,e)}function WF(t,e){const n={};return RP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(r,i)=>{const s=Os(i,e.Mc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function zF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof At||t instanceof pT||t instanceof Ps||t instanceof Be||t instanceof VF)}function yT(t,e,n){if(!zF(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Vf(n);throw e.qc("an object"===r?t+" a custom object":t+" "+r)}var r}function _T(t,e,n){if((e=jn(e))instanceof ja)return e._internalPath;if("string"==typeof e)return vT(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cee=new RegExp("[~\\*/\\[\\]]");function vT(t,e,n){if(e.search(Cee)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ja(...e.split("."))._internalPath}catch(r){throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function KF(t,e){return t.some(n=>n.isEqual(e))}class wT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new See(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($f("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class See extends wT{data(){return super.data()}}function $f(t,e){return"string"==typeof e?vT(t,e):e instanceof ja?e._internalPath:e._delegate._internalPath}class Fs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends wT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($f("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hf extends $a{data(e={}){return super.data(e)}}class Ha{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hf(this._firestore,this._userDataWriter,r.key,r,new Fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Hf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Hf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Aee(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Aee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Ls extends class Ree{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){const r={};return Ts(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new pT(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);V(SO(r));const i=new rl(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(n)||Ke(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function Nee(t){return ol(ce(t.firestore,Re),[new qc(t._key,Ye.none())])}function Pee(t,e){const n=ce(t.firestore,Re),r=OF(t),i=function ET(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return ol(n,[gT(Ba(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ye.exists(!1))]).then(()=>r)}function ol(t,e){return function(n,r){const i=new pt;return n.asyncQueue.enqueueAndForget(g(function*(){return function FZ(t,e,n){return FD.apply(this,arguments)}(yield function lT(t){return Uf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(yt(t),e)}!function(t,e=!0){la="9.6.4",an(new Yt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Re(i,new OJ(n.getProvider("auth-internal")),new UJ(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Oe(bP,"3.4.3",t),Oe(bP,"3.4.3","esm2017")}();class Gf{constructor(e){return e}}const rL="firestore",DT=new ee("angularfire2.firestore-instances");function Vee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Gf(r)}}const jee={provide:class Lee{constructor(){return hv(rL)}},deps:[[new Ve,DT]]},Bee={provide:Gf,useFactory:function Uee(t,e){const n=dv(rL,t,e);return n&&new Gf(n)},deps:[[new Ve,DT],ta]};let $ee=(()=>{class t{constructor(){Oe("angularfire",ch.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({providers:[Bee,jee]}),t})();function Hee(t,...e){return{ngModule:$ee,providers:[{provide:DT,useFactory:Vee(t),multi:!0,deps:[xe,ct,fv,pv,[new Ve,c1],[new Ve,Rv],...e]}]}}const qee=gs(Pee,!0),Gee=gs(gee,!0),Wee=gs(Nee,!0),zee=gs(vee,!0);var Kee={includeMetadataChanges:!1};function TT(t,e){return void 0===e&&(e=Kee),new De(function(n){var r=function Oee(t,...e){var n,r,i;t=jn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||fT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(fT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Be)c=ce(t.firestore,Re),l=ma(t._key.path),u={next:d=>{e[o]&&e[o](function IT(t,e,n){const r=n.docs.get(e._key),i=new Ls(t);return new $a(t,i,e._key,r,new Fs(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,jt);c=ce(d.firestore,Re),l=d._query;const h=new Ls(c);u={next:f=>{e[o]&&e[o](new Ha(c,h,d,f))},error:e[o+1],complete:e[o+2]},function QF(t){if(_f(t)&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Lf(p),_=new RD(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function CD(t,e){return SD.apply(this,arguments)}(yield Va(d),_)})),()=>{m.nc(),d.asyncQueue.enqueueAndForget(g(function*(){return function AD(t,e){return xD.apply(this,arguments)}(yield Va(d),_)}))}}(yt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}let nte=(()=>{class t{constructor(n){this.store=n,this.components=null,this.collection=null,this.dbPath=""}getAll(){if(!this.components){const n=localStorage.getItem("user");if(!n)return;const r=JSON.parse(n).uid;this.dbPath=`/users/${r}/components`,this.collection=Gee(this.store,this.dbPath),this.components=function tte(t,e){return void 0===e&&(e={}),function ete(t){return TT(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(t).pipe(_e(function(n){return n.map(function(r){return function iL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}(this.collection,{idField:"fireID"})}return this.components}addComponent(n){this.collection&&qee(this.collection,n)}deleteComponent(n){if(this.collection){const r=OF(this.store,`${this.dbPath}/${n.fireID}`);Wee(r)}}}return t.\u0275fac=function(n){return new(n||t)(F(Gf))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rte=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qi({type:t,selectors:[["app-weather"]],decls:2,vars:0,consts:[[1,"text-white"]],template:function(n,r){1&n&&(_i(0,"p",0),od(1,"weather works!"),vi())},styles:[""]}),t})(),ite=(()=>{class t{constructor(){this.type=""}refreshTime(){}ngAfterViewInit(){this.refreshTime(),setInterval(()=>{this.refreshTime()},1e3)}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qi({type:t,selectors:[["app-clock"]],inputs:{type:"type"},decls:2,vars:0,consts:[[1,"text-8xl","text-center","text-white","font-bold","w-full","h-full","flex","items-center","justify-center"]],template:function(n,r){1&n&&(_i(0,"div",0),od(1," Clock works!\n"),vi())},styles:[""]}),t})();function ste(t,e){1&t&&xo(0,"div"),2&t&&$S("flex items-center justify-center ",id().$implicit.classes,"")}function ote(t,e){1&t&&(_i(0,"div"),xo(1,"app-weather"),vi()),2&t&&Gg(id().$implicit.classes)}function ate(t,e){1&t&&(_i(0,"div"),xo(1,"app-clock"),vi()),2&t&&Gg(id().$implicit.classes)}function ute(t,e){if(1&t&&(function Bg(t,e,n){const r=I(),i=oe(),s=t+20,o=i.firstCreatePass?function DB(t,e,n,r,i){const s=e.consts,o=hi(s,r),a=ho(e,t,8,"ng-container",o);return null!==o&&Xl(a,o,!0),vg(e,n,a,hi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];fr(o,!0);const a=r[s]=r[K].createComment("");Gl(i,r,a,o),Pt(a,r),El(o)&&(yg(i,r,o),tC(i,o,r)),null!=n&&_g(r,o)}(0),Tu(1,ste,1,3,"div",3),Tu(2,ote,2,3,"div",3),Tu(3,ate,2,3,"div",3),function $g(){let t=Xe();const e=oe();yp()?_p():(t=t.parent,fr(t,!1)),e.firstCreatePass&&(Sl(e,t),cp(t)&&e.queries.elementEnd(t))}()),2&t){const n=e.$implicit;_u(1),Ao("ngIf","empty"==n.id),_u(1),Ao("ngIf","weather"==n.id),_u(1),Ao("ngIf","clock"==n.id)}}const cte=[{path:"",component:(()=>{class t{constructor(n,r){this.authService=n,this.firestoreService=r,this.userComponents=[]}augmentComponentClasses(){for(const n of this.userComponents){let r;switch(+n.position){case 1:r="col-start-1 row-start-1";break;case 2:r="col-start-2 row-start-1";break;case 3:r="col-start-3 row-start-1";break;case 4:r="col-start-1 row-start-2";break;case 5:r="col-start-2 row-start-2";break;case 6:r="col-start-3 row-start-2";break;default:console.log(2==n.position)}n.classes=r}}ngOnInit(){var n=this;return g(function*(){localStorage.getItem("user")||(yield n.authService.login()),n.subscribe()})()}subscribe(){var n;null===(n=this.firestoreService.getAll())||void 0===n||n.subscribe(r=>{this.userComponents=r,this.augmentComponentClasses()})}}return t.\u0275fac=function(n){return new(n||t)(P(bY),P(nte))},t.\u0275cmp=qi({type:t,selectors:[["app-display"]],decls:4,vars:1,consts:[[1,"grid","grid-cols-3","grid-rows-2","gap-2","pl-4","pr-4","h-screen","w-screen","bg-black"],[1,"text-8xl","text-center","text-white","font-bold","w-full","h-full","flex","items-center","justify-center"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf"]],template:function(n,r){1&n&&(_i(0,"div",0),_i(1,"p",1),od(2,"Your Smartmirror"),vi(),Tu(3,ute,4,3,"ng-container",2),vi()),2&n&&(_u(3),Ao("ngForOf",r.userComponents))},directives:[Xx,eM,rte,ite],styles:[""]}),t})()}];let lte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=qn({imports:[[wR.forRoot(cte)],wR]}),t})(),dte=(()=>{class t{constructor(){this.title="smart-mirror-display"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&xo(0,"router-outlet")},directives:[fy],styles:[""]}),t})();const uL_firebase={projectId:"smartmirror-339017",appId:"1:661778699910:web:dbc8203725b2549943a307",storageBucket:"smartmirror-339017.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAZZi5_oJPdyujGe1CRpQymlv6bptkg-5M",authDomain:"smartmirror-339017.firebaseapp.com",messagingSenderId:"661778699910"};let hte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t,bootstrap:[dte]}),t.\u0275inj=qn({providers:[],imports:[[gz,lte,K7(()=>Q7(uL_firebase)),IY(()=>DY()),Hee(()=>zee())]]}),t})();(function Hq(){Cx=!1})(),fz().bootstrapModule(hte).catch(t=>console.error(t))},940:function(cl,ll){!function(ji){"use strict";function me(R){return Array.prototype.slice.call(R)}function Vs(R){return new Promise(function(J,le){R.onsuccess=function(){J(R.result)},R.onerror=function(){le(R.error)}})}function ai(R,J,le){var fe,ne=new Promise(function($t,ui){Vs(fe=R[J].apply(R,le)).then($t,ui)});return ne.request=fe,ne}function js(R,J,le){var fe=ai(R,J,le);return fe.then(function(ne){if(ne)return new ur(ne,fe.request)})}function $e(R,J,le){le.forEach(function(fe){Object.defineProperty(R.prototype,fe,{get:function(){return this[J][fe]},set:function(ne){this[J][fe]=ne}})})}function Bs(R,J,le,fe){fe.forEach(function(ne){ne in le.prototype&&(R.prototype[ne]=function(){return ai(this[J],ne,arguments)})})}function Bi(R,J,le,fe){fe.forEach(function(ne){ne in le.prototype&&(R.prototype[ne]=function(){return this[J][ne].apply(this[J],arguments)})})}function qa(R,J,le,fe){fe.forEach(function(ne){ne in le.prototype&&(R.prototype[ne]=function(){return js(this[J],ne,arguments)})})}function Bt(R){this._index=R}function ur(R,J){this._cursor=R,this._request=J}function pn(R){this._store=R}function cr(R){this._tx=R,this.complete=new Promise(function(J,le){R.oncomplete=function(){J()},R.onerror=function(){le(R.error)},R.onabort=function(){le(R.error)}})}function $s(R,J,le){this._db=R,this.oldVersion=J,this.transaction=new cr(le)}function Hs(R){this._db=R}$e(Bt,"_index",["name","keyPath","multiEntry","unique"]),Bs(Bt,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),qa(Bt,"_index",IDBIndex,["openCursor","openKeyCursor"]),$e(ur,"_cursor",["direction","key","primaryKey","value"]),Bs(ur,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(R){R in IDBCursor.prototype&&(ur.prototype[R]=function(){var J=this,le=arguments;return Promise.resolve().then(function(){return J._cursor[R].apply(J._cursor,le),Vs(J._request).then(function(fe){if(fe)return new ur(fe,J._request)})})})}),pn.prototype.createIndex=function(){return new Bt(this._store.createIndex.apply(this._store,arguments))},pn.prototype.index=function(){return new Bt(this._store.index.apply(this._store,arguments))},$e(pn,"_store",["name","keyPath","indexNames","autoIncrement"]),Bs(pn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),qa(pn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Bi(pn,"_store",IDBObjectStore,["deleteIndex"]),cr.prototype.objectStore=function(){return new pn(this._tx.objectStore.apply(this._tx,arguments))},$e(cr,"_tx",["objectStoreNames","mode"]),Bi(cr,"_tx",IDBTransaction,["abort"]),$s.prototype.createObjectStore=function(){return new pn(this._db.createObjectStore.apply(this._db,arguments))},$e($s,"_db",["name","version","objectStoreNames"]),Bi($s,"_db",IDBDatabase,["deleteObjectStore","close"]),Hs.prototype.transaction=function(){return new cr(this._db.transaction.apply(this._db,arguments))},$e(Hs,"_db",["name","version","objectStoreNames"]),Bi(Hs,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(R){[pn,Bt].forEach(function(J){R in J.prototype&&(J.prototype[R.replace("open","iterate")]=function(){var le=me(arguments),fe=le[le.length-1],ne=this._store||this._index,$t=ne[R].apply(ne,le.slice(0,-1));$t.onsuccess=function(){fe($t.result)}})})}),[Bt,pn].forEach(function(R){R.prototype.getAll||(R.prototype.getAll=function(J,le){var fe=this,ne=[];return new Promise(function($t){fe.iterateCursor(J,function(ui){ui?(ne.push(ui.value),void 0===le||ne.length!=le?ui.continue():$t(ne)):$t(ne)})})})}),ji.openDb=function Wf(R,J,le){var fe=ai(indexedDB,"open",[R,J]),ne=fe.request;return ne&&(ne.onupgradeneeded=function($t){le&&le(new $s(ne.result,$t.oldVersion,ne.transaction))}),fe.then(function($t){return new Hs($t)})},ji.deleteDb=function Ga(R){return ai(indexedDB,"deleteDatabase",[R])},Object.defineProperty(ji,"__esModule",{value:!0})}(ll)}},cl=>{cl(cl.s=786)}]);