(self.webpackChunksmart_mirror_display=self.webpackChunksmart_mirror_display||[]).push([[179],{493:(vl,wl,Qi)=>{"use strict";function ye(t){return"function"==typeof t}function Qs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fi=Qs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ys(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class qe{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof fi?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Za(s)}catch(o){e=null!=e?e:[],o instanceof fi?e=[...e,...o.errors]:e.push(o)}}if(e)throw new fi(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Za(e);else{if(e instanceof qe){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ys(n,e)}remove(e){const{_teardowns:n}=this;n&&Ys(n,e),e instanceof qe&&e._removeParent(this)}}qe.EMPTY=(()=>{const t=new qe;return t.closed=!0,t})();const Js=qe.EMPTY;function Yi(t){return t instanceof qe||t&&"closed"in t&&ye(t.remove)&&ye(t.add)&&ye(t.unsubscribe)}function Za(t){ye(t)?t():t.unsubscribe()}const Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hr={setTimeout(...t){const{delegate:e}=hr;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=hr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function _n(t){hr.setTimeout(()=>{const{onUnhandledError:e}=Gt;if(!e)throw t;e(t)})}function fr(){}const Xs=eu("C",void 0,void 0);function eu(t,e,n){return{kind:t,value:e,error:n}}let N=null;function Z(t){if(Gt.useDeprecatedSynchronousErrorHandling){const e=!N;if(e&&(N={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=N;if(N=null,n)throw r}}else t()}class pe extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yi(e)&&e.add(this)):this.destination=LL}static create(e,n,r){return new re(e,n,r)}next(e){this.isStopped?ep(function Zf(t){return eu("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ep(function Zs(t){return eu("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ep(Xs,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class re extends pe{constructor(e,n,r){let i;if(super(),ye(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&Gt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?zt(i):fr,error:zt(null!=n?n:pi),complete:r?zt(r):fr}}}function zt(t,e){return(...n)=>{try{t(...n)}catch(r){Gt.useDeprecatedSynchronousErrorHandling?function le(t){Gt.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=t)}(r):_n(r)}}}function pi(t){throw t}function ep(t,e){const{onStoppedNotification:n}=Gt;n&&hr.setTimeout(()=>n(t,e))}const LL={closed:!0,next:fr,error:pi,complete:fr},tp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ji(t){return t}let Ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function VL(t){return t&&t instanceof pe||function UL(t){return t&&ye(t.next)&&ye(t.error)&&ye(t.complete)}(t)&&Yi(t)}(n)?n:new re(n,r,i);return Z(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Qb(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[tp](){return this}pipe(...n){return function Kb(t){return 0===t.length?Ji:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Qb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Qb(t){var e;return null!==(e=null!=t?t:Gt.Promise)&&void 0!==e?e:Promise}const jL=Qs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fr=(()=>{class t extends Ee{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Yb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jL}next(n){Z(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Js:(s.push(n),new qe(()=>Ys(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ee;return n.source=this,n}}return t.create=(e,n)=>new Yb(e,n),t})();class Yb extends Fr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Js}}function Jb(t){return ye(null==t?void 0:t.lift)}function Et(t){return e=>{if(Jb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class It extends pe{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function de(t,e){return Et((n,r)=>{let i=0;n.subscribe(new It(r,s=>{r.next(t.call(e,s,i++))}))})}function Xi(t){return this instanceof Xi?(this.v=t,this):new Xi(t)}function HL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Xi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function qL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function eT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const tT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function nT(t){return ye(null==t?void 0:t.then)}function rT(t){return ye(t[tp])}function iT(t){return Symbol.asyncIterator&&ye(null==t?void 0:t[Symbol.asyncIterator])}function sT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oT=function zL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aT(t){return ye(null==t?void 0:t[oT])}function uT(t){return HL(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Xi(n.read());if(i)return yield Xi(void 0);yield yield Xi(r)}}finally{n.releaseLock()}})}function cT(t){return ye(null==t?void 0:t.getReader)}function Lr(t){if(t instanceof Ee)return t;if(null!=t){if(rT(t))return function WL(t){return new Ee(e=>{const n=t[tp]();if(ye(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(tT(t))return function KL(t){return new Ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(nT(t))return function QL(t){return new Ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_n)})}(t);if(iT(t))return lT(t);if(aT(t))return function YL(t){return new Ee(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(cT(t))return function JL(t){return lT(uT(t))}(t)}throw sT(t)}function lT(t){return new Ee(e=>{(function XL(t,e){var n,r,i,s;return function BL(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=qL(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ur(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function dt(t,e,n=1/0){return ye(e)?dt((r,i)=>de((s,o)=>e(r,s,i,o))(Lr(t(r,i))),n):("number"==typeof e&&(n=e),Et((r,i)=>function ZL(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;Lr(n(m,l++)).subscribe(new It(e,v=>{null==i||i(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const v=u.shift();o?Ur(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(new It(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function tu(t=1/0){return dt(Ji,t)}const Vr=new Ee(t=>t.complete());function rp(t){return t[t.length-1]}function nu(t){return function tU(t){return t&&ye(t.schedule)}(rp(t))?t.pop():void 0}function El(t,e=0){return Et((n,r)=>{n.subscribe(new It(r,i=>Ur(r,t,()=>r.next(i),e),()=>Ur(r,t,()=>r.complete(),e),i=>Ur(r,t,()=>r.error(i),e)))})}function Il(t,e=0){return Et((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ee(n=>{Ur(n,e,()=>{const r=t[Symbol.asyncIterator]();Ur(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dt(t,e){return e?function cU(t,e){if(null!=t){if(rT(t))return function iU(t,e){return Lr(t).pipe(Il(e),El(e))}(t,e);if(tT(t))return function oU(t,e){return new Ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(nT(t))return function sU(t,e){return Lr(t).pipe(Il(e),El(e))}(t,e);if(iT(t))return dT(t,e);if(aT(t))return function aU(t,e){return new Ee(n=>{let r;return Ur(n,e,()=>{r=t[oT](),Ur(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ye(null==r?void 0:r.return)&&r.return()})}(t,e);if(cT(t))return function uU(t,e){return dT(uT(t),e)}(t,e)}throw sT(t)}(t,e):Lr(t)}function Dl(t){return t<=0?()=>Vr:Et((e,n)=>{let r=0;e.subscribe(new It(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hT(t={}){const{connector:e=(()=>new Fr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Et((m,_)=>{c++,!d&&!l&&h();const v=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=ip(p,i))}),v.subscribe(_),o||(o=new re({next:y=>v.next(y),error:y=>{d=!0,h(),a=ip(f,n,y),v.error(y)},complete:()=>{l=!0,h(),a=ip(f,r),v.complete()}}),Dt(m).subscribe(o))})(s)}}function ip(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Dl(1)).subscribe(()=>t())}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function op(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const dU=ve({__forward_ref__:ve});function ap(t){return t.__forward_ref__=ap,t.toString=function(){return ge(this())},t}function Q(t){return function fT(t){return"function"==typeof t&&t.hasOwnProperty(dU)&&t.__forward_ref__===ap}(t)?t():t}class he extends Error{constructor(e,n){super(function up(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function Wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}function bl(t,e){const n=e?` in ${e}`:"";throw new he(-201,`No provider for ${Wt(t)} found${n}`)}function wn(t,e){null==t&&function be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function En(t){return{providers:t.providers||[],imports:t.imports||[]}}function cp(t){return pT(t,Tl)||pT(t,mT)}function pT(t,e){return t.hasOwnProperty(e)?t[e]:null}function gT(t){return t&&(t.hasOwnProperty(lp)||t.hasOwnProperty(_U))?t[lp]:null}const Tl=ve({\u0275prov:ve}),lp=ve({\u0275inj:ve}),mT=ve({ngInjectableDef:ve}),_U=ve({ngInjectorDef:ve});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let dp;function gi(t){const e=dp;return dp=t,e}function yT(t,e,n){const r=cp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void bl(ge(t),"Injector")}function mi(t){return{toString:t}.toString()}var Qn=(()=>((Qn=Qn||{})[Qn.OnPush=0]="OnPush",Qn[Qn.Default=1]="Default",Qn))(),pr=(()=>{return(t=pr||(pr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",pr;var t})();const wU="undefined"!=typeof globalThis&&globalThis,EU="undefined"!=typeof window&&window,IU="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_e=wU||"undefined"!=typeof global&&global||EU||IU,eo={},we=[],Cl=ve({\u0275cmp:ve}),hp=ve({\u0275dir:ve}),fp=ve({\u0275pipe:ve}),_T=ve({\u0275mod:ve}),Br=ve({\u0275fac:ve}),ru=ve({__NG_ELEMENT_ID__:ve});let DU=0;function Zi(t){return mi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,id:"c",styles:t.styles||we,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=DU++,r.inputs=IT(t.inputs,n),r.outputs=IT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(vT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(wT):null,r})}function vT(t){return Ot(t)||function yi(t){return t[hp]||null}(t)}function wT(t){return function es(t){return t[fp]||null}(t)}const ET={};function On(t){return mi(()=>{const e={type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ET[t.id]=t.type),e})}function IT(t,e){if(null==t)return eo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Pt=Zi;function Ot(t){return t[Cl]||null}function Fn(t,e){const n=t[_T]||null;if(!n&&!0===e)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return n}const Y=11;function gr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Jn(t){return Array.isArray(t)&&!0===t[1]}function mp(t){return 0!=(8&t.flags)}function Rl(t){return 2==(2&t.flags)}function Ml(t){return 1==(1&t.flags)}function Xn(t){return null!==t.template}function xU(t){return 0!=(512&t[2])}function is(t,e){return t.hasOwnProperty(Br)?t[Br]:null}class kU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function bT(t){return t.type.prototype.ngOnChanges&&(t.setInput=PU),NU}function NU(){const t=CT(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===eo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function PU(t,e,n,r){const i=CT(t)||function OU(t,e){return t[TT]=e}(t,{previous:eo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new kU(u&&u.currentValue,e,o===eo),t[r]=e}const TT="__ngSimpleChanges__";function CT(t){return t[TT]||null}let vp;function Pe(t){return!!t.listen}const xT={createRenderer:(t,e)=>function wp(){return void 0!==vp?vp:"undefined"!=typeof document?document:void 0}()};function Ge(t){for(;Array.isArray(t);)t=t[0];return t}function kl(t,e){return Ge(e[t])}function Vn(t,e){return Ge(e[t.index])}function Ep(t,e){return t.data[e]}function Dn(t,e){const n=e[t];return gr(n)?n:n[0]}function Ip(t){return 128==(128&t[2])}function _i(t,e){return null==e?null:t[e]}function MT(t){t[18]=0}function Dp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const j={lFrame:jT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kT(){return j.bindingsEnabled}function I(){return j.lFrame.lView}function oe(){return j.lFrame.tView}function tt(){let t=PT();for(;null!==t&&64===t.type;)t=t.parent;return t}function PT(){return j.lFrame.currentTNode}function mr(t,e){const n=j.lFrame;n.currentTNode=t,n.isParent=e}function bp(){return j.lFrame.isParent}function Tp(){j.lFrame.isParent=!1}function Nl(){return j.isInCheckNoChangesMode}function Pl(t){j.isInCheckNoChangesMode=t}function oo(){return j.lFrame.bindingIndex++}function Hr(t){const e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function QU(t,e){const n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cp(e)}function Cp(t){j.lFrame.currentDirectiveIndex=t}function Ap(t){j.lFrame.currentQueryIndex=t}function JU(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function UT(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=JU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=j.lFrame=VT();return r.currentTNode=e,r.lView=t,!0}function Ol(t){const e=VT(),n=t[1];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function VT(){const t=j.lFrame,e=null===t?null:t.child;return null===e?jT(t):e}function jT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function BT(){const t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $T=BT;function Fl(){const t=BT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qt(){return j.lFrame.selectedIndex}function vi(t){j.lFrame.selectedIndex=t}function Oe(){const t=j.lFrame;return Ep(t.tView,t.selectedIndex)}function Ll(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Ul(t,e,n){HT(t,e,3,n)}function Vl(t,e,n,r){(3&t[2])===n&&HT(t,e,n,r)}function xp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function HT(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(oV(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function oV(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class uu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function jl(t,e,n){const r=Pe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Mp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function qT(t){return 3===t||4===t||6===t}function Mp(t){return 64===t.charCodeAt(0)}function Bl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||GT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function GT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function zT(t){return-1!==t}function ao(t){return 32767&t}function uo(t,e){let n=function dV(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let kp=!0;function $l(t){const e=kp;return kp=t,e}let hV=0;function lu(t,e){const n=Pp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Np(r.data,t),Np(e,null),Np(r.blueprint,null));const i=Hl(t,e),s=t.injectorIndex;if(zT(i)){const o=ao(i),a=uo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Np(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Hl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ql(t,e,n){!function fV(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ru)&&(r=n[ru]),null==r&&(r=n[ru]=hV++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function QT(t,e,n){if(n&z.Optional)return t;bl(e,"NodeInjector")}function YT(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),0==(n&(z.Self|z.Host))){const i=t[9],s=gi(void 0);try{return i?i.get(e,r,n&z.Optional):yT(e,r,n&z.Optional)}finally{gi(s)}}return QT(r,e,n)}function JT(t,e,n,r=z.Default,i){if(null!==t){const s=function yV(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ru)?t[ru]:void 0;return"number"==typeof e?e>=0?255&e:gV:e}(n);if("function"==typeof s){if(!UT(e,t,r))return r&z.Host?QT(i,n,r):YT(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;bl(n)}finally{$T()}}else if("number"==typeof s){let o=null,a=Pp(t,e),u=-1,c=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Hl(t,e):e[a+8],-1!==u&&e0(r,!1)?(o=e[1],a=ao(u),e=uo(u,e)):a=-1);-1!==a;){const l=e[1];if(ZT(s,a,l.data)){const d=mV(a,e,n,o,r,c);if(d!==XT)return d}u=e[a+8],-1!==u&&e0(r,e[1].data[a+8]===c)&&ZT(s,a,e)?(o=l,a=ao(u),e=uo(u,e)):a=-1}}}return YT(e,n,r,i)}const XT={};function gV(){return new co(tt(),I())}function mV(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function Gl(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Xn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Rl(a)&&kp:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?du(e,o,l,a):XT}function du(t,e,n,r){let i=t[n];const s=e.data;if(function aV(t){return t instanceof uu}(i)){const o=i;o.resolving&&function hU(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new he(-200,`Circular dependency in DI detected for ${t}${n}`)}(Wt(s[n]));const a=$l(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?gi(o.injectImpl):null;UT(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function sV(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=bT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&gi(u),$l(a),o.resolving=!1,$T()}}return i}function ZT(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function e0(t,e){return!(t&z.Self||t&z.Host&&e)}class co{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return JT(this._tNode,this._lView,e,r,n)}}const ho="__parameters__";function po(t,e,n){return mi(()=>{const r=function Fp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ho)?u[ho]:Object.defineProperty(u,ho,{value:[]})[ho];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class X{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wV=new X("AnalyzeForEntryComponents");function yr(t,e){t.forEach(n=>Array.isArray(n)?yr(n,e):e(n))}function n0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e,n){let r=go(t,e);return r>=0?t[1|r]=n:(r=~r,function DV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Up(t,e){const n=go(t,e);if(n>=0)return t[1|n]}function go(t,e){return function o0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const mu={},jp="__NG_DI_FLAG__",Kl="ngTempTokenPath",RV=/\n/gm,u0="__source",kV=ve({provide:String,useValue:ve});let yu;function c0(t){const e=yu;return yu=t,e}function NV(t,e=z.Default){if(void 0===yu)throw new he(203,"");return null===yu?yT(t,void 0,e):yu.get(t,e&z.Optional?null:void 0,e)}function M(t,e=z.Default){return(function vU(){return dp}()||NV)(Q(t),e)}function Bp(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new he(900,"");let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=PV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(M(i,s))}else e.push(M(r))}return e}function _u(t,e){return t[jp]=e,t.prototype[jp]=e,t}function PV(t){return t[jp]}const vu=_u(po("Inject",t=>({token:t})),-1),Be=_u(po("Optional"),8),mo=_u(po("SkipSelf"),4);class _0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ei(t){return t instanceof _0?t.changingThisBreaksApplicationSecurity:t}const n2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,r2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ze=(()=>((ze=ze||{})[ze.NONE=0]="NONE",ze[ze.HTML=1]="HTML",ze[ze.STYLE=2]="STYLE",ze[ze.SCRIPT=3]="SCRIPT",ze[ze.URL=4]="URL",ze[ze.RESOURCE_URL=5]="RESOURCE_URL",ze))();function Du(t){const e=function bu(){const t=I();return t&&t[12]}();return e?e.sanitize(ze.URL,t)||"":function Eu(t,e){const n=function XV(t){return t instanceof _0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Ei(t):function Xl(t){return(t=String(t)).match(n2)||t.match(r2)?t:"unsafe:"+t}($(t))}const A0="__ngContext__";function Lt(t,e){t[A0]=e}function Yp(t){const e=function Tu(t){return t[A0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Xp(t){return t.ngOriginalError}function C2(t,...e){t.error(...e)}class vo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function T2(t){return t&&t.ngErrorLogger||C2}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xp(e);for(;n&&Xp(n);)n=Xp(n);return n||null}}const N0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_e))();function vr(t){return t instanceof Function?t():t}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();function eg(t,e){return undefined(t,e)}function Cu(t){const e=t[3];return Jn(e)?e[3]:e}function tg(t){return U0(t[13])}function ng(t){return U0(t[4])}function U0(t){for(;null!==t&&!Jn(t);)t=t[4];return t}function Eo(t,e,n,r,i){if(null!=r){let s,o=!1;Jn(r)?s=r:gr(r)&&(o=!0,r=r[0]);const a=Ge(r);0===t&&null!==n?null==i?q0(e,n,a):os(e,n,a,i||null,!0):1===t&&null!==n?os(e,n,a,i||null,!0):2===t?function J0(t,e,n){const r=ed(t,e);r&&function Q2(t,e,n,r){Pe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function X2(t,e,n,r,i){const s=n[7];s!==Ge(n)&&Eo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Su(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function ig(t,e,n){return Pe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function j0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Dp(i,-1)),n.splice(r,1)}function sg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&j0(i,r),e>0&&(t[n-1][4]=r[4]);const s=zl(t,10+e);!function B2(t,e){Su(t,e,e[Y],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function B0(t,e){if(!(256&e[2])){const n=e[Y];Pe(n)&&n.destroyNode&&Su(t,e,n,3,null,null),function q2(t){let e=t[13];if(!e)return og(t[1],t);for(;e;){let n=null;if(gr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)gr(e)&&og(e[1],e),e=e[3];null===e&&(e=t),gr(e)&&og(e[1],e),n=e&&e[4]}e=n}}(e)}}function og(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function K2(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof uu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function W2(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ge(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Pe(e[Y])&&e[Y].destroy();const n=e[17];if(null!==n&&Jn(e[3])){n!==e[3]&&j0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function $0(t,e,n){return function H0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===pr.None||i===pr.Emulated)return null}return Vn(r,n)}(t,e.parent,n)}function os(t,e,n,r,i){Pe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function q0(t,e,n){Pe(t)?t.appendChild(e,n):e.appendChild(n)}function G0(t,e,n,r,i){null!==r?os(t,e,n,r,i):q0(t,e,n)}function ed(t,e){return Pe(t)?t.parentNode(e):e.parentNode}let K0=function W0(t,e,n){return 40&t.type?Vn(t,n):null};function td(t,e,n,r){const i=$0(t,r,e),s=e[Y],a=function z0(t,e,n){return K0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)G0(s,i,n[u],a,!1);else G0(s,i,n,a,!1)}function nd(t,e){if(null!==e){const n=e.type;if(3&n)return Vn(e,t);if(4&n)return ug(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return nd(t,r);{const i=t[e.index];return Jn(i)?ug(-1,i):Ge(i)}}if(32&n)return eg(e,t)()||Ge(t[e.index]);{const r=Y0(t,e);return null!==r?Array.isArray(r)?r[0]:nd(Cu(t[16]),r):nd(t,e.next)}}return null}function Y0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ug(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return nd(r,i)}return e[7]}function cg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Lt(Ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)cg(t,e,n.child,r,i,s,!1),Eo(e,t,i,a,s);else if(32&u){const c=eg(n,r);let l;for(;l=c();)Eo(e,t,i,l,s);Eo(e,t,i,a,s)}else 16&u?X0(t,e,r,n,i,s):Eo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Su(t,e,n,r,i,s){cg(n,r,t.firstChild,e,i,s,!1)}function X0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Eo(e,t,i,u[c],s);else cg(t,e,u,o[3],i,s,!0)}function Z0(t,e,n){Pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function lg(t,e,n){Pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function eC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const tC="ng-template";function ej(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==eC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function nC(t){return 4===t.type&&t.value!==tC}function tj(t,e,n){return e===(4!==t.type||n?t.value:tC)}function nj(t,e,n){let r=4;const i=t.attrs||[],s=function sj(t){for(let e=0;e<t.length;e++)if(qT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!tj(t,u,n)||""===u&&1===e.length){if(Zn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ej(t.attrs,c,n)){if(Zn(r))return!1;o=!0}continue}const d=rj(8&r?"class":u,i,nC(t),n);if(-1===d){if(Zn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==eC(f,c,0)||2&r&&c!==h){if(Zn(r))return!1;o=!0}}}}else{if(!o&&!Zn(r)&&!Zn(u))return!1;if(o&&Zn(u))continue;o=!1,r=u|1&r}}return Zn(r)||o}function Zn(t){return 0==(1&t)}function rj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function oj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function rC(t,e,n=!1){for(let r=0;r<e.length;r++)if(nj(t,e[r],n))return!0;return!1}function iC(t,e){return t?":not("+e.trim()+")":e}function uj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Zn(o)&&(e+=iC(s,i),i=""),r=o,s=s||!Zn(r);n++}return""!==i&&(e+=iC(s,i)),e}const H={};function Ut(t){sC(oe(),I(),Qt()+t,Nl())}function sC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Ul(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Vl(e,s,0,n)}vi(n)}function rd(t,e){return t<<17|e<<2}function er(t){return t>>17&32767}function dg(t){return 2|t}function qr(t){return(131068&t)>>2}function hg(t,e){return-131069&t|e<<2}function fg(t){return 1|t}function mC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ap(i),o.contentQueries(2,e[s],s)}}}function Au(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,MT(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[Y]=a||t&&t[Y],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Io(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ig(t,e,n,r,i){const s=PT(),o=bp(),u=t.data[e]=function Cj(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function KU(){return j.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function au(){const t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return mr(s,!0),s}function Do(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xu(t,e,n){Ol(e);try{const r=t.viewQuery;null!==r&&Mg(1,r,n);const i=t.template;null!==i&&yC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mC(t,e),t.staticViewQueries&&Mg(2,t.viewQuery,n);const s=t.components;null!==s&&function Dj(t,e){for(let n=0;n<e.length;n++)qj(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Fl()}}function bo(t,e,n,r){const i=e[2];if(256==(256&i))return;Ol(e);const s=Nl();try{MT(e),function OT(t){return j.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&yC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Ul(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Vl(e,c,0,null),xp(e,0)}if(function $j(t){for(let e=tg(t);null!==e;e=ng(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Dp(s,1),i[2]|=1024}}}(e),function Bj(t){for(let e=tg(t);null!==e;e=ng(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Ip(r)&&bo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&mC(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Ul(e,c)}else{const c=t.contentHooks;null!==c&&Vl(e,c,1),xp(e,1)}!function Ej(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)vi(~i);else{const s=i,o=n[++r],a=n[++r];QU(o,s),a(2,e[s])}}}finally{vi(-1)}}(t,e);const a=t.components;null!==a&&function Ij(t,e){for(let n=0;n<e.length;n++)Hj(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Mg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Ul(e,c)}else{const c=t.viewHooks;null!==c&&Vl(e,c,2),xp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Dp(e[3],-1))}finally{Fl()}}function bj(t,e,n,r){const i=e[10],s=!Nl(),o=function RT(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&xu(t,e,r),bo(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function yC(t,e,n,r,i){const s=Qt(),o=2&r;try{vi(-1),o&&e.length>20&&sC(t,e,20,Nl()),n(r,i)}finally{vi(s)}}function _C(t,e,n){if(mp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Dg(t,e,n){!kT()||(function Nj(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||lu(n,e),Lt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Xn(u);c&&Uj(e,n,u);const l=du(e,t,a,n);Lt(l,e),null!==o&&Vj(0,a-i,l,u,0,o),c&&(Dn(n.index,e)[8]=l)}}(t,e,n,Vn(n,e)),128==(128&n.flags)&&function Pj(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function YU(){return j.lFrame.currentDirectiveIndex}();try{vi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];Cp(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&CC(c,l)}}finally{vi(-1),Cp(a)}}(t,e,n))}function bg(t,e,n=Vn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function vC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=od(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function od(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function Tj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:H);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function DC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Cn(t,e,n,r,i,s,o,a){const u=Vn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(FC(t,n,l,r,i),Rl(e)&&function xj(t,e){const n=Dn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function Aj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Pe(s)?s.setProperty(u,r,i):Mp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Tg(t,e,n,r){let i=!1;if(kT()){const s=function Oj(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];rC(n,o.selectors,!1)&&(i||(i=[]),ql(lu(n,e),t,o.type),Xn(o)?(SC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,AC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Do(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Bl(n.mergedAttrs,d.hostAttrs),xC(t,n,e,c,d),Lj(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function Sj(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||nC(e)?null:jj(d,s);o.push(h),a=DC(d,c,a),u=DC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function Fj(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new he(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Bl(n.mergedAttrs,n.attrs),i}function TC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function kj(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function CC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function SC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Lj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function AC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xC(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=is(i.type)),o=new uu(s,Xn(i),null);t.blueprint[r]=o,n[r]=o,TC(t,e,0,r,Do(t,n,i.hostVars,H),i)}function Uj(t,e,n){const r=Vn(e,t),i=vC(n),s=t[10],o=ad(t,Au(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Vj(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function jj(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function RC(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Hj(t,e){const n=Dn(e,t);if(Ip(n)){const r=n[1];80&n[2]?bo(r,n,r.template,n[8]):n[5]>0&&Sg(n)}}function Sg(t){for(let r=tg(t);null!==r;r=ng(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];bo(o,s,o.template,s[8])}else s[5]>0&&Sg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Dn(n[r],t);Ip(i)&&i[5]>0&&Sg(i)}}function qj(t,e){const n=Dn(e,t),r=n[1];(function Gj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),xu(r,n,n[8])}function ad(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ag(t){for(;t;){t[2]|=64;const e=Cu(t);if(xU(t)&&!e)return t;t=e}return null}function Rg(t,e,n){const r=e[10];r.begin&&r.begin();try{bo(t,e,t.template,n)}catch(i){throw OC(e,i),i}finally{r.end&&r.end()}}function MC(t){!function xg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Yp(n),i=r[1];bj(i,r,i.template,n)}}(t[8])}function Mg(t,e,n){Ap(0),e(t,n)}const Qj=(()=>Promise.resolve(null))();function kC(t){return t[7]||(t[7]=[])}function NC(t){return t.cleanup||(t.cleanup=[])}function OC(t,e){const n=t[9],r=n?n.get(vo,null):null;r&&r.handleError(e)}function FC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Gr(t,e,n){const r=kl(e,t);!function V0(t,e,n){Pe(t)?t.setValue(e,n):e.textContent=n}(t[Y],r,n)}function ud(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=op(i,a):2==s&&(r=op(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const kg=new X("INJECTOR",-1);class LC{get(e,n=mu){if(n===mu){const r=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw r.name="NullInjectorError",r}return n}}const Ng=new X("Set Injector scope."),Ru={},Xj={};let Pg;function UC(){return void 0===Pg&&(Pg=new LC),Pg}function VC(t,e=null,n=null,r){const i=jC(t,e,n,r);return i._resolveInjectorDefTypes(),i}function jC(t,e=null,n=null,r){return new Zj(t,n,e||UC(),r)}class Zj{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&yr(n,a=>this.processProvider(a,e,n)),yr([e],a=>this.processInjectorType(a,[],s)),this.records.set(kg,To(void 0,this));const o=this.records.get(Ng);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ge(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=mu,r=z.Default){this.assertNotDestroyed();const i=c0(this),s=gi(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function aB(t){return"function"==typeof t||"object"==typeof t&&t instanceof X}(e)&&cp(e);a=u&&this.injectableDefInScope(u)?To(Og(e),Ru):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?UC():this.parent).get(e,n=r&z.Optional&&n===mu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Kl]=o[Kl]||[]).unshift(ge(e)),i)throw o;return function OV(t,e,n,r){const i=t[Kl];throw e[u0]&&i.unshift(e[u0]),t.message=function FV(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ge(e);if(Array.isArray(e))i=e.map(ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(RV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Kl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{gi(s),c0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ge(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,"")}processInjectorType(e,n,r){if(!(e=Q(e)))return!1;let i=gT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=gT(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{yr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];yr(f,p=>this.processProvider(p,h,f||we))}}this.injectorDefTypes.add(o);const u=is(o)||(()=>new o);this.records.set(o,To(u,Ru));const c=i.providers;if(null!=c&&!a){const l=e;yr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Co(e=Q(e))?e:Q(e&&e.provide);const s=function tB(t,e,n){return $C(t)?To(void 0,t.useValue):To(function BC(t,e,n){let r;if(Co(t)){const i=Q(t);return is(i)||Og(i)}if($C(t))r=()=>Q(t.useValue);else if(function rB(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Bp(t.deps||[]));else if(function nB(t){return!(!t||!t.useExisting)}(t))r=()=>M(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function sB(t){return!!t.deps}(t))return is(i)||Og(i);r=()=>new i(...Bp(t.deps))}return r}(t),Ru)}(e);if(Co(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=To(void 0,Ru,!0),o.factory=()=>Bp(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Ru&&(n.value=Xj,n.value=n.factory()),"object"==typeof n.value&&n.value&&function oB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Og(t){const e=cp(t),n=null!==e?e.factory:is(t);if(null!==n)return n;if(t instanceof X)throw new he(204,"");if(t instanceof Function)return function eB(t){const e=t.length;if(e>0)throw function gu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new he(204,"");const n=function mU(t){const e=t&&(t[Tl]||t[mT]);if(e){const n=function yU(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new he(204,"")}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $C(t){return null!==t&&"object"==typeof t&&kV in t}function Co(t){return"function"==typeof t}let rt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return VC({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return VC({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=mu,t.NULL=new LC,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>M(kg)}),t.__NG_ELEMENT_ID__=-1,t})();function gB(t,e){Ll(Yp(t)[1],tt())}let cd=null;function So(){if(!cd){const t=_e.Symbol;if(t&&t.iterator)cd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(cd=r)}}}return cd}function Mu(t){return!!Vg(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function Vg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xo(t,e,n,r){return Vt(t,oo(),n)?e+$(n)+r:H}function Ro(t,e,n,r,i,s){const a=function as(t,e,n,r){const i=Vt(t,e,n);return Vt(t,e+1,r)||i}(t,function $r(){return j.lFrame.bindingIndex}(),n,i);return Hr(2),a?e+$(n)+r+$(i)+s:H}function us(t,e,n,r,i,s,o,a){const u=I(),c=oe(),l=t+20,d=c.firstCreatePass?function CB(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Io(e,t,4,o||null,_i(c,a));Tg(e,n,l,_i(c,u)),Ll(e,l);const d=l.tViews=od(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];mr(d,!1);const h=u[Y].createComment("");td(c,u,h,d),Lt(h,u),ad(u,u[l]=RC(h,u,h,d)),Ml(d)&&Dg(c,u,d),null!=o&&bg(u,d,a)}function O(t,e=z.Default){const n=I();return null===n?M(t,e):JT(tt(),n,Q(t),e)}function Gg(){throw new Error("invalid")}function bi(t,e,n){const r=I();return Vt(r,oo(),e)&&Cn(oe(),Oe(),r,t,e,r[Y],n,!1),bi}function zg(t,e,n,r,i){const o=i?"class":"style";FC(t,n,e.inputs[o],o,r)}function Se(t,e,n,r){const i=I(),s=oe(),o=20+t,a=i[Y],u=i[o]=ig(a,e,function iV(){return j.lFrame.currentNamespace}()),c=s.firstCreatePass?function KB(t,e,n,r,i,s,o){const a=e.consts,c=Io(e,t,2,i,_i(a,s));return Tg(e,n,c,_i(a,o)),null!==c.attrs&&ud(c,c.attrs,!1),null!==c.mergedAttrs&&ud(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];mr(c,!0);const l=c.mergedAttrs;null!==l&&jl(a,u,l);const d=c.classes;null!==d&&lg(a,u,d);const h=c.styles;null!==h&&Z0(a,u,h),64!=(64&c.flags)&&td(s,i,u,c),0===function $U(){return j.lFrame.elementDepthCount}()&&Lt(u,i),function HU(){j.lFrame.elementDepthCount++}(),Ml(c)&&(Dg(s,i,c),_C(s,c,i)),null!==r&&bg(i,c)}function Ae(){let t=tt();bp()?Tp():(t=t.parent,mr(t,!1));const e=t;!function qU(){j.lFrame.elementDepthCount--}();const n=oe();n.firstCreatePass&&(Ll(n,t),mp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function cV(t){return 0!=(16&t.flags)}(e)&&zg(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lV(t){return 0!=(32&t.flags)}(e)&&zg(n,e,I(),e.stylesWithoutHost,!1)}function Ir(t,e,n,r){Se(t,e,n,r),Ae()}function hd(t){return!!t&&"function"==typeof t.then}const DS=function IS(t){return!!t&&"function"==typeof t.subscribe};function Nu(t,e,n,r){const i=I(),s=oe(),o=tt();return function TS(t,e,n,r,i,s,o,a){const u=Ml(r),l=t.firstCreatePass&&NC(t),d=e[8],h=kC(e);let f=!0;if(3&r.type||a){const _=Vn(r,e),v=a?a(_):_,y=h.length,T=a?k=>a(Ge(k[r.index])):r.index;if(Pe(n)){let k=null;if(!a&&u&&(k=function JB(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1;else{s=Qg(r,e,d,s,!1);const W=n.listen(v,i,s);h.push(s,W),l&&l.push(i,T,y,y+1)}}else s=Qg(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),l&&l.push(i,T,y,o)}else s=Qg(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let v=0;v<_;v+=2){const lt=e[m[v]][m[v+1]].subscribe(s),Pn=h.length;h.push(s,lt),l&&l.push(i,r.index,Pn,-(Pn+1))}}}(s,i,i[Y],o,t,e,!!n,r),Nu}function CS(t,e,n,r){try{return!1!==n(r)}catch(i){return OC(t,i),!1}}function Qg(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Dn(t.index,e):e;0==(32&e[2])&&Ag(a);let u=CS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=CS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Pu(t=1){return function XU(t){return(j.lFrame.contextLView=function ZU(t,e){for(;t>0;)e=e[15],t--;return e}(t,j.lFrame.contextLView))[8]}(t)}function Ou(t,e,n,r,i){const s=I(),o=xo(s,e,n,r);return o!==H&&Cn(oe(),Oe(),s,t,o,s[Y],i,!1),Ou}function FS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?er(s):qr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];r$(t[a],e)&&(u=!0,t[a+1]=r?fg(l):dg(l)),a=r?er(l):qr(l)}u&&(t[n+1]=r?dg(s):fg(s))}function r$(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&go(t,e)>=0}const it={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LS(t){return t.substring(it.key,it.keyEnd)}function US(t,e){const n=it.textEnd;return n===e?-1:(e=it.keyEnd=function a$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,it.key=e,n),Uo(t,e,n))}function Uo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Yg(t){rr(bn,br,t,!0)}function br(t,e){for(let n=function s$(t){return function jS(t){it.key=0,it.keyEnd=0,it.value=0,it.valueEnd=0,it.textEnd=t.length}(t),US(t,Uo(t,0,it.textEnd))}(e);n>=0;n=US(e,n))bn(t,LS(e),!0)}function rr(t,e,n,r){const i=oe(),s=Hr(2);i.firstUpdatePass&&function zS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Qt()],o=GS(t,n);YS(s,r)&&null===e&&!o&&(e=!1),e=function d$(t,e,n,r){const i=function Sp(t){const e=j.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fu(n=Jg(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Jg(i,t,e,n,r),null===s){let u=function h$(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==qr(r))return t[er(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Jg(null,t,e,u[1],r),u=Fu(u,e.attrs,r),function f$(t,e,n,r){t[er(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function p$(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Fu(r,t[s].hostAttrs,n);return Fu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function t$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=er(o),u=qr(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||go(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=er(t[a+1]);t[r+1]=rd(h,a),0!==h&&(t[h+1]=hg(t[h+1],r)),t[a+1]=function dj(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=rd(a,0),0!==a&&(t[a+1]=hg(t[a+1],r)),a=r;else t[r+1]=rd(u,0),0===a?a=r:t[u+1]=hg(t[u+1],r),u=r;c&&(t[r+1]=dg(t[r+1])),FS(t,l,r,!0),FS(t,l,r,!1),function n$(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&go(s,e)>=0&&(n[r+1]=fg(n[r+1]))}(e,l,t,r,s),o=rd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=I();if(n!==H&&Vt(o,s,n)){const a=i.data[Qt()];if(YS(a,r)&&!GS(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=op(u,n||"")),zg(i,a,o,n,r)}else!function m$(t,e,n,r,i,s,o,a){i===H&&(i=we);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&KS(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[Y],o[s+1],o[s+1]=function g$(t,e,n){if(null==n||""===n)return we;const r=[],i=Ei(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function GS(t,e){return e>=t.expandoStartIndex}function Jg(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Fu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Fu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,o,!!n||e[++s]))}return void 0===t?null:t}function KS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];fd(function uC(t){return 1==(1&t)}(c)?QS(u,e,n,i,qr(c),o):void 0)||(fd(s)||function aC(t){return 2==(2&t)}(c)&&(s=QS(u,null,n,i,a,o)),function Z2(t,e,n,r,i){const s=Pe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Tn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Tn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,kl(Qt(),n),i,s))}function QS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===H&&(h=d?we:void 0);let f=d?Up(h,r):l===r?h:void 0;if(c&&!fd(f)&&(f=Up(u,r)),fd(f)&&(a=f,o))return a;const p=t[i+1];i=o?er(p):qr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Up(u,r))}return a}function fd(t){return void 0!==t}function YS(t,e){return 0!=(t.flags&(e?16:32))}function Tr(t,e=""){const n=I(),r=oe(),i=t+20,s=r.firstCreatePass?Io(r,i,1,e,null):r.data[i],o=n[i]=function rg(t,e){return Pe(t)?t.createText(e):t.createTextNode(e)}(n[Y],e);td(r,n,o,s),mr(s,!1)}function Xg(t){return Ti("",t,""),Xg}function Ti(t,e,n){const r=I(),i=xo(r,t,e,n);return i!==H&&Gr(r,Qt(),i),Ti}function Zg(t,e,n,r,i){const s=I(),o=Ro(s,t,e,n,r,i);return o!==H&&Gr(s,Qt(),o),Zg}const cs=void 0;var F$=["en",[["a","p"],["AM","PM"],cs],[["AM","PM"],cs,cs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cs,"{1} 'at' {0}",cs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function O$(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Vo={};function yA(t){return t in Vo||(Vo[t]=_e.ng&&_e.ng.common&&_e.ng.common.locales&&_e.ng.common.locales[t]),Vo[t]}var x=(()=>((x=x||{})[x.LocaleId=0]="LocaleId",x[x.DayPeriodsFormat=1]="DayPeriodsFormat",x[x.DayPeriodsStandalone=2]="DayPeriodsStandalone",x[x.DaysFormat=3]="DaysFormat",x[x.DaysStandalone=4]="DaysStandalone",x[x.MonthsFormat=5]="MonthsFormat",x[x.MonthsStandalone=6]="MonthsStandalone",x[x.Eras=7]="Eras",x[x.FirstDayOfWeek=8]="FirstDayOfWeek",x[x.WeekendRange=9]="WeekendRange",x[x.DateFormat=10]="DateFormat",x[x.TimeFormat=11]="TimeFormat",x[x.DateTimeFormat=12]="DateTimeFormat",x[x.NumberSymbols=13]="NumberSymbols",x[x.NumberFormats=14]="NumberFormats",x[x.CurrencyCode=15]="CurrencyCode",x[x.CurrencySymbol=16]="CurrencySymbol",x[x.CurrencyName=17]="CurrencyName",x[x.Currencies=18]="Currencies",x[x.Directionality=19]="Directionality",x[x.PluralCase=20]="PluralCase",x[x.ExtraData=21]="ExtraData",x))();const pd="en-US";let _A=pd;class HA{}class VH{resolveComponentFactory(e){throw function UH(t){const e=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Bo=(()=>{class t{}return t.NULL=new VH,t})();function jH(){return $o(tt(),I())}function $o(t,e){return new Ci(Vn(t,e))}let Ci=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=jH,t})();class GA{}let qH=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class Bu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zA=new Bu("13.1.3"),om={};function wd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ge(s)),Jn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&wd(u[1],u,c,r)}const o=n.type;if(8&o)wd(t,e,n.child,r);else if(32&o){const a=eg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Y0(e,n);if(Array.isArray(a))r.push(...a);else{const u=Cu(e[16]);wd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class $u{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return wd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Jn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sg(e,r),zl(n,r))}this._attachedToViewContainer=!1}B0(this._lView[1],this._lView)}onDestroy(e){!function IC(t,e,n,r){const i=kC(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&NC(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Ag(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Wj(t,e,n){Pl(!0);try{Rg(t,e,n)}finally{Pl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new he(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function H2(t,e){Su(t,e,e[Y],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,"");this._appRef=e}}class GH extends $u{constructor(e){super(e),this._view=e}detectChanges(){MC(this._view)}checkNoChanges(){!function Kj(t){Pl(!0);try{MC(t)}finally{Pl(!1)}}(this._view)}get context(){return null}}class WA extends Bo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ot(e);return new am(n,this.ngModule)}}function KA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const WH=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>N0});class am extends HA{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function cj(t){return t.map(uj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return KA(this.componentDef.inputs)}get outputs(){return KA(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function KH(t,e){return{get:(n,r,i)=>{const s=t.get(n,om,i);return s!==om||r===om?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(GA,xT),a=s.get(qH,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function EC(t,e,n){if(Pe(t))return t.selectRootElement(e,n===pr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):ig(o.createRenderer(null,this.componentDef),c,function zH(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function ZC(t,e){return{components:[],scheduler:t||N0,clean:Qj,playerHandler:e||null,flags:0}}(),f=od(0,null,null,1,0,null,null,null,null,null),p=Au(null,f,h,d,null,null,o,u,a,s);let m,_;Ol(p);try{const v=function JC(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Io(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(ud(u,c,!0),null!==t&&(jl(i,t,c),null!==u.classes&&lg(i,t,u.classes),null!==u.styles&&Z0(i,t,u.styles)));const l=r.createRenderer(t,e),d=Au(n,vC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(ql(lu(u,n),o,e.type),SC(o,u),AC(u,n.length,1)),ad(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)jl(u,l,["ng-version",zA.full]);else{const{attrs:y,classes:T}=function lj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Zn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&jl(u,l,y),T&&T.length>0&&lg(u,l,T.join(" "))}if(_=Ep(f,20),void 0!==n){const y=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const k=n[T];y.push(null!=k?Array.from(k):null)}}m=function XC(t,e,n,r,i){const s=n[1],o=function Mj(t,e,n){const r=tt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xC(t,r,e,Do(t,e,1,null),n));const i=du(e,t,r.directiveStart,r);Lt(i,e);const s=Vn(r,e);return s&&Lt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=tt();e.contentQueries(1,o,u.directiveStart)}const a=tt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(vi(a.index),TC(n[1],a,0,a.directiveStart,a.directiveEnd,e),CC(e,o)),o}(v,this.componentDef,p,h,[gB]),xu(f,p,null)}finally{Fl()}return new YH(this.componentType,m,$o(_,p),p,_)}}class YH extends class LH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new GH(i),this.componentType=e}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class zr{}class QA{}const Ho=new Map;class XA extends zr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new WA(this);const r=Fn(e);this._bootstrapComponents=vr(r.bootstrap),this._r3Injector=jC(e,n,[{provide:zr,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver}],ge(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=rt.THROW_IF_NOT_FOUND,r=z.Default){return e===rt||e===zr||e===kg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class um extends QA{constructor(e){super(),this.moduleType=e,null!==Fn(e)&&function XH(t){const e=new Set;!function n(r){const i=Fn(r,!0),s=i.id;null!==s&&(function YA(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ge(e)} vs ${ge(e.name)}`)}(s,Ho.get(s),r),Ho.set(s,r));const o=vr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new XA(this.moduleType,e)}}function cm(t){return e=>{setTimeout(t,void 0,e)}}const Xt=class mq extends Fr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=cm(u),a&&(a=cm(a)),c&&(c=cm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof qe&&e.add(l),l}};Symbol;let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=wq,t})();const _q=Wr,vq=class extends _q{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Au(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),xu(n,r,e),new $u(r)}};function wq(){return function Ed(t,e){return 4&t.type?new vq(e,t,$o(t,e)):null}(tt(),I())}let ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=Eq,t})();function Eq(){return function ox(t,e){let n;const r=e[t.index];if(Jn(r))n=r;else{let i;if(8&t.type)i=Ge(r);else{const s=e[Y];i=s.createComment("");const o=Vn(t,e);os(s,ed(s,o),i,function Y2(t,e){return Pe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=RC(r,e,i,t),ad(e,n)}return new ix(n,t,e)}(tt(),I())}const Iq=ir,ix=class extends Iq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $o(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hl(this._hostTNode,this._hostLView);if(zT(e)){const n=uo(e,this._hostLView),r=ao(e);return new co(n[1].data[r+8],n)}return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=sx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function pu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new am(Ot(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(zr,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function BU(t){return Jn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new ix(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function G2(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],n0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function z2(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=ug(s,o),u=r[Y],c=ed(u,o[7]);return null!==c&&function $2(t,e,n,r,i,s){r[0]=i,r[6]=e,Su(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),n0(dm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=sx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sg(this._lContainer,n);r&&(zl(dm(this._lContainer),n),B0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=sg(this._lContainer,n);return r&&null!=zl(dm(this._lContainer),n)?new $u(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function sx(t){return t[8]}function dm(t){return t[8]||(t[8]=[])}function bd(...t){}const Td=new X("Application Initializer");let Go=(()=>{class t{constructor(n){this.appInits=n,this.resolve=bd,this.reject=bd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(hd(s))n.push(s);else if(DS(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(M(Td,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const zu=new X("AppId"),Yq={provide:zu,useFactory:function Qq(){return`${Tm()}${Tm()}${Tm()}`},deps:[]};function Tm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ax=new X("Platform Initializer"),zo=new X("Platform ID"),xx=new X("appBootstrapListener");let Rx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Si=new X("LocaleId"),Mx=new X("DefaultCurrencyCode");class Jq{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Cd=(()=>{class t{compileModuleSync(n){return new um(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=vr(Fn(n).declarations).reduce((o,a)=>{const u=Ot(a);return u&&o.push(new am(u)),o},[]);return new Jq(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Zq=(()=>Promise.resolve(0))();function Cm(t){"undefined"==typeof Zone?Zq.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xt(!1),this.onMicrotaskEmpty=new Xt(!1),this.onStable=new Xt(!1),this.onError=new Xt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function eG(){let t=_e.requestAnimationFrame,e=_e.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function rG(t){const e=()=>{!function nG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Am(t),t.isCheckStableRunning=!0,Sm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Am(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return kx(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Nx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return kx(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Nx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Am(t),Sm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,tG,bd,bd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const tG={};function Sm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Am(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function kx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nx(t){t._nesting--,Sm(t)}class iG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xt,this.onMicrotaskEmpty=new Xt,this.onStable=new Xt,this.onError=new Xt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let xm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),Cm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(M(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Px=(()=>{class t{constructor(){this._applications=new Map,Rm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Rm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class sG{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let sr,Rm=new sG;const Ox=new X("AllowMultipleToken");class Fx{constructor(e,n){this.name=e,this.token=n}}function Lx(t,e,n=[]){const r=`Platform: ${e}`,i=new X(r);return(s=[])=>{let o=Ux();if(!o||o.injector.get(Ox,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Ng,useValue:"platform"});!function cG(t){if(sr&&!sr.destroyed&&!sr.injector.get(Ox,!1))throw new he(400,"");sr=t.get(Vx);const e=t.get(Ax,null);e&&e.forEach(n=>n())}(rt.create({providers:a,name:r}))}return function lG(t){const e=Ux();if(!e)throw new he(401,"");return e}()}}function Ux(){return sr&&!sr.destroyed?sr:null}let Vx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function dG(t,e){let n;return n="noop"===t?new iG:("zone.js"===t?void 0:t)||new Me({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Me,useValue:a}];return a.run(()=>{const c=rt.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(vo,null);if(!d)throw new he(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Mm(this._modules,l),h.unsubscribe()})}),function hG(t,e,n){try{const r=n();return hd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Go);return h.runInitializers(),h.donePromise.then(()=>(function B$(t){wn(t,"Expected localeId to be defined"),"string"==typeof t&&(_A=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Si,pd)||pd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=jx({},r);return function aG(t,e,n){const r=new um(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Wu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new he(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(M(rt))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function jx(t,e){return Array.isArray(e)?e.reduce(jx,t):Object.assign(Object.assign({},t),e)}let Wu=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ee(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Ee(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),Cm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function lU(...t){const e=nu(t),n=function rU(t,e){return"number"==typeof rp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Lr(r[0]):tu(n)(Dt(r,e)):Vr}(a,u.pipe(hT()))}bootstrap(n,r){if(!this._initStatus.done)throw new he(405,"");let i;i=n instanceof HA?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function uG(t){return t.isBoundToModule}(i)?void 0:this._injector.get(zr),a=i.create(rt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(xm,null),l=c&&a.injector.get(Px);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Mm(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new he(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Mm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(xx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(M(Me),M(rt),M(vo),M(Bo),M(Go))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function Mm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let $x=!0,km=(()=>{class t{}return t.__NG_ELEMENT_ID__=gG,t})();function gG(t){return function mG(t,e,n){if(Rl(t)&&!n){const r=Dn(t.index,e);return new $u(r,r)}return 47&t.type?new $u(e[16],e):null}(tt(),I(),16==(16&t))}class Qx{constructor(){}supports(e){return Mu(e)}create(e){return new IG(e)}}const EG=(t,e)=>e;class IG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||EG}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Jx(r,i,s)?n:r,a=Jx(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Mu(e))throw new he(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function TB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new DG(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Yx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class DG{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Yx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new bG,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Xx{constructor(){}supports(e){return e instanceof Map||Vg(e)}create(){return new TG}}class TG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Vg(e)))throw new he(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new CG(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class CG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zx(){return new Ku([new Qx])}let Ku=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Zx()),deps:[[t,new mo,new Be]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new he(901,"")}}return t.\u0275prov=G({token:t,providedIn:"root",factory:Zx}),t})();function eR(){return new Wo([new Xx])}let Wo=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||eR()),deps:[[t,new mo,new Be]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new he(901,"")}}return t.\u0275prov=G({token:t,providedIn:"root",factory:eR}),t})();const SG=[new Xx],xG=new Ku([new Qx]),RG=new Wo(SG),MG=Lx(null,"core",[{provide:zo,useValue:"unknown"},{provide:Vx,deps:[rt]},{provide:Px,deps:[]},{provide:Rx,deps:[]}]),FG=[{provide:Wu,useClass:Wu,deps:[Me,rt,vo,Bo,Go]},{provide:WH,deps:[Me],useFactory:function LG(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Go,useClass:Go,deps:[[new Be,Td]]},{provide:Cd,useClass:Cd,deps:[]},Yq,{provide:Ku,useFactory:function kG(){return xG},deps:[]},{provide:Wo,useFactory:function NG(){return RG},deps:[]},{provide:Si,useFactory:function PG(t){return t||function OG(){return"undefined"!=typeof $localize&&$localize.locale||pd}()},deps:[[new vu(Si),new Be,new mo]]},{provide:Mx,useValue:"USD"}];let UG=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(M(Wu))},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:FG}),t})(),Ad=null;function Ai(){return Ad}const Sn=new X("DocumentToken");let ds=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return function $G(){return M(tR)}()},providedIn:"platform"}),t})();const HG=new X("Location Initialized");let tR=(()=>{class t extends ds{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ai().getBaseHref(this._doc)}onPopState(n){const r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){nR()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){nR()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(M(Sn))},t.\u0275prov=G({token:t,factory:function(){return function qG(){return new tR(M(Sn))}()},providedIn:"platform"}),t})();function nR(){return!!window.history.pushState}function Lm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function rR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let Ko=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return function GG(t){const e=M(Sn).location;return new iR(M(ds),e&&e.origin||"")}()},providedIn:"root"}),t})();const Um=new X("appBaseHref");let iR=(()=>{class t extends Ko{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(M(ds),M(Um,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),zG=(()=>{class t extends Ko{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Lm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(M(ds),M(Um,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Vm=(()=>{class t{constructor(n,r){this._subject=new Xt,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=rR(sR(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function KG(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,sR(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Kr,t.joinWithSlash=Lm,t.stripTrailingSlash=rR,t.\u0275fac=function(n){return new(n||t)(M(Ko),M(ds))},t.\u0275prov=G({token:t,factory:function(){return function WG(){return new Vm(M(Ko),M(ds))}()},providedIn:"root"}),t})();function sR(t){return t.replace(/\/index.html$/,"")}var We=(()=>((We=We||{})[We.Zero=0]="Zero",We[We.One=1]="One",We[We.Two=2]="Two",We[We.Few=3]="Few",We[We.Many=4]="Many",We[We.Other=5]="Other",We))();const tz=function mA(t){return function Jt(t){const e=function L$(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=yA(e);if(n)return n;const r=e.split("-")[0];if(n=yA(r),n)return n;if("en"===r)return F$;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[x.PluralCase]};class Ud{}let Rz=(()=>{class t extends Ud{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(tz(r||this.locale)(n)){case We.Zero:return"zero";case We.One:return"one";case We.Two:return"two";case We.Few:return"few";case We.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(M(Si))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function pR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class Nz{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Km=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Nz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),gR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{gR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(O(ir),O(Wr),O(Ku))},t.\u0275dir=Pt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function gR(t,e){t.context.$implicit=e.item}let mR=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Pz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){yR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){yR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(O(ir),O(Wr))},t.\u0275dir=Pt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Pz{constructor(){this.$implicit=null,this.ngIf=null}}function yR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ge(e)}'.`)}let aW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:[{provide:Ud,useClass:Rz}]}),t})();let dW=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new hW(M(Sn),window)}),t})();class hW{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function fW(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ER(this.window.history)||ER(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ER(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class IR{}class Zm extends class pW extends class BG{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function jG(t){Ad||(Ad=t)}(new Zm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function gW(){return Ju=Ju||document.querySelector("base"),Ju?Ju.getAttribute("href"):null}();return null==n?null:function mW(t){Vd=Vd||document.createElement("a"),Vd.setAttribute("href",t);const e=Vd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pR(document.cookie,e)}}let Vd,Ju=null;const DR=new X("TRANSITION_ID"),_W=[{provide:Td,useFactory:function yW(t,e,n){return()=>{n.get(Go).donePromise.then(()=>{const r=Ai(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[DR,Sn,rt],multi:!0}];class ey{static init(){!function oG(t){Rm=t}(new ey)}addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Ai().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let vW=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const jd=new X("EventManagerPlugins");let Bd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(M(jd),M(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class bR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ai().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let TR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Xu=(()=>{class t extends TR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(CR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(CR))}}return t.\u0275fac=function(n){return new(n||t)(M(Sn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function CR(t){Ai().remove(t)}const ty={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ny=/%COMP%/g;function $d(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$d(t,i,n):(i=i.replace(ny,t),n.push(i))}return n}function xR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ry=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new iy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case pr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new TW(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case pr.ShadowDom:return new CW(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=$d(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(M(Bd),M(Xu),M(zu))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class iy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(ty[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=ty[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ty[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,xR(r)):this.eventManager.addEventListener(e,n,xR(r))}}class TW extends iy{constructor(e,n,r,i){super(e),this.component=r;const s=$d(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function IW(t){return"_ngcontent-%COMP%".replace(ny,t)}(i+"-"+r.id),this.hostAttr=function DW(t){return"_nghost-%COMP%".replace(ny,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class CW extends iy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$d(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let SW=(()=>{class t extends bR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(M(Sn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const MR=["alt","control","meta","shift"],xW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kR={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},RW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let MW=(()=>{class t extends bR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(MR.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function kW(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&kR.hasOwnProperty(e)&&(e=kR[e]))}return xW[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),MR.forEach(s=>{s!=i&&RW[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(M(Sn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const FW=Lx(MG,"browser",[{provide:zo,useValue:"browser"},{provide:Ax,useValue:function NW(){Zm.makeCurrent(),ey.init()},multi:!0},{provide:Sn,useFactory:function OW(){return function LU(t){vp=t}(document),document},deps:[]}]),LW=[{provide:Ng,useValue:"root"},{provide:vo,useFactory:function PW(){return new vo},deps:[]},{provide:jd,useClass:SW,multi:!0,deps:[Sn,Me,zo]},{provide:jd,useClass:MW,multi:!0,deps:[Sn]},{provide:ry,useClass:ry,deps:[Bd,Xu,zu]},{provide:GA,useExisting:ry},{provide:TR,useExisting:Xu},{provide:Xu,useClass:Xu,deps:[Sn]},{provide:xm,useClass:xm,deps:[Me]},{provide:Bd,useClass:Bd,deps:[jd,Me]},{provide:IR,useClass:vW,deps:[]}];let UW=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:zu,useValue:n.appId},{provide:DR,useExisting:zu},_W]}}}return t.\u0275fac=function(n){return new(n||t)(M(t,12))},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:LW,imports:[aW,UG]}),t})();function K(...t){return Dt(t,nu(t))}"undefined"!=typeof window&&window;class ur extends Fr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:QW}=Array,{getPrototypeOf:YW,prototype:JW,keys:XW}=Object;const{isArray:t3}=Array;function s3(...t){const e=nu(t),n=function nU(t){return ye(rp(t))?t.pop():void 0}(t),{args:r,keys:i}=function ZW(t){if(1===t.length){const e=t[0];if(QW(e))return{args:e,keys:null};if(function e3(t){return t&&"object"==typeof t&&YW(t)===JW}(e)){const n=XW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Dt([],e);const s=new Ee(function o3(t,e,n=Ji){return r=>{OR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)OR(e,()=>{const c=Dt(t[u],e);let l=!1;c.subscribe(new It(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function i3(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Ji));return n?s.pipe(function r3(t){return de(e=>function n3(t,e){return t3(e)?t(...e):t(e)}(t,e))}(n)):s}function OR(t,e,n){t?Ur(n,t,e):e()}const Hd=Qs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oy(...t){return function a3(){return tu(1)}()(Dt(t,nu(t)))}function FR(t){return new Ee(e=>{Lr(t()).subscribe(e)})}function LR(){return Et((t,e)=>{let n=null;t._refCount++;const r=new It(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class u3 extends Ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Jb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;const n=this.getSubject();e.add(this.source.subscribe(new It(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return LR()(this)}}function hs(t,e){return Et((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new It(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Lr(t(u,l)).subscribe(i=new It(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function l3(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new It(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function UR(t,e){return Et(l3(t,e,arguments.length>=2,!0))}function fs(t,e){return Et((n,r)=>{let i=0;n.subscribe(new It(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ri(t){return Et((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new It(n,void 0,void 0,o=>{s=Lr(t(o,Ri(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Qo(t,e){return ye(e)?dt(t,e,1):dt(t,1)}function ay(t){return t<=0?()=>Vr:Et((e,n)=>{let r=[];e.subscribe(new It(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function VR(t=d3){return Et((e,n)=>{let r=!1;e.subscribe(new It(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function d3(){return new Hd}function jR(t){return Et((e,n)=>{let r=!1;e.subscribe(new It(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Yo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fs((i,s)=>t(i,s,r)):Ji,Dl(1),n?jR(e):VR(()=>new Hd))}function ln(t,e,n){const r=ye(t)||e||n?{next:t,error:e,complete:n}:t;return r?Et((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new It(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ji}class Yr{constructor(e,n){this.id=e,this.url=n}}class uy extends Yr{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zu extends Yr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class BR extends Yr{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class p3 extends Yr{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g3 extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m3 extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y3 extends Yr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _3 extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v3 extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $R{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class w3{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E3{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I3{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D3{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const te="primary";class b3{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Jo(t){return new b3(t)}const GR="ngNavigationCancelingError";function cy(t){const e=Error("NavigationCancelingError: "+t);return e[GR]=!0,e}function C3(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Cr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!zR(t[i],e[i]))return!1;return!0}function zR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function WR(t){return Array.prototype.concat.apply([],t)}function KR(t){return t.length>0?t[t.length-1]:null}function bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sr(t){return DS(t)?t:hd(t)?Dt(Promise.resolve(t)):K(t)}const x3={exact:function JR(t,e,n){if(!gs(t.segments,e.segments)||!qd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!JR(t.children[r],e.children[r],n))return!1;return!0},subset:XR},QR={exact:function R3(t,e){return Cr(t,e)},subset:function M3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zR(t[n],e[n]))},ignored:()=>!0};function YR(t,e,n){return x3[n.paths](t.root,e.root,n.matrixParams)&&QR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function XR(t,e,n){return ZR(t,e,e.segments,n)}function ZR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!gs(i,n)||e.hasChildren()||!qd(i,n,r))}if(t.segments.length===n.length){if(!gs(t.segments,n)||!qd(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!XR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(gs(t.segments,i)&&qd(t.segments,i,r)&&t.children[te])&&ZR(t.children[te],e,s,r)}}function qd(t,e,n){return e.every((r,i)=>QR[n](t[i].parameters,r.parameters))}class ps{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return P3.serialize(this)}}class ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,bt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gd(this)}}class ec{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Jo(this.parameters)),this._parameterMap}toString(){return iM(this)}}function gs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class eM{}class tM{parse(e){const n=new H3(e);return new ps(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${tc(e.root,!0)}`,r=function L3(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${zd(n)}=${zd(i)}`).join("&"):`${zd(n)}=${zd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function O3(t){return encodeURI(t)}(e.fragment)}`:""}`}}const P3=new tM;function Gd(t){return t.segments.map(e=>iM(e)).join("/")}function tc(t,e){if(!t.hasChildren())return Gd(t);if(e){const n=t.children[te]?tc(t.children[te],!1):"",r=[];return bt(t.children,(i,s)=>{s!==te&&r.push(`${s}:${tc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function N3(t,e){let n=[];return bt(t.children,(r,i)=>{i===te&&(n=n.concat(e(r,i)))}),bt(t.children,(r,i)=>{i!==te&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===te?[tc(t.children[te],!1)]:[`${i}:${tc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[te]?`${Gd(t)}/${n[0]}`:`${Gd(t)}/(${n.join("//")})`}}function nM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zd(t){return nM(t).replace(/%3B/gi,";")}function ly(t){return nM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wd(t){return decodeURIComponent(t)}function rM(t){return Wd(t.replace(/\+/g,"%20"))}function iM(t){return`${ly(t.path)}${function F3(t){return Object.keys(t).map(e=>`;${ly(e)}=${ly(t[e])}`).join("")}(t.parameters)}`}const U3=/^[^\/()?;=#]+/;function Kd(t){const e=t.match(U3);return e?e[0]:""}const V3=/^[^=?&#]+/,B3=/^[^&#]+/;class H3{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new ie(e,n)),r}parseSegment(){const e=Kd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ec(Wd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Kd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Kd(this.remaining);i&&(r=i,this.capture(r))}e[Wd(n)]=Wd(r)}parseQueryParam(e){const n=function j3(t){const e=t.match(V3);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function $3(t){const e=t.match(B3);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=rM(n),s=rM(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[te]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class sM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=dy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=dy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=hy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hy(e,this._root).map(n=>n.value)}}function dy(t,e){if(t===e.value)return e;for(const n of e.children){const r=dy(t,n);if(r)return r}return null}function hy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=hy(t,n);if(r.length)return r.unshift(e),r}return[]}class Jr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Xo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class oM extends sM{constructor(e,n){super(e),this.snapshot=n,fy(this,e)}toString(){return this.snapshot.toString()}}function aM(t,e){const n=function q3(t,e){const o=new Qd([],{},{},"",{},te,e,null,t.root,-1,{});return new cM("",new Jr(o,[]))}(t,e),r=new ur([new ec("",{})]),i=new ur({}),s=new ur({}),o=new ur({}),a=new ur(""),u=new Zo(r,i,o,a,s,te,e,n.root);return u.snapshot=n.root,new oM(new Jr(u,[]),n)}class Zo{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(e=>Jo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(e=>Jo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uM(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function G3(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qd{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cM extends sM{constructor(e,n){super(n),this.url=e,fy(this,n)}toString(){return lM(this._root)}}function fy(t,e){e.value._routerState=t,e.children.forEach(n=>fy(t,n))}function lM(t){const e=t.children.length>0?` { ${t.children.map(lM).join(", ")} } `:"";return`${t.value}${e}`}function py(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Cr(e.params,n.params)||t.params.next(n.params),function S3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Cr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function gy(t,e){const n=Cr(t.params,e.params)&&function k3(t,e){return gs(t,e)&&t.every((n,r)=>Cr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||gy(t.parent,e.parent))}function nc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function W3(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nc(t,r,i);return nc(t,r)})}(t,e,n);return new Jr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nc(t,a)),o}}const r=function K3(t){return new Zo(new ur(t.url),new ur(t.params),new ur(t.queryParams),new ur(t.fragment),new ur(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>nc(t,s));return new Jr(r,i)}}function Yd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rc(t){return"object"==typeof t&&null!=t&&t.outlets}function my(t,e,n,r,i){let s={};return r&&bt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new ps(n.root===t?e:dM(n.root,t,e),s,i)}function dM(t,e,n){const r={};return bt(t.children,(i,s)=>{r[s]=i===e?n:dM(i,e,n)}),new ie(t.segments,r)}class hM{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yd(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(rc);if(i&&i!==KR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yy{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function fM(t,e,n){if(t||(t=new ie([],{})),0===t.segments.length&&t.hasChildren())return Jd(t,e,n);const r=function e4(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(rc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!gM(u,c,o))return s;r+=2}else{if(!gM(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new ie(t.segments.slice(r.pathIndex),t.children),Jd(s,0,i)}return r.match&&0===i.length?new ie(t.segments,{}):r.match&&!t.hasChildren()?_y(t,e,n):r.match?Jd(t,0,i):_y(t,e,n)}function Jd(t,e,n){if(0===n.length)return new ie(t.segments,{});{const r=function Z3(t){return rc(t[0])?t[0].outlets:{[te]:t}}(n),i={};return bt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=fM(t.children[o],e,s))}),bt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ie(t.segments,i)}}function _y(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(rc(s)){const u=t4(s.outlets);return new ie(r,u)}if(0===i&&Yd(n[0])){r.push(new ec(t.segments[e].path,pM(n[0]))),i++;continue}const o=rc(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Yd(a)?(r.push(new ec(o,pM(a))),i+=2):(r.push(new ec(o,{})),i++)}return new ie(r,{})}function t4(t){const e={};return bt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=_y(new ie([],{}),0,n))}),e}function pM(t){const e={};return bt(t,(n,r)=>e[r]=`${n}`),e}function gM(t,e,n){return t==n.path&&Cr(e,n.parameters)}class r4{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),py(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Xo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),bt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Xo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new D3(s.value.snapshot))}),e.children.length&&this.forwardEvent(new E3(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(py(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),py(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function i4(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class vy{constructor(e,n){this.routes=e,this.module=n}}function Mi(t){return"function"==typeof t}function ms(t){return t instanceof ps}const ic=Symbol("INITIAL_VALUE");function sc(){return hs(t=>s3(t.map(e=>e.pipe(Dl(1),function c3(...t){const e=nu(t);return Et((n,r)=>{(e?oy(t,n,e):oy(t,n)).subscribe(r)})}(ic)))).pipe(UR((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==ic?i:(s===ic&&(r=!0),r||!1!==s&&o!==n.length-1&&!ms(s)?i:s),e)},ic),fs(e=>e!==ic),de(e=>ms(e)?e:!0===e),Dl(1)))}class l4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new oc,this.attachRef=null}}class oc{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new l4,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let wy=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Xt,this.deactivateEvents=new Xt,this.attachEvents=new Xt,this.detachEvents=new Xt,this.name=s||te,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new d4(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(O(oc),O(ir),O(Bo),function hu(t){return function pV(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(qT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(tt(),t)}("name"),O(km))},t.\u0275dir=Pt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class d4{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Zo?this.route:e===oc?this.childContexts:this.parent.get(e,n)}}let mM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zi({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Ir(0,"router-outlet")},directives:[wy],encapsulation:2}),t})();function yM(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];h4(r,f4(e,r))}}function h4(t,e){t.children&&yM(t.children,e)}function f4(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ey(t){const e=t.children&&t.children.map(Ey),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=mM),n}function qn(t){return t.outlet||te}function _M(t,e){const n=t.filter(r=>qn(r)===e);return n.push(...t.filter(r=>qn(r)!==e)),n}const vM={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xd(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},vM):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||C3)(n,t,e);if(!s)return Object.assign({},vM);const o={};bt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Zd(t,e,n,r,i="corrected"){if(n.length>0&&function m4(t,e,n){return n.some(r=>eh(t,e,r)&&qn(r)!==te)}(t,n,r)){const o=new ie(e,function g4(t,e,n,r){const i={};i[te]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&qn(s)!==te){const o=new ie([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[qn(s)]=o}return i}(t,e,r,new ie(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function y4(t,e,n){return n.some(r=>eh(t,e,r))}(t,n,r)){const o=new ie(t.segments,function p4(t,e,n,r,i,s){const o={};for(const a of r)if(eh(t,n,a)&&!i[qn(a)]){const u=new ie([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[qn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ie(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function eh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function wM(t,e,n,r){return!!(qn(t)===r||r!==te&&eh(e,n,t))&&("**"===t.path||Xd(e,t,n).matched)}function EM(t,e,n){return 0===e.length&&!t.children[n]}class ac{constructor(e){this.segmentGroup=e||null}}class IM{constructor(e){this.urlTree=e}}function th(t){return new Ee(e=>e.error(new ac(t)))}function DM(t){return new Ee(e=>e.error(new IM(t)))}function _4(t){return new Ee(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class E4{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(zr)}apply(){const e=Zd(this.urlTree.root,[],[],this.config).segmentGroup,n=new ie(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,te).pipe(de(s=>this.createUrlTree(Iy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ri(s=>{if(s instanceof IM)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ac?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,te).pipe(de(i=>this.createUrlTree(Iy(i),e.queryParams,e.fragment))).pipe(Ri(i=>{throw i instanceof ac?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ie([],{[te]:e}):e;return new ps(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(de(s=>new ie([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Dt(i).pipe(Qo(s=>{const o=r.children[s],a=_M(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(de(u=>({segment:u,outlet:s})))}),UR((s,o)=>(s[o.outlet]=o.segment,s),{}),function h3(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fs((i,s)=>t(i,s,r)):Ji,ay(1),n?jR(e):VR(()=>new Hd))}())}expandSegment(e,n,r,i,s,o){return Dt(r).pipe(Qo(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ri(c=>{if(c instanceof ac)return K(null);throw c}))),Yo(a=>!!a),Ri((a,u)=>{if(a instanceof Hd||"EmptyError"===a.name){if(EM(n,i,s))return K(new ie([],{}));throw new ac(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return wM(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):th(n):th(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?DM(s):this.lineralizeSegments(r,s).pipe(dt(o=>{const a=new ie(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Xd(n,i,s);if(!a)return th(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?DM(d):this.lineralizeSegments(i,d).pipe(dt(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?K(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(de(h=>(r._loadedConfig=h,new ie(i,{})))):K(new ie(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Xd(n,r,i);if(!o)return th(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(dt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=Zd(n,a,c,f),_=new ie(p.segments,p.children);if(0===m.length&&_.hasChildren())return this.expandChildren(h,f,_).pipe(de(k=>new ie(a,k)));if(0===f.length&&0===m.length)return K(new ie(a,{}));const v=qn(r)===s;return this.expandSegment(h,_,f,m,v?te:s,!0).pipe(de(T=>new ie(a.concat(T.segments),T.children)))}))}getChildConfig(e,n,r){return n.children?K(new vy(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?K(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(dt(i=>i?this.configLoader.load(e.injector,n).pipe(de(s=>(n._loadedConfig=s,s))):function v4(t){return new Ee(e=>e.error(cy(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):K(new vy([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?K(i.map(o=>{const a=e.get(o);let u;if(function o4(t){return t&&Mi(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!Mi(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Sr(u)})).pipe(sc(),ln(o=>{if(!ms(o))return;const a=cy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),de(o=>!0===o)):K(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[te])return _4(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ps(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return bt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return bt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Iy(t){const e={};for(const r of Object.keys(t.children)){const s=Iy(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function I4(t){if(1===t.numberOfChildren&&t.children[te]){const e=t.children[te];return new ie(t.segments.concat(e.segments),e.children)}return t}(new ie(t.segments,e))}class bM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nh{constructor(e,n){this.component=e,this.route=n}}function b4(t,e,n){const r=t._root;return uc(r,e?e._root:null,n,[r.value])}function rh(t,e,n){const r=function C4(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function uc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xo(e);return t.children.forEach(o=>{(function S4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function A4(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gs(t.url,e.url)||!Cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gy(t,e)||!Cr(t.queryParams,e.queryParams);default:return!gy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new bM(r)):(s.data=o.data,s._resolvedData=o._resolvedData),uc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new nh(a.outlet.component,o))}else o&&cc(e,a,i),i.canActivateChecks.push(new bM(r)),uc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),bt(s,(o,a)=>cc(o,n.getContext(a),i)),i}function cc(t,e,n){const r=Xo(t),i=t.value;bt(r,(s,o)=>{cc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new nh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class L4{}function TM(t){return new Ee(e=>e.error(t))}class V4{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Zd(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,te);if(null===n)return null;const r=new Qd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jr(r,n),s=new cM(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=uM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=_M(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=CM(r);return function j4(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return EM(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!wM(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?KR(r).parameters:{};s=new Qd(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xM(e),qn(e),e.component,e,SM(n),AM(n)+r.length,RM(e))}else{const f=Xd(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Qd(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xM(e),qn(e),e.component,e,SM(n),AM(n)+o.length,RM(e))}const u=function B4(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Zd(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Jr(s,f)]}if(0===u.length&&0===l.length)return[new Jr(s,[])];const d=qn(e)===i,h=this.processSegment(u,c,l,d?te:i);return null===h?null:[new Jr(s,h)]}}function $4(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function CM(t){const e=[],n=new Set;for(const r of t){if(!$4(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=CM(r.children);e.push(new Jr(r.value,i))}return e.filter(r=>!n.has(r))}function SM(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function AM(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function xM(t){return t.data||{}}function RM(t){return t.resolve||{}}function Dy(t){return hs(e=>{const n=t(e);return n?Dt(n).pipe(de(()=>e)):K(e)})}class Y4 extends class Q4{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const by=new X("ROUTES");class MM{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(de(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new vy(WR(o.injector.get(by,void 0,z.Self|z.Optional)).map(Ey),o)}),Ri(s=>{throw n._loader$=void 0,s}));return n._loader$=new u3(i,()=>new Fr).pipe(LR()),n._loader$}loadModuleFactory(e){return Sr(e()).pipe(dt(n=>n instanceof QA?K(n):Dt(this.compiler.compileModuleAsync(n))))}}class X4{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Z4(t){throw t}function e8(t,e,n){return e.parse("/")}function kM(t,e){return K(null)}const t8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let An=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fr,this.errorHandler=Z4,this.malformedUriErrorHandler=e8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kM,afterPreactivation:kM},this.urlHandlingStrategy=new X4,this.routeReuseStrategy=new Y4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(zr),this.console=o.get(Rx);const d=o.get(Me);this.isNgZoneEnabled=d instanceof Me&&Me.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function A3(){return new ps(new ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new MM(o,a,h=>this.triggerEvent(new $R(h)),h=>this.triggerEvent(new HR(h))),this.routerState=aM(this.currentUrlTree,this.rootComponentType),this.transitions=new ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(fs(i=>0!==i.id),de(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hs(i=>{let s=!1,o=!1;return K(i).pipe(ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hs(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ih(a.source)&&(this.browserUrlTree=a.extractedUrl),K(a).pipe(hs(d=>{const h=this.transitions.getValue();return r.next(new uy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Vr:Promise.resolve(d)}),function D4(t,e,n,r){return hs(i=>function w4(t,e,n,r,i){return new E4(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(de(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ln(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function H4(t,e,n,r,i){return dt(s=>function U4(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new V4(t,e,n,r,i,s).recognize();return null===o?TM(new L4):K(o)}catch(o){return TM(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(de(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),ln(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new g3(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,v=new uy(h,this.serializeUrl(f),p,m);r.next(v);const y=aM(f,this.rootComponentType).snapshot;return K(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Vr}),Dy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ln(a=>{const u=new m3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),de(a=>Object.assign(Object.assign({},a),{guards:b4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function x4(t,e){return dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?K(Object.assign(Object.assign({},n),{guardsResult:!0})):function R4(t,e,n,r){return Dt(t).pipe(dt(i=>function F4(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const u=rh(a,e,i);let c;if(function c4(t){return t&&Mi(t.canDeactivate)}(u))c=Sr(u.canDeactivate(t,e,n,r));else{if(!Mi(u))throw new Error("Invalid CanDeactivate guard");c=Sr(u(t,e,n,r))}return c.pipe(Yo())})).pipe(sc()):K(!0)}(i.component,i.route,n,e,r)),Yo(i=>!0!==i,!0))}(o,r,i,t).pipe(dt(a=>a&&function s4(t){return"boolean"==typeof t}(a)?function M4(t,e,n,r){return Dt(e).pipe(Qo(i=>oy(function N4(t,e){return null!==t&&e&&e(new w3(t)),K(!0)}(i.route.parent,r),function k4(t,e){return null!==t&&e&&e(new I3(t)),K(!0)}(i.route,r),function O4(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function T4(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>FR(()=>K(o.guards.map(u=>{const c=rh(u,o.node,n);let l;if(function u4(t){return t&&Mi(t.canActivateChild)}(c))l=Sr(c.canActivateChild(r,t));else{if(!Mi(c))throw new Error("Invalid CanActivateChild guard");l=Sr(c(r,t))}return l.pipe(Yo())})).pipe(sc())));return K(s).pipe(sc())}(t,i.path,n),function P4(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>FR(()=>{const o=rh(s,e,n);let a;if(function a4(t){return t&&Mi(t.canActivate)}(o))a=Sr(o.canActivate(e,t));else{if(!Mi(o))throw new Error("Invalid CanActivate guard");a=Sr(o(e,t))}return a.pipe(Yo())}));return K(i).pipe(sc())}(t,i.route,n))),Yo(i=>!0!==i,!0))}(r,s,t,e):K(a)),de(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ln(a=>{if(ms(a.guardsResult)){const c=cy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new y3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),fs(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Dy(a=>{if(a.guards.canActivateChecks.length)return K(a).pipe(ln(u=>{const c=new _3(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),hs(u=>{let c=!1;return K(u).pipe(function q4(t,e){return dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=0;return Dt(i).pipe(Qo(o=>function G4(t,e,n,r){return function z4(t,e,n,r){const i=Object.keys(t);if(0===i.length)return K({});const s={};return Dt(i).pipe(dt(o=>function W4(t,e,n,r){const i=rh(t,e,r);return Sr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(ln(a=>{s[o]=a}))),ay(1),dt(()=>Object.keys(s).length===i.length?K(s):Vr))}(t._resolve,t,e,r).pipe(de(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),uM(t,n).resolve),null)))}(o.route,r,t,e)),ln(()=>s++),ay(1),dt(o=>s===i.length?K(n):Vr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ln({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),ln(u=>{const c=new v3(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Dy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),de(a=>{const u=function z3(t,e,n){const r=nc(t,e._root,n?n._root:void 0);return new oM(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),ln(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>de(r=>(new r4(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ln({next(){s=!0},complete(){s=!0}}),function f3(t){return Et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ri(a=>{if(o=!0,function T3(t){return t&&t[GR]}(a)){const u=ms(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new BR(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ih(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new p3(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Vr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){yM(n),this.config=n.map(Ey),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function Q3(t,e,n,r,i){if(0===n.length)return my(e.root,e.root,e,r,i);const s=function Y3(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hM(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return bt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new hM(n,e,r)}(n);if(s.toRoot())return my(e.root,new ie([],{}),e,r,i);const o=function J3(t,e,n){if(t.isAbsolute)return new yy(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new yy(s,s===e.root,0)}const r=Yd(t.commands[0])?0:1;return function X3(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new yy(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Jd(o.segmentGroup,o.index,s.commands):fM(o.segmentGroup,o.index,s.commands);return my(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ms(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function r8(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},t8):!1===r?Object.assign({},n8):r,ms(n))return YR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return YR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Zu(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,d=ih(r)&&l&&!ih(l.source),h=l.rawUrl.toString()===n.toString(),f=l.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let m,_,v;o?(m=o.resolve,_=o.reject,v=o.promise):v=new Promise((k,W)=>{m=k,_=W});const y=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),T=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):T=0,this.setTransition({id:y,targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:m,reject:_,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(k=>Promise.reject(k))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new BR(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Gg()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function ih(t){return"imperative"!==t}class NM{}class PM{preload(e,n){return K(null)}}let OM=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new MM(i,r,u=>n.triggerEvent(new $R(u)),u=>n.triggerEvent(new HR(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(fs(n=>n instanceof Zu),Qo(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(zr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Dt(i).pipe(tu(),de(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?K(r._loadedConfig):this.loader.load(n.injector,r)).pipe(dt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(M(An),M(Cd),M(rt),M(NM))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Sy=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof uy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Zu&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof qR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new qR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Gg()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const ys=new X("ROUTER_CONFIGURATION"),FM=new X("ROUTER_FORROOT_GUARD"),a8=[Vm,{provide:eM,useClass:tM},{provide:An,useFactory:function h8(t,e,n,r,i,s,o={},a,u){const c=new An(null,t,e,n,r,i,WR(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function f8(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[eM,oc,Vm,rt,Cd,by,ys,[class J4{},new Be],[class K4{},new Be]]},oc,{provide:Zo,useFactory:function p8(t){return t.routerState.root},deps:[An]},OM,PM,class o8{preload(e,n){return n().pipe(Ri(()=>K(null)))}},{provide:ys,useValue:{enableTracing:!1}}];function u8(){return new Fx("Router",An)}let LM=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[a8,UM(n),{provide:FM,useFactory:d8,deps:[[An,new Be,new mo]]},{provide:ys,useValue:r||{}},{provide:Ko,useFactory:l8,deps:[ds,[new vu(Um),new Be],ys]},{provide:Sy,useFactory:c8,deps:[An,dW,ys]},{provide:NM,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:PM},{provide:Fx,multi:!0,useFactory:u8},[Ay,{provide:Td,multi:!0,useFactory:g8,deps:[Ay]},{provide:VM,useFactory:m8,deps:[Ay]},{provide:xx,multi:!0,useExisting:VM}]]}}static forChild(n){return{ngModule:t,providers:[UM(n)]}}}return t.\u0275fac=function(n){return new(n||t)(M(FM,8),M(An,8))},t.\u0275mod=On({type:t}),t.\u0275inj=En({}),t})();function c8(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Sy(t,e,n)}function l8(t,e,n={}){return n.useHash?new zG(t,e):new iR(t,e)}function d8(t){return"guarded"}function UM(t){return[{provide:wV,multi:!0,useValue:t},{provide:by,multi:!0,useValue:t}]}let Ay=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fr}appInitializer(){return this.injector.get(HG,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(An),o=this.injector.get(ys);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?K(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ys),i=this.injector.get(OM),s=this.injector.get(Sy),o=this.injector.get(An),a=this.injector.get(Wu);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(M(rt))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function g8(t){return t.appInitializer.bind(t)}function m8(t){return t.bootstrapListener.bind(t)}const VM=new X("Router Initializer");function jM(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){jM(s,r,i,o,a,"next",u)}function a(u){jM(s,r,i,o,a,"throw",u)}o(void 0)})}}const Ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ky{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function ft(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qM(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function sh(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function GM(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zM(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ta(){return"object"==typeof indexedDB}function oh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Ny(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}}class xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function S8(t,e){return t.replace(A8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ar(i,`${this.serviceName}: ${o} (${i}).`,r)}}const A8=/\{\$([^}]+)}/g;function uh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(KM(s)&&KM(o)){if(!uh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KM(t){return null!==t&&"object"==typeof t}function lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class M8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function k8(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Py),void 0===i.error&&(i.error=Py),void 0===i.complete&&(i.complete=Py);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Py(){}function Fy(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Gn(t){return t&&t._delegate?t._delegate:t}class en{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _s="[DEFAULT]";class U8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ky;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function j8(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===_s?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class B8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Ly=[];var ae=(()=>{return(t=ae||(ae={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ae;var t})();const QM={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},$8=ae.INFO,H8={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},q8=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=H8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class na{constructor(e){this.name=e,this._logLevel=$8,this._logHandler=q8,this._userLogHandler=null,Ly.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?QM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}class G8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function z8(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Uy="@firebase/app",Vy=new na("@firebase/app"),jy="[DEFAULT]",_6={[Uy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vs=new Map,ch=new Map;function v6(t,e){try{t.container.addComponent(e)}catch(n){Vy.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dn(t){const e=t.name;if(ch.has(e))return Vy.debug(`There were multiple attempts to register component ${e}.`),!1;ch.set(e,t);for(const n of vs.values())v6(n,t);return!0}function ra(t,e){return t.container.getProvider(e)}const dc=new xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dc.create("app-deleted",{appName:this._name})}}const ia="9.6.4";function I6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:jy,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw dc.create("bad-app-name",{appName:String(r)});const i=vs.get(r);if(i){if(uh(t,i.options)&&uh(n,i.config))return i;throw dc.create("duplicate-app",{appName:r})}const s=new B8(r);for(const a of ch.values())s.addComponent(a);const o=new E6(t,n,s);return vs.set(r,o),o}function By(t=jy){const e=vs.get(t);if(!e)throw dc.create("no-app",{appName:t});return e}function JM(){return Array.from(vs.values())}function Le(t,e,n){var r;let i=null!==(r=_6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Vy.warn(a.join(" "))}dn(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}!function D6(t){dn(new en("platform-logger",e=>new G8(e),"PRIVATE")),Le(Uy,"0.7.14",t),Le(Uy,"0.7.14","esm2017"),Le("fire-js","")}(""),Le("firebase","9.6.4","app");var sa=Qi(940);const XM="@firebase/installations",ek="w:0.5.5",tk="FIS_v2",Xr=new xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nk(t){return t instanceof Ar&&t.code.includes("request-failed")}function qy({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function rk(t){return{token:t.token,requestStatus:2,expiresIn:M6(t.expiresIn),creationTime:Date.now()}}function Gy(t,e){return zy.apply(this,arguments)}function zy(){return(zy=g(function*(t,e){const r=(yield e.json()).error;return Xr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function ik({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sk(t,{refreshToken:e}){const n=ik(t);return n.append("Authorization",function k6(t){return`${tk} ${t}`}(e)),n}function Wy(t){return Ky.apply(this,arguments)}function Ky(){return(Ky=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function M6(t){return Number(t.replace("s","000"))}function N6(t,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=g(function*(t,{fid:e}){const n=qy(t),s={method:"POST",headers:ik(t),body:JSON.stringify({fid:e,authVersion:tk,appId:t.appId,sdkVersion:ek})},o=yield Wy(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:rk(a.authToken)}}throw yield Gy("Create Installation",o)})).apply(this,arguments)}function ok(t){return new Promise(e=>{setTimeout(e,t)})}const O6=/^[cdef][\w-]{21}$/;function F6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function L6(t){return function P6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return O6.test(n)?n:""}catch(t){return""}}function oa(t){return`${t.appName}!${t.appId}`}const aa=new Map;function ak(t,e){const n=oa(t);uk(n,e),function j6(t,e){const n=function ck(){return!ws&&"BroadcastChannel"in self&&(ws=new BroadcastChannel("[Firebase] FID Change"),ws.onmessage=t=>{uk(t.data.key,t.data.fid)}),ws}();n&&n.postMessage({key:t,fid:e}),function lk(){0===aa.size&&ws&&(ws.close(),ws=null)}()}(n,e)}function uk(t,e){const n=aa.get(t);if(n)for(const r of n)r(e)}let ws=null;const Es="firebase-installations-store";let Jy=null;function Xy(){return Jy||(Jy=(0,sa.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Es)})),Jy}function lh(t,e){return Zy.apply(this,arguments)}function Zy(){return(Zy=g(function*(t,e){const n=oa(t),i=(yield Xy()).transaction(Es,"readwrite"),s=i.objectStore(Es),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&ak(t,e.fid),e})).apply(this,arguments)}function e_(t){return t_.apply(this,arguments)}function t_(){return(t_=g(function*(t){const e=oa(t),r=(yield Xy()).transaction(Es,"readwrite");yield r.objectStore(Es).delete(e),yield r.complete})).apply(this,arguments)}function hc(t,e){return n_.apply(this,arguments)}function n_(){return(n_=g(function*(t,e){const n=oa(t),i=(yield Xy()).transaction(Es,"readwrite"),s=i.objectStore(Es),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&ak(t,a.fid),a})).apply(this,arguments)}function r_(t){return i_.apply(this,arguments)}function i_(){return(i_=g(function*(t){let e;const n=yield hc(t,r=>{const i=H6(r),s=q6(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function H6(t){return hk(t||{fid:F6(),registrationStatus:0})}function q6(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function G6(t,e){return s_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:z6(t)}:{installationEntry:e}}function s_(){return(s_=g(function*(t,e){try{return lh(t,yield N6(t,e))}catch(n){throw nk(n)&&409===n.customData.serverCode?yield e_(t):yield lh(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function z6(t){return o_.apply(this,arguments)}function o_(){return(o_=g(function*(t){let e=yield dk(t);for(;1===e.registrationStatus;)yield ok(100),e=yield dk(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield r_(t);return r||n}return e})).apply(this,arguments)}function dk(t){return hc(t,e=>{if(!e)throw Xr.create("installation-not-found");return hk(e)})}function hk(t){return function W6(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function K6(t,e){return a_.apply(this,arguments)}function a_(){return(a_=g(function*({appConfig:t,platformLoggerProvider:e},n){const r=Q6(t,n),i=sk(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:ek}})},u=yield Wy(()=>fetch(r,a));if(u.ok)return rk(yield u.json());throw yield Gy("Generate Auth Token",u)})).apply(this,arguments)}function Q6(t,{fid:e}){return`${qy(t)}/${e}/authTokens:generate`}function u_(t){return c_.apply(this,arguments)}function c_(){return(c_=g(function*(t,e=!1){let n;const r=yield hc(t.appConfig,s=>{if(!pk(s))throw Xr.create("not-registered");const o=s.authToken;if(!e&&X6(o))return s;if(1===o.requestStatus)return n=Y6(t,e),s;{if(!navigator.onLine)throw Xr.create("app-offline");const a=eK(s);return n=J6(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function Y6(t,e){return l_.apply(this,arguments)}function l_(){return(l_=g(function*(t,e){let n=yield fk(t.appConfig);for(;1===n.authToken.requestStatus;)yield ok(100),n=yield fk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?u_(t,e):r})).apply(this,arguments)}function fk(t){return hc(t,e=>{if(!pk(e))throw Xr.create("not-registered");return function tK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function J6(t,e){return d_.apply(this,arguments)}function d_(){return(d_=g(function*(t,e){try{const n=yield K6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield lh(t.appConfig,r),n}catch(n){if(!nk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield lh(t.appConfig,r)}else yield e_(t.appConfig);throw n}})).apply(this,arguments)}function pk(t){return void 0!==t&&2===t.registrationStatus}function X6(t){return 2===t.requestStatus&&!function Z6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function eK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function h_(){return(h_=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield r_(e.appConfig);return r?r.catch(console.error):u_(e).catch(console.error),n.fid})).apply(this,arguments)}function f_(){return(f_=g(function*(t,e=!1){const n=t;return yield iK(n.appConfig),(yield u_(n,e)).token})).apply(this,arguments)}function iK(t){return p_.apply(this,arguments)}function p_(){return(p_=g(function*(t){const{registrationPromise:e}=yield r_(t);e&&(yield e)})).apply(this,arguments)}function y_(t){return Xr.create("missing-app-config-values",{valueName:t})}const gk="installations",cK=t=>{const e=t.getProvider("app").getImmediate(),n=function aK(t){if(!t||!t.options)throw y_("App Configuration");if(!t.name)throw y_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw y_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:ra(e,"platform-logger"),_delete:()=>Promise.resolve()}},lK=t=>{const n=ra(t.getProvider("app").getImmediate(),gk).getImmediate();return{getId:()=>function nK(t){return h_.apply(this,arguments)}(n),getToken:i=>function rK(t){return f_.apply(this,arguments)}(n,i)}};(function dK(){dn(new en(gk,cK,"PUBLIC")),dn(new en("installations-internal",lK,"PRIVATE"))})(),Le(XM,"0.5.5"),Le(XM,"0.5.5","esm2017");const __="@firebase/remote-config",hn=new xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class IK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function DK(t=navigator){return t.languages&&t.languages[0]||t.language}class bK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:DK()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let y="fetch-client-network";throw"AbortError"===v.name&&(y="fetch-timeout"),hn.create(y,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw hn.create("fetch-client-parse",{originalErrorMessage:y.message})}m=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw hn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class SK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function TK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function CK(t){if(!(t instanceof Ar&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Fy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class RK{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hh(t,e){const n=t.target.error||void 0;return hn.create(e,{originalErrorMessage:n&&n.message})}const Is="app_namespace_store";class PK{constructor(e,n,r,i=function NK(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(hh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Is,{keyPath:"compositeKey"})}}catch(n){e(hn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Is],"readonly").objectStore(Is),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(hh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(hn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Is],"readwrite").objectStore(Is),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(hh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(hn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Is],"readwrite").objectStore(Is),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(hh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(hn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class OK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function LK(){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(){if(!ta())return!1;try{return yield oh()}catch(t){return!1}})).apply(this,arguments)}!function FK(){dn(new en("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw hn.create("registration-window");if(!ta())throw hn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw hn.create("registration-project-id");if(!o)throw hn.create("registration-api-key");if(!a)throw hn.create("registration-app-id");const u=new PK(a,r.name,n=n||"firebase"),c=new OK(u),l=new na(__);l.logLevel=ae.ERROR;const d=new bK(i,ia,n,s,o,a),h=new SK(d,u),f=new IK(h,u,c,l),p=new RK(r,f,c,u,l);return function vK(t){const e=Gn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Le(__,"0.3.4"),Le(__,"0.3.4","esm2017")}();const UK="/firebase-messaging-sw.js",VK="/firebase-cloud-messaging-push-scope",vk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wk="google.c.a.c_id",BK="google.c.a.c_l",$K="google.c.a.ts",HK="google.c.a.e";var ua=(()=>{return(t=ua||(ua={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ua;var t})();function Zr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qK(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const b_="fcm_token_details_db",Ek="fcm_token_object_Store";function zK(t){return T_.apply(this,arguments)}function T_(){return T_=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(b_))return null;let e=null;return(yield(0,sa.openDb)(b_,5,function(){var r=g(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(Ek))return;const o=i.transaction.objectStore(Ek),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Zr(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Zr(u.auth),p256dh:Zr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Zr(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Zr(u.auth),p256dh:Zr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Zr(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,sa.deleteDb)(b_),yield(0,sa.deleteDb)("fcm_vapid_details_db"),yield(0,sa.deleteDb)("undefined"),WK(e)?e:null}),T_.apply(this,arguments)}function WK(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ds="firebase-messaging-store";let C_=null;function S_(){return C_||(C_=(0,sa.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Ds)})),C_}function Ik(t){return A_.apply(this,arguments)}function A_(){return(A_=g(function*(t){const e=k_(t),r=yield(yield S_()).transaction(Ds).objectStore(Ds).get(e);if(r)return r;{const i=yield zK(t.appConfig.senderId);if(i)return yield x_(t,i),i}})).apply(this,arguments)}function x_(t,e){return R_.apply(this,arguments)}function R_(){return(R_=g(function*(t,e){const n=k_(t),i=(yield S_()).transaction(Ds,"readwrite");return yield i.objectStore(Ds).put(e,n),yield i.complete,e})).apply(this,arguments)}function YK(t){return M_.apply(this,arguments)}function M_(){return(M_=g(function*(t){const e=k_(t),r=(yield S_()).transaction(Ds,"readwrite");yield r.objectStore(Ds).delete(e),yield r.complete})).apply(this,arguments)}function k_({appConfig:t}){return t.appId}const Tt=new xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function XK(t,e){return N_.apply(this,arguments)}function N_(){return(N_=g(function*(t,e){const n=yield L_(t),r=bk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(F_(t.appConfig),i)).json()}catch(o){throw Tt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Tt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Tt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ZK(t,e){return P_.apply(this,arguments)}function P_(){return(P_=g(function*(t,e){const n=yield L_(t),r=bk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${F_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Tt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Tt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Tt.create("token-update-no-token");return s.token})).apply(this,arguments)}function Dk(t,e){return O_.apply(this,arguments)}function O_(){return(O_=g(function*(t,e){const r={method:"DELETE",headers:yield L_(t)};try{const s=yield(yield fetch(`${F_(t.appConfig)}/${e}`,r)).json();if(s.error)throw Tt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Tt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function F_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function L_(t){return U_.apply(this,arguments)}function U_(){return(U_=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function bk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==vk&&(i.web.applicationPubKey=r),i}const e7=6048e5;function t7(t){return V_.apply(this,arguments)}function V_(){return(V_=g(function*(t){const e=yield r7(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Zr(e.getKey("auth")),p256dh:Zr(e.getKey("p256dh"))},r=yield Ik(t.firebaseDependencies);if(r){if(i7(r.subscriptionOptions,n))return Date.now()>=r.createTime+e7?n7(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Dk(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Ck(t.firebaseDependencies,n)}return Ck(t.firebaseDependencies,n)})).apply(this,arguments)}function Tk(t){return j_.apply(this,arguments)}function j_(){return(j_=g(function*(t){const e=yield Ik(t.firebaseDependencies);e&&(yield Dk(t.firebaseDependencies,e.token),yield YK(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function n7(t,e){return B_.apply(this,arguments)}function B_(){return(B_=g(function*(t,e){try{const n=yield ZK(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield x_(t.firebaseDependencies,r),n}catch(n){throw yield Tk(t),n}})).apply(this,arguments)}function Ck(t,e){return $_.apply(this,arguments)}function $_(){return($_=g(function*(t,e){const r={token:yield XK(t,e),createTime:Date.now(),subscriptionOptions:e};return yield x_(t,r),r.token})).apply(this,arguments)}function r7(t,e){return H_.apply(this,arguments)}function H_(){return(H_=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qK(e)})})).apply(this,arguments)}function i7(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Sk(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function s7(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function o7(t,e){!e.data||(t.data=e.data)}(e,t),function a7(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function u7(t){return"object"==typeof t&&!!t&&wk in t}function Ak(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function q_(t){return Tt.create("missing-app-config-values",{valueName:t})}Ak("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ak("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class l7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function c7(t){if(!t||!t.options)throw q_("App Configuration Object");if(!t.name)throw q_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw q_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xk(t){return G_.apply(this,arguments)}function G_(){return(G_=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(UK,{scope:VK}),t.swRegistration.update().catch(()=>{})}catch(e){throw Tt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function d7(t,e){return z_.apply(this,arguments)}function z_(){return(z_=g(function*(t,e){if(!e&&!t.swRegistration&&(yield xk(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Tt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function h7(t,e){return W_.apply(this,arguments)}function W_(){return(W_=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=vk)})).apply(this,arguments)}function K_(){return(K_=g(function*(t,e){if(!navigator)throw Tt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tt.create("permission-blocked");return yield h7(t,null==e?void 0:e.vapidKey),yield d7(t,null==e?void 0:e.serviceWorkerRegistration),t7(t)})).apply(this,arguments)}function f7(t,e,n){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(t,e,n){const r=p7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[wk],message_name:n[BK],message_time:n[$K],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function p7(t){switch(t){case ua.NOTIFICATION_CLICKED:return"notification_open";case ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Y_(){return(Y_=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ua.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Sk(n)):t.onMessageHandler.next(Sk(n)));const r=n.data;u7(r)&&"1"===r[HK]&&(yield f7(t,n.messageType,r))})).apply(this,arguments)}const Mk="@firebase/messaging",m7=t=>{const e=new l7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function g7(t,e){return Y_.apply(this,arguments)}(e,n)),e},y7=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Rk(t,e){return K_.apply(this,arguments)}(e,r)}};function Nk(){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(){return"undefined"!=typeof window&&ta()&&(yield oh())&&Ny()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _7(){dn(new en("messaging",m7,"PUBLIC")),dn(new en("messaging-internal",y7,"PRIVATE")),Le(Mk,"0.9.7"),Le(Mk,"0.9.7","esm2017")}();const fh="analytics",E7="firebase_id",b7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pk="https://www.googletagmanager.com/gtag/js",Ct=new na("@firebase/analytics");function Ok(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function T7(t,e){const n=document.createElement("script");n.src=`${Pk}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function S7(t,e,n,r,i,s){return ev.apply(this,arguments)}function ev(){return(ev=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Ok(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ct.error(a)}t("config",i,s)})).apply(this,arguments)}function A7(t,e,n,r,i){return tv.apply(this,arguments)}function tv(){return(tv=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Ok(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ct.error(s)}})).apply(this,arguments)}function M7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Pk))return e;return null}const xn=new xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fk=new class O7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function F7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function L7(t){return nv.apply(this,arguments)}function nv(){return(nv=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:F7(r)},s=b7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function U7(t){return rv.apply(this,arguments)}function rv(){return(rv=g(function*(t,e=Fk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new B7;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),Lk({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function Lk(t,e,n){return iv.apply(this,arguments)}function iv(){return(iv=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Fk){const{appId:s,measurementId:o}=t;try{yield V7(r,e)}catch(a){if(o)return Ct.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield L7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!j7(a)){if(i.deleteThrottleMetadata(s),o)return Ct.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Fy(n,i.intervalMillis,30):Fy(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Ct.debug(`Calling attemptFetch again in ${u} millis`),Lk(t,c,r,i)}})).apply(this,arguments)}function V7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j7(t){if(!(t instanceof Ar&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class B7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function $7(){return sv.apply(this,arguments)}function sv(){return(sv=g(function*(){if(!ta())return Ct.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield oh()}catch(t){return Ct.warn(xn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function ov(){return(ov=g(function*(t,e,n,r,i,s,o){var a;const u=U7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ct.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ct.error(f)),e.push(u);const c=$7().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);M7()||T7(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[E7]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class q7{constructor(e){this.app=e}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},Uk=[];const Vk={};let Bk,fc,ph="dataLayer",av=!1;function z7(t,e,n){!function G7(){const t=[];if(sh()&&t.push("This is a browser extension environment."),Ny()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});Ct.warn(n.message)}}();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw xn.create("no-api-key");Ct.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[r])throw xn.create("already-exists",{id:r});if(!av){!function C7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ph);const{wrappedGtag:s,gtagCore:o}=function R7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function x7(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield A7(t,e,n,a,u):"config"===o?yield S7(t,e,n,r,a,u):t("set",a)}catch(c){Ct.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ei,Uk,Vk,ph,"gtag");fc=s,Bk=o,av=!0}return ei[r]=function H7(t,e,n,r,i,s,o){return ov.apply(this,arguments)}(t,Uk,Vk,e,Bk,ph,n),new q7(t)}function uv(){return(uv=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Z7(){return fv.apply(this,arguments)}function fv(){return(fv=g(function*(){if(sh()||!Ny()||!ta())return!1;try{return yield oh()}catch(t){return!1}})).apply(this,arguments)}const $k="@firebase/analytics";!function t5(){dn(new en(fh,(e,{options:n})=>z7(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),dn(new en("analytics-internal",function t(e){try{const n=e.getProvider(fh).getImmediate();return{logEvent:(r,i,s)=>function e5(t,e,n,r){t=Gn(t),function W7(t,e,n,r,i){return uv.apply(this,arguments)}(fc,ei[t.app.options.appId],e,n,r).catch(i=>Ct.error(i))}(n,r,i,s)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Le($k,"0.7.5"),Le($k,"0.7.5","esm2017")}();class n5 extends qe{constructor(e,n){super()}schedule(e,n=0){return this}}const gh={setInterval(...t){const{delegate:e}=gh;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=gh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class qk extends n5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return gh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;gh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ys(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Gk={now:()=>(Gk.delegate||Date).now(),delegate:void 0};class pc{constructor(e,n=pc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}pc.now=Gk.now;class zk extends pc{constructor(e,n=pc.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const s5=new class i5 extends zk{}(class r5 extends qk{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),o5=new zk(qk),mh=new Bu("7.2.0"),pv="__angularfire_symbol__analyticsIsSupported",gv="__angularfire_symbol__remoteConfigIsSupported",mv="__angularfire_symbol__messagingIsSupported";function _v(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[pv]||(globalThis[pv]=Z7().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[mv]||(globalThis[mv]=Nk().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[gv]||(globalThis[gv]=LK().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const vv=(t,e)=>{const n=e?[e]:JM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ca(){}class Yk{constructor(e,n=s5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class a5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),n.pipe(ln({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wv=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Yk(Zone.current)),this.insideAngular=n.run(()=>new Yk(Zone.current,o5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(M(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function u5(t){return bs().ngZone.runOutsideAngular(()=>t())}function Ts(t){return bs().ngZone.run(()=>t())}function c5(t){return bs(),function l5(t){return function(n){return(n=n.lift(new a5(t.ngZone))).pipe(Il(t.outsideAngular),El(t.insideAngular))}}(bs())(t)}const d5=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ts(()=>t.apply(n,arguments))}},ki=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=Ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)))),arguments[i]=d5(arguments[i],n));const r=u5(()=>t.apply(this,arguments));if(!e){if(r instanceof Ee){const i=bs();return r.pipe(Il(i.outsideAngular),El(i.insideAngular))}return Ts(()=>r)}return r instanceof Ee?r.pipe(c5):r instanceof Promise?Ts(()=>new Promise((i,s)=>r.then(o=>Ts(()=>i(o)),o=>Ts(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Ts(()=>r)};class la{constructor(e){return e}}class Ev{constructor(){return JM()}}const Iv=new X("angularfire2._apps"),f5={provide:la,useFactory:function h5(t){return t&&1===t.length?t[0]:new la(By())},deps:[[new Be,Iv]]},p5={provide:Ev,deps:[[new Be,Iv]]};function g5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new la(r)}}let m5=(()=>{class t{constructor(n){Le("angularfire",mh.full,"core"),Le("angularfire",mh.full,"app"),Le("angular",zA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(M(zo))},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:[f5,p5]}),t})();function y5(t,...e){return{ngModule:m5,providers:[{provide:Iv,useFactory:g5(t),multi:!0,deps:[Me,rt,wv,...e]}]}}const _5=ki(I6,!0),Jk=new Map,v5={activated:!1,tokenObservers:[]},w5={initialized:!1,enabled:!1};function pt(t){return Jk.get(t)||v5}function cr(t,e){Jk.set(t,e)}function yh(){return w5}class T5{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new ky,yield function C5(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ky,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tn=new xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zk(t){if(!pt(t).activated)throw tn.create("use-before-activation",{appName:t.name})}function Tv(t,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw tn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw tn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function M5(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const gc="firebase-app-check-store";let wh=null;function tN(){return wh||(wh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gc,{keyPath:"compositeKey"})}}catch(n){e(tn.create("storage-open",{originalErrorMessage:n.message}))}}),wh)}function Sv(){return(Sv=g(function*(t,e){const r=(yield tN()).transaction(gc,"readwrite"),s=r.objectStore(gc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(tn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const mc=new na("@firebase/app-check");function sN(t,e){return ta()?function O5(t,e){return function nN(t,e){return Sv.apply(this,arguments)}(function iN(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{mc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function oN(){return yh().enabled}function aN(){return Mv.apply(this,arguments)}function Mv(){return(Mv=g(function*(){const t=yh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const B5={error:"UNKNOWN_ERROR"};function $5(t){return Ry.encodeString(JSON.stringify(t),!1)}function Eh(t){return kv.apply(this,arguments)}function kv(){return(kv=g(function*(t,e=!1){const n=t.app;Zk(n);const r=pt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Ih(u)&&(i=u)}if(!e&&i&&Ih(i))return{token:i.token};let a,o=!1;if(oN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Tv(M5(n,yield aN()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield sN(n,u),cr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?mc.warn(u.message):mc.error(u),s=u}return i?(a={token:i.token},cr(n,Object.assign(Object.assign({},r),{token:i})),yield sN(n,i)):a=q5(s),o&&cN(n,a),a})).apply(this,arguments)}function Pv(t,e){const n=pt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),cr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function uN(t){const{app:e}=t,n=pt(e);let r=n.tokenRefresher;r||(r=function H5(t){const{app:e}=t;return new T5(g(function*(){let r;if(r=pt(e).token?yield Eh(t,!0):yield Eh(t),r.error)throw r.error}),()=>!0,()=>{const n=pt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),cr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function cN(t,e){const n=pt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Ih(t){return t.expireTimeMillis-Date.now()>0}function q5(t){return{token:$5(B5),error:t}}class G5{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=pt(this.app);for(const n of e)Pv(this.app,n.next);return Promise.resolve()}}const yN="app-check-internal";!function s9(){dn(new en("app-check",t=>function z5(t,e){return new G5(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yN).initialize()})),dn(new en(yN,t=>function W5(t){return{getToken:e=>Eh(t,e),addTokenListener:e=>function Nv(t,e,n,r){const{app:i}=t,s=pt(i),o={next:n,error:r,type:e};if(cr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Ih(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),uN(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>uN(t))}(t,"INTERNAL",e),removeTokenListener:e=>Pv(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Le("@firebase/app-check","0.5.3")}();class Uv{constructor(){return vv("app-check")}}function Bv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}"undefined"!=typeof window&&window;const h9=function IN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},DN=new xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bN=new na("@firebase/auth");function Th(t,...e){bN.logLevel<=ae.ERROR&&bN.error(`Auth (9.6.4): ${t}`,...e)}function fn(t,...e){throw $v(t,...e)}function Rr(t,...e){return $v(t,...e)}function TN(t,e,n){const r=Object.assign(Object.assign({},h9()),{[e]:n});return new xr("auth","Firebase",r).create(e,{appName:t.name})}function da(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&fn(t,"argument-error"),TN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $v(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DN.create(t,...e)}function C(t,e,...n){if(!t)throw $v(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Th(e),new Error(e)}function Ni(t,e){t||Mr(e)}const CN=new Map;function ti(t){Ni(t instanceof Function,"Expected a class definition");let e=CN.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CN.set(t,e),e)}function yc(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function SN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=qM()||GM()}get(){return function g9(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Hv(){return"http:"===SN()||"https:"===SN()}()||sh()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qv(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class AN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const y9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_9=new _c(3e4,6e4);function ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gt(t,e,n,r){return Gv.apply(this,arguments)}function Gv(){return(Gv=g(function*(t,e,n,r,i={}){return xN(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=lc(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),AN.fetch()(RN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function xN(t,e,n){return zv.apply(this,arguments)}function zv(){return(zv=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y9),e);try{const i=new v9(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ch(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ch(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Ch(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TN(t,l,c);fn(t,l)}}catch(i){if(i instanceof Ar)throw i;fn(t,"network-request-failed")}})).apply(this,arguments)}function ni(t,e,n,r){return Wv.apply(this,arguments)}function Wv(){return(Wv=g(function*(t,e,n,r,i={}){const s=yield gt(t,e,n,r,i);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function RN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?qv(t.config,i):`${t.config.apiScheme}://${i}`}class v9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),_9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function Kv(){return(Kv=g(function*(t,e){return gt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function I9(t,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(t,e){return gt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Jv(){return(Jv=g(function*(t,e=!1){const n=Gn(t),r=yield n.getIdToken(e),i=Sh(r);C(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vc(Xv(i.auth_time)),issuedAtTime:vc(Xv(i.iat)),expirationTime:vc(Xv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Xv(t){return 1e3*Number(t)}function Sh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Ry.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Th("Failed to decode base64 JWT payload"),null)}catch(i){return Th("Caught error parsing JWT payload as JSON",i),null}}function ri(t,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ar&&T9(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function T9({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class C9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class MN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wc(t){return ew.apply(this,arguments)}function ew(){return(ew=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ri(t,I9(n,{idToken:r}));C(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?x9(s.providerUserInfo):[],a=A9(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new MN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function tw(){return(tw=g(function*(t){const e=Gn(t);yield wc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function A9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x9(t){return t.map(e=>{var{providerId:n}=e,r=Bv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function nw(){return(nw=g(function*(t,e){const n=yield xN(t,{},g(function*(){const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(void 0!==e.idToken,"internal-error"),C(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function b9(t){const e=Sh(t);return C(e,"internal-error"),C(void 0!==e.exp,"internal-error"),C(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return C(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function R9(t,e){return nw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ec;return r&&(C("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(C("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(C("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return Mr("not implemented")}}function Pi(t,e){C("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Cs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new C9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new MN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield ri(n,n.stsTokenManager.getToken(n.auth,e));return C(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function D9(t){return Jv.apply(this,arguments)}(this,e)}reload(){return function S9(t){return tw.apply(this,arguments)}(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield ri(e,function w9(t,e){return Kv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:k,isAnonymous:W,providerData:lt,stsTokenManager:Pn}=n;C(T&&Pn,e,"internal-error");const yl=Ec.fromJSON(this.name,Pn);C("string"==typeof T,e,"internal-error"),Pi(d,e.name),Pi(h,e.name),C("boolean"==typeof k,e,"internal-error"),C("boolean"==typeof W,e,"internal-error"),Pi(f,e.name),Pi(p,e.name),Pi(m,e.name),Pi(_,e.name),Pi(v,e.name),Pi(y,e.name);const Ks=new Cs({uid:T,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:yl,createdAt:v,lastLoginAt:y});return lt&&Array.isArray(lt)&&(Ks.providerData=lt.map(_l=>Object.assign({},_l))),_&&(Ks._redirectEventId=_),Ks}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Ec;i.updateFromServerResponse(n);const s=new Cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wc(s),s})()}}const kN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ah("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Cs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new ha(ti(kN),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ti(kN);const o=Ah(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Cs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new ha(s,e,r)):new ha(s,e,r)})()}}function NN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UN(e))return"Blackberry";if(VN(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||ON(e))&&!e.includes("edge/"))return"Chrome";if(LN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function PN(t=ft()){return/firefox\//i.test(t)}function rw(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ON(t=ft()){return/crios\//i.test(t)}function FN(t=ft()){return/iemobile/i.test(t)}function LN(t=ft()){return/android/i.test(t)}function UN(t=ft()){return/blackberry/i.test(t)}function VN(t=ft()){return/webos/i.test(t)}function xh(t=ft()){return/iphone|ipad|ipod/i.test(t)}function jN(t=ft()){return xh(t)||LN(t)||VN(t)||UN(t)||/windows phone/i.test(t)||FN(t)}function BN(t,e=[]){let n;switch(t){case"Browser":n=NN(ft());break;case"Worker":n=`${NN(ft())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.4/${e.length?e.join(","):"FirebaseCore-web"}`}class P9{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $N(this),this.idTokenSubscription=new $N(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ha.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(C(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield wc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function m9(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Gn(e):null;return r&&C(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&C(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(ti(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&ti(e)||n._popupRedirectResolver;C(r,n,"argument-error"),n.redirectPersistenceManager=yield ha.create(n,[ti(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return C(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}function pn(t){return Gn(t)}class $N{constructor(e){this.auth=e,this.observer=null,this.addObserver=function R8(t,e){const n=new M8(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class GN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}function ii(t,e){return mw.apply(this,arguments)}function mw(){return(mw=g(function*(t,e){return ni(t,"POST","/v1/accounts:signInWithIdp",ot(t,e))})).apply(this,arguments)}class fa extends GN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Bv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return ii(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ii(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ii(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lc(n)}return e}}class Oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class QN extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Z9=(()=>{class t extends QN{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return fa._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch(s){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Cs._fromIdTokenResponse(e,r,i),o=JN(r);return new zn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=JN(r);return new zn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function JN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Nh extends Ar{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nh(e,n,r,i)}}function XN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Nh._fromErrorAndOperation(t,s,e,r):s})}function Tw(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(t,e,n=!1){const r=yield ri(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return zn._forOperation(t,"link",r)})).apply(this,arguments)}function Aw(){return(Aw=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ri(t,XN(r,i,e,t),n);C(s.idToken,r,"internal-error");const o=Sh(s.idToken);C(o,r,"internal-error");const{sub:a}=o;return C(t.uid===a,r,"user-mismatch"),zn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&fn(r,"user-mismatch"),s}})).apply(this,arguments)}function xw(){return(xw=g(function*(t,e,n=!1){const r="signIn",i=yield XN(t,r,e),s=yield zn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Fh="__sak";class r1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vQ=(()=>{class t extends r1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mQ(){const t=ft();return rw(t)||xh(t)}()&&function N9(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=jN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function k9(){return zM()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),i1=(()=>{class t extends r1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let EQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function wQ(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function iE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class IQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=iE("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function at(){return window}function sE(){return void 0!==at().WorkerGlobalScope&&"function"==typeof at().importScripts}function oE(){return(oE=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const s1="firebaseLocalStorageDb",Lh="firebaseLocalStorage",o1="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(t,e){return t.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function aE(){const t=indexedDB.open(s1,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lh,{keyPath:o1})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Lh)?e(r):(r.close(),yield function AQ(){const t=indexedDB.deleteDatabase(s1);return new bc(t).toPromise()}(),e(yield aE()))}))})}function a1(t,e,n){return uE.apply(this,arguments)}function uE(){return(uE=g(function*(t,e,n){const r=Uh(t,!0).put({[o1]:e,value:n});return new bc(r).toPromise()})).apply(this,arguments)}function cE(){return(cE=g(function*(t,e){const n=Uh(t,!1).get(e),r=yield new bc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function u1(t,e){const n=Uh(t,!0).delete(e);return new bc(n).toPromise()}const kQ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield aE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return sE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=EQ._getInstance(function CQ(){return sE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function bQ(){return oE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new IQ(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function TQ(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield aE();return yield a1(n,Fh,"1"),yield u1(n,Fh),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>a1(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function xQ(t,e){return cE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>u1(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Uh(o,!1).getAll();return new bc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function l1(t){return`__${t}${Math.floor(1e6*Math.random())}`}function As(t,e){return e?ti(e):(C(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}l1("rcb"),new _c(3e4,6e4);class vE extends GN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ii(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ii(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QQ(t){return function t1(t,e){return xw.apply(this,arguments)}(t.auth,new vE(t),t.bypassAuthState)}function YQ(t){const{auth:e,user:n}=t;return C(n,e,"internal-error"),function e1(t,e){return Aw.apply(this,arguments)}(n,new vE(t),t.bypassAuthState)}function JQ(t){return wE.apply(this,arguments)}function wE(){return(wE=g(function*(t){const{auth:e,user:n}=t;return C(n,e,"internal-error"),Tw(n,new vE(t),t.bypassAuthState)})).apply(this,arguments)}new _c(2e3,1e4);const jh=new Map;class eY extends class XQ{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QQ;case"linkViaPopup":case"linkViaRedirect":return JQ;case"reauthViaPopup":case"reauthViaRedirect":return YQ;default:fn(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=jh.get(n.auth._key());if(!r){try{const s=(yield function tY(t,e){return TE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}jh.set(n.auth._key(),r)}return n.bypassAuthState||jh.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function TE(){return(TE=g(function*(t,e){const n=f1(e),r=h1(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function CE(t,e){return SE.apply(this,arguments)}function SE(){return(SE=g(function*(t,e){return h1(t)._set(f1(e),"true")})).apply(this,arguments)}function h1(t){return ti(t._redirectPersistence)}function f1(t){return Ah("pendingRedirect",t.config.apiKey,t.name)}function nY(t,e,n){return function rY(t,e,n){return AE.apply(this,arguments)}(t,e,n)}function AE(){return(AE=g(function*(t,e,n){const r=pn(t);da(t,e,Oi);const i=As(r,n);return yield CE(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function oY(t,e){return ME.apply(this,arguments)}function ME(){return(ME=g(function*(t,e){return yield pn(t)._initializationPromise,p1(t,e,!1)})).apply(this,arguments)}function p1(t,e){return kE.apply(this,arguments)}function kE(){return(kE=g(function*(t,e,n=!1){const r=pn(t),i=As(r,e),o=yield new eY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class uY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function cY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!y1(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(m1(e))}saveEventToCache(e){this.cachedEventUids.add(m1(e)),this.lastProcessedEventTime=Date.now()}}function m1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y1({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function lY(t){return PE.apply(this,arguments)}function PE(){return(PE=g(function*(t,e={}){return gt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const dY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hY=/^https?/;function OE(){return(OE=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield lY(t);for(const n of e)try{if(pY(n))return}catch(r){}fn(t,"unauthorized-domain")})).apply(this,arguments)}function pY(t){const e=yc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!hY.test(n))return!1;if(dY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gY=new _c(3e4,6e4);function _1(){const t=at().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Bh=null;function yY(t){return Bh=Bh||function mY(t){return new Promise((e,n)=>{var r,i,s;function o(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),n(Rr(t,"network-request-failed"))},timeout:gY.get()})}if(null===(i=null===(r=at().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=at().gapi)||void 0===s?void 0:s.load)){const a=l1("iframefcb");return at()[a]=()=>{gapi.load?o():n(Rr(t,"network-request-failed"))},function c1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function FQ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Bh=null,e})}(t),Bh}const _Y=new _c(5e3,15e3),EY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DY(t){const e=t.config;C(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qv(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:ia},i=IY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${lc(r).slice(1)}`}function FE(){return FE=g(function*(t){const e=yield yY(t),n=at().gapi;return C(n,t,"internal-error"),e.open({where:document.body,url:DY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EY,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Rr(t,"network-request-failed"),u=at().setTimeout(()=>{o(a)},_Y.get());function c(){at().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),FE.apply(this,arguments)}const TY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class v1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function w1(t,e,n,r,i,s){C(t.config.authDomain,t,"auth-domain-config-required"),C(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ia,eventId:i};if(e instanceof Oi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function x8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof QN){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function PY({config:t}){return t.emulator?qv(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${lc(a).slice(1)}`}const LE="webStorageSupport",FY=class OY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=p1}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ni(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=w1(e,n,r,yc(),i);return function RY(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},TY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ft().toLowerCase();n&&(a=ON(c)?"_blank":n),PN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function M9(t=ft()){var e;return xh(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function MY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new v1(null);const d=window.open(e||"",a,l);C(d,t,"popup-blocked");try{d.focus()}catch(h){}return new v1(d)}(e,a,iE())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function DQ(t){at().location.href=t}(w1(e,n,r,yc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function bY(t){return FE.apply(this,arguments)}(e),i=new uY(e);return r.register("authEvent",s=>(C(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(LE,{type:LE},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[LE];void 0!==o&&n(!!o),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function fY(t){return OE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jN()||rw()||xh()}};var I1="@firebase/auth";class LY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jY(t=By()){const e=ra(t,"auth");return e.isInitialized()?e.getImmediate():function f9(t,e){const n=ra(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(uh(n.getOptions(),null!=e?e:{}))return i;fn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:FY,persistence:[kQ,vQ,i1]})}!function VY(t){dn(new en("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{C(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),C(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BN(t)},u=new P9(o,a);return function p9(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dn(new en("auth-internal",e=>{const n=pn(e.getProvider("auth").getImmediate());return new LY(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(I1,"0.19.6",function UY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Le(I1,"0.19.6","esm2017")}("Browser");class $h{constructor(e){return e}}class T1{constructor(){return vv("auth")}}const UE=new X("angularfire2.auth-instances");function $Y(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $h(r)}}const HY={provide:T1,deps:[[new Be,UE]]},qY={provide:$h,useFactory:function BY(t,e){const n=_v("auth",t,e);return n&&new $h(n)},deps:[[new Be,UE],la]};let GY=(()=>{class t{constructor(){Le("angularfire",mh.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:[qY,HY]}),t})();function zY(t,...e){return{ngModule:GY,providers:[{provide:UE,useFactory:$Y(t),multi:!0,deps:[Me,rt,wv,Ev,[new Be,Uv],...e]}]}}const WY=ki(jY,!0),KY=ki(oY,!0),QY=ki(nY,!0);let YY=(()=>{class t{constructor(n){this.auth=n,this.auth.onAuthStateChanged(r=>{r||localStorage.setItem("user","")})}login(){var n=this;return g(function*(){QY(n.auth,new Z9)})()}storeUser(){var n=this;return g(function*(){const r=yield KY(n.auth);r&&localStorage.setItem("user",JSON.stringify(r.user))})()}logout(){var n=this;return g(function*(){yield n.auth.signOut()})()}}return t.\u0275fac=function(n){return new(n||t)(M($h))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R,JY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},si={},VE=VE||{},B=JY||self;function Hh(){}function jE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Tc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var BE="closure_uid_"+(1e9*Math.random()>>>0),ZY=0;function eJ(t,e,n){return t.call.apply(t.bind,arguments)}function tJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function St(t,e,n){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eJ:tJ).apply(null,arguments)}function qh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Fi(){this.s=this.s,this.o=this.o}var rJ={};Fi.prototype.s=!1,Fi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function XY(t){return Object.prototype.hasOwnProperty.call(t,BE)&&t[BE]||(t[BE]=++ZY)}(this);delete rJ[t]}},Fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function A1(t){return Array.prototype.concat.apply([],arguments)}function $E(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Gh(t){return/^[\s\xa0]*$/.test(t)}var rn,x1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nn(t,e){return-1!=t.indexOf(e)}function HE(t,e){return t<e?-1:t>e?1:0}e:{var R1=B.navigator;if(R1){var M1=R1.userAgent;if(M1){rn=M1;break e}}rn=""}function qE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function k1(t){const e={};for(const n in t)e[n]=t[n];return e}var N1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<N1.length;s++)n=N1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function GE(t){return GE[" "](t),t}GE[" "]=Hh;var zh,t,oJ=nn(rn,"Opera"),pa=nn(rn,"Trident")||nn(rn,"MSIE"),O1=nn(rn,"Edge"),zE=O1||pa,F1=nn(rn,"Gecko")&&!(nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge"))&&!(nn(rn,"Trident")||nn(rn,"MSIE"))&&!nn(rn,"Edge"),aJ=nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge");function L1(){var t=B.document;return t?t.documentMode:void 0}e:{var WE="",KE=(t=rn,F1?/rv:([^\);]+)(\)|;)/.exec(t):O1?/Edge\/([\d\.]+)/.exec(t):pa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):aJ?/WebKit\/(\S+)/.exec(t):oJ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(KE&&(WE=KE?KE[1]:""),pa){var QE=L1();if(null!=QE&&QE>parseFloat(WE)){zh=String(QE);break e}}zh=WE}var uJ={};var lJ=B.document&&pa&&(L1()||parseInt(zh,10))||void 0,dJ=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{B.addEventListener("test",Hh,e),B.removeEventListener("test",Hh,e)}catch(n){}return t}();function jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Cc(t,e){if(jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(F1){e:{try{GE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cc.Z.h.call(this)}}jt.prototype.h=function(){this.defaultPrevented=!0},At(Cc,jt);var hJ={2:"touch",3:"pen",4:"mouse"};Cc.prototype.h=function(){Cc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Sc="closure_listenable_"+(1e6*Math.random()|0),fJ=0;function pJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++fJ,this.ca=this.fa=!1}function Wh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Kh(t){this.src=t,this.g={},this.h=0}function JE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=C1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function XE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Kh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=XE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new pJ(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var ZE="closure_lm_"+(1e6*Math.random()|0),eI={};function V1(t,e,n,r,i){if(r&&r.once)return B1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)V1(t,e[s],n,r,i);return null}return n=iI(n),t&&t[Sc]?t.N(e,n,Tc(r)?!!r.capture:!!r,i):j1(t,e,n,!1,r,i)}function j1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Tc(i)?!!i.capture:!!i,a=nI(t);if(a||(t[ZE]=a=new Kh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function gJ(){var e=mJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dJ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(H1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function B1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)B1(t,e[s],n,r,i);return null}return n=iI(n),t&&t[Sc]?t.O(e,n,Tc(r)?!!r.capture:!!r,i):j1(t,e,n,!0,r,i)}function $1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)$1(t,e[s],n,r,i);else r=Tc(r)?!!r.capture:!!r,n=iI(n),t&&t[Sc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=XE(s=t.g[e],n,r,i))&&(Wh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=nI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=XE(e,n,r,i)),(n=-1<t?e[t]:null)&&tI(n))}function tI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Sc])JE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(H1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nI(e))?(JE(n,t),0==n.h&&(n.src=null,e[ZE]=null)):Wh(t)}}}function H1(t){return t in eI?eI[t]:eI[t]="on"+t}function mJ(t,e){if(t.ca)t=!0;else{e=new Cc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&tI(t),t=n.call(r,e)}return t}function nI(t){return(t=t[ZE])instanceof Kh?t:null}var rI="__closure_events_fn_"+(1e9*Math.random()>>>0);function iI(t){return"function"==typeof t?t:(t[rI]||(t[rI]=function(e){return t.handleEvent(e)}),t[rI])}function mt(){Fi.call(this),this.i=new Kh(this),this.P=this,this.I=null}function xt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new jt(e,t);else if(e instanceof jt)e.target=e.target||t;else{var i=e;P1(e=new jt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qh(o,r,!0,e)&&i}if(i=Qh(o=e.g=t,r,!0,e)&&i,i=Qh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Qh(o=e.g=n[s],r,!1,e)&&i}function Qh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&JE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}At(mt,Fi),mt.prototype[Sc]=!0,mt.prototype.removeEventListener=function(t,e,n,r){$1(this,t,e,n,r)},mt.prototype.M=function(){if(mt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wh(n[r]);delete t.g[e],t.h--}}this.I=null},mt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var sI=B.JSON.stringify;function yJ(){var t=G1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var aI,q1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new vJ,t=>t.reset());class vJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wJ(t){B.setTimeout(()=>{throw t},0)}function oI(t,e){aI||function EJ(){var t=B.Promise.resolve(void 0);aI=function(){t.then(IJ)}}(),uI||(aI(),uI=!0),G1.add(t,e)}var uI=!1,G1=new class _J{constructor(){this.h=this.g=null}add(e,n){const r=q1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function IJ(){for(var t;t=yJ();){try{t.h.call(t.g)}catch(n){wJ(n)}var e=q1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}uI=!1}function Yh(t,e){mt.call(this),this.h=t||1,this.g=e||B,this.j=St(this.kb,this),this.l=Date.now()}function cI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function lI(t,e,n){if("function"==typeof t)n&&(t=St(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=St(t.handleEvent,t)}return 2147483647<Number(e)?-1:B.setTimeout(t,e||0)}function z1(t){t.g=lI(()=>{t.g=null,t.i&&(t.i=!1,z1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}At(Yh,mt),(R=Yh.prototype).da=!1,R.S=null,R.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xt(this,"tick"),this.da&&(cI(this),this.start()))}},R.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.M=function(){Yh.Z.M.call(this),cI(this),delete this.g};class DJ extends Fi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:z1(this)}M(){super.M(),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ac(t){Fi.call(this),this.h=t,this.g={}}At(Ac,Fi);var W1=[];function K1(t,e,n,r){Array.isArray(n)||(n&&(W1[0]=n.toString()),n=W1);for(var i=0;i<n.length;i++){var s=V1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Q1(t){qE(t.g,function(e,n){this.g.hasOwnProperty(n)&&tI(e)},t),t.g={}}function Jh(){this.g=!0}function ga(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function SJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return sI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ac.prototype.M=function(){Ac.Z.M.call(this),Q1(this)},Ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jh.prototype.Aa=function(){this.g=!1},Jh.prototype.info=function(){};var xs={},Y1=null;function Xh(){return Y1=Y1||new mt}function J1(t){jt.call(this,xs.Ma,t)}function xc(t){const e=Xh();xt(e,new J1(e,t))}function X1(t,e){jt.call(this,xs.STAT_EVENT,t),this.stat=e}function sn(t){const e=Xh();xt(e,new X1(e,t))}function Z1(t,e){jt.call(this,xs.Na,t),this.size=e}function Rc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){t()},e)}xs.Ma="serverreachability",At(J1,jt),xs.STAT_EVENT="statevent",At(X1,jt),xs.Na="timingevent",At(Z1,jt);var Zh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},eP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dI(){}function nP(){}dI.prototype.h=null;var pI,Mc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hI(){jt.call(this,"d")}function fI(){jt.call(this,"c")}function ef(){}function kc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ac(this),this.P=AJ,this.W=new Yh(t=zE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rP}function rP(){this.i=null,this.g="",this.h=!1}At(hI,jt),At(fI,jt),At(ef,dI),ef.prototype.g=function(){return new XMLHttpRequest},ef.prototype.i=function(){return{}},pI=new ef;var AJ=45e3,gI={},tf={};function mI(t,e,n){t.K=1,t.v=af(oi(e)),t.s=n,t.U=!0,iP(t,null)}function iP(t,e){t.F=Date.now(),Nc(t),t.A=oi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),fP(n.h,"t",r),t.C=0,n=t.l.H,t.h=new rP,t.g=FP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new DJ(St(t.Ia,t,t.g),t.O)),K1(t.V,t.g,"readystatechange",t.gb),e=t.H?k1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),xc(1),function bJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function sP(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function oP(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=xJ(t,n),i==tf){4==e&&(t.o=4,sn(14),r=!1),ga(t.j,t.m,null,"[Incomplete Response]");break}if(i==gI){t.o=4,sn(15),ga(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ga(t.j,t.m,i,null),yI(t,i)}sP(t)&&i!=tf&&i!=gI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),AI(e),e.L=!0,sn(11))):(ga(t.j,t.m,n,"[Invalid Chunked Response]"),Rs(t),Pc(t))}function xJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?tf:(n=Number(e.substring(n,r)),isNaN(n)?gI:(r+=1)+n>e.length?tf:(e=e.substr(r,n),t.C=r+n,e))}function Nc(t){t.Y=Date.now()+t.P,aP(t,t.P)}function aP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Rc(St(t.eb,t),e)}function nf(t){t.B&&(B.clearTimeout(t.B),t.B=null)}function Pc(t){0==t.l.G||t.I||kP(t.l,t)}function Rs(t){nf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,cI(t.W),Q1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function yI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||wI(n.i,t)))if(n.I=t.N,!t.J&&wI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Rc(St(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;ff(n),df(n)}SI(n),sn(18)}if(1>=mP(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Ns(n,11)}else if((t.J||n.g==t)&&ff(n),!Gh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(nn(p,"spdy")||nn(p,"quic")||nn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(EI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,xe(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=OP(r,r.H?r.la:null,r.W),o.J){yP(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(nf(a),Nc(a)),r.g=o}else RP(r);0<n.l.length&&hf(n)}else"stop"!=c[0]&&"close"!=c[0]||Ns(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ns(n,7):TI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}xc(4)}catch(c){}}function _I(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(jE(t)||"string"==typeof t)S1(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(jE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function RJ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(jE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ma(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ma)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ms(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ms(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ms(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(R=kc.prototype).setTimeout=function(t){this.P=t},R.gb=function(t){t=t.target;const e=this.L;e&&3==ai(t)?e.l():this.Ia(t)},R.Ia=function(t){try{if(t==this.g)e:{const l=ai(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||zE||this.g&&(this.h.h||this.g.ga()||TP(this.g)))){this.I||4!=l||7==e||xc(8==e||0>=d?3:2),nf(this);var n=this.g.ba();this.N=n;t:if(sP(this)){var r=TP(this.g);t="";var i=r.length,s=4==ai(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rs(this),Pc(this);var o="";break t}this.h.i=new B.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function TJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,sn(12),Rs(this),Pc(this);break e}ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yI(this,n)}this.U?(oP(this,l,o),zE&&this.i&&3==l&&(K1(this.V,this.W,"tick",this.fb),this.W.start())):(ga(this.j,this.m,o,null),yI(this,o)),4==l&&Rs(this),this.i&&!this.I&&(4==l?kP(this.l,this):(this.i=!1,Nc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Rs(this),Pc(this)}}}catch(l){}},R.fb=function(){if(this.g){var t=ai(this.g),e=this.g.ga();this.C<e.length&&(nf(this),oP(this,t,e),this.i&&4!=t&&Nc(this))}},R.cancel=function(){this.I=!0,Rs(this)},R.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function CJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xc(3),sn(17)),Rs(this),this.o=2,Pc(this)):aP(this,this.Y-t)},(R=ma.prototype).R=function(){vI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},R.T=function(){return vI(this),this.g.concat()},R.get=function(t,e){return Ms(this.h,t)?this.h[t]:e},R.set=function(t,e){Ms(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},R.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var uP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ks(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ks){this.g=void 0!==e?e:t.g,rf(this,t.j),this.s=t.s,sf(this,t.i),of(this,t.m),this.l=t.l,e=t.h;var n=new Lc;n.i=e.i,e.g&&(n.g=new ma(e.g),n.h=e.h),cP(this,n),this.o=t.o}else t&&(n=String(t).match(uP))?(this.g=!!e,rf(this,n[1]||"",!0),this.s=Oc(n[2]||""),sf(this,n[3]||"",!0),of(this,n[4]),this.l=Oc(n[5]||"",!0),cP(this,n[6]||"",!0),this.o=Oc(n[7]||"")):(this.g=!!e,this.h=new Lc(null,this.g))}function oi(t){return new ks(t)}function rf(t,e,n){t.j=n?Oc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sf(t,e,n){t.i=n?Oc(e,!0):e}function of(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cP(t,e,n){e instanceof Lc?(t.h=e,function VJ(t,e){e&&!t.j&&(Li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dP(this,r),fP(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Fc(e,LJ)),t.h=new Lc(e,t.g))}function xe(t,e,n){t.h.set(e,n)}function af(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Oc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,PJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PJ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fc(e,lP,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Fc(e,lP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fc(n,"/"==n.charAt(0)?FJ:OJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fc(n,UJ)),t.join("")};var lP=/[#\/\?@]/g,OJ=/[#\?:]/g,FJ=/[#\?]/g,LJ=/[#\?@]/g,UJ=/#/g;function Lc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Li(t){t.g||(t.g=new ma,t.h=0,t.i&&function MJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function dP(t,e){Li(t),e=ya(t,e),Ms(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ms((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&vI(t)))}function hP(t,e){return Li(t),e=ya(t,e),Ms(t.g.h,e)}function fP(t,e,n){dP(t,e),0<n.length&&(t.i=null,t.g.set(ya(t,e),$E(n)),t.h+=n.length)}function ya(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pP(t){this.l=t||BJ,t=B.PerformanceNavigationTiming?0<(t=B.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(B.g&&B.g.Ea&&B.g.Ea()&&B.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Lc.prototype).add=function(t,e){Li(this),this.i=null,t=ya(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){Li(this),this.g.forEach(function(n,r){S1(n,function(i){t.call(e,i,r,this)},this)},this)},R.T=function(){Li(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},R.R=function(t){Li(this);var e=[];if("string"==typeof t)hP(this,t)&&(e=A1(e,this.g.get(ya(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=A1(e,t[n])}return e},R.set=function(t,e){return Li(this),this.i=null,hP(this,t=ya(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var BJ=10;function gP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function mP(t){return t.h?1:t.g?t.g.size:0}function wI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function EI(t,e){t.g?t.g.add(e):t.h=e}function yP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function _P(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return $E(t.i)}function II(){}function $J(){this.g=new II}function HJ(t,e,n){const r=n||"";try{_I(t,function(i,s){let o=i;Tc(i)&&(o=sI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Uc(t){this.l=t.$b||null,this.j=t.ib||!1}function cf(t,e){mt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=DI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pP.prototype.cancel=function(){if(this.i=_P(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},II.prototype.stringify=function(t){return B.JSON.stringify(t,void 0)},II.prototype.parse=function(t){return B.JSON.parse(t,void 0)},At(Uc,dI),Uc.prototype.g=function(){return new cf(this.l,this.j)},Uc.prototype.i=function(t){return function(){return t}}({}),At(cf,mt);var DI=0;function vP(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Vc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jc(t)}function jc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=cf.prototype).open=function(t,e){if(this.readyState!=DI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jc(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||B).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vc(this)),this.readyState=DI},R.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==B.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vP(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},R.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vc(this):jc(this),3==this.readyState&&vP(this)}},R.Ua=function(t){this.g&&(this.response=this.responseText=t,Vc(this))},R.Ta=function(t){this.g&&(this.response=t,Vc(this))},R.ha=function(){this.g&&Vc(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(cf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var GJ=B.JSON.parse;function Qe(t){mt.call(this),this.headers=new ma,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wP,this.K=this.L=!1}At(Qe,mt);var wP="",zJ=/^https?$/i,WJ=["POST","PUT"];function QJ(t){return"content-type"==t.toLowerCase()}function EP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,IP(t),lf(t)}function IP(t){t.D||(t.D=!0,xt(t,"complete"),xt(t,"error"))}function DP(t){if(t.h&&void 0!==VE&&(!t.C[1]||4!=ai(t)||2!=t.ba()))if(t.v&&4==ai(t))lI(t.Fa,0,t);else if(xt(t,"readystatechange"),4==ai(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(uP)[1]||null;if(!i&&B.self&&B.self.location){var s=B.self.location.protocol;i=s.substr(0,s.length-1)}r=!zJ.test(i?i.toLowerCase():"")}n=r}if(n)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var o=2<ai(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",IP(t)}}finally{lf(t)}}}function lf(t,e){if(t.g){bP(t);const n=t.g,r=t.C[0]?Hh:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function bP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(B.clearTimeout(t.A),t.A=null)}function ai(t){return t.g?t.g.readyState:0}function TP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case wP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function bI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function YJ(t){let e="";return qE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xe(t,e,n))}function Bc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CP(t){this.za=0,this.l=[],this.h=new Jh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bc("baseRetryDelayMs",5e3,t),this.$a=Bc("retryDelaySeedMs",1e4,t),this.Ya=Bc("forwardChannelMaxRetries",2,t),this.ra=Bc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new pP(t&&t.concurrentRequestLimit),this.Ca=new $J,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function TI(t){if(SP(t),3==t.G){var e=t.V++,n=oi(t.F);xe(n,"SID",t.J),xe(n,"RID",e),xe(n,"TYPE","terminate"),$c(t,n),(e=new kc(t,t.h,e,void 0)).K=2,e.v=af(oi(n)),n=!1,B.navigator&&B.navigator.sendBeacon&&(n=B.navigator.sendBeacon(e.v.toString(),"")),!n&&B.Image&&((new Image).src=e.v,n=!0),n||(e.g=FP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Nc(e)}PP(t)}function df(t){t.g&&(AI(t),t.g.cancel(),t.g=null)}function SP(t){df(t),t.u&&(B.clearTimeout(t.u),t.u=null),ff(t),t.i.cancel(),t.m&&("number"==typeof t.m&&B.clearTimeout(t.m),t.m=null)}function CI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&hf(t)}function hf(t){gP(t.i)||t.m||(t.m=!0,oI(t.Ha,t),t.C=0)}function AP(t,e){var n;n=e?e.m:t.V++;const r=oi(t.F);xe(r,"SID",t.J),xe(r,"RID",n),xe(r,"AID",t.U),$c(t,r),t.o&&t.s&&bI(r,t.o,t.s),n=new kc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=xP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),EI(t.i,n),mI(n,r,e)}function $c(t,e){t.j&&_I({},function(n,r){xe(e,r,n)})}function xP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?St(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{HJ(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function RP(t){t.g||t.u||(t.Y=1,oI(t.Ga,t),t.A=0)}function SI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Rc(St(t.Ga,t),NP(t,t.A)),t.A++,0))}function AI(t){null!=t.B&&(B.clearTimeout(t.B),t.B=null)}function MP(t){t.g=new kc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=oi(t.oa);xe(e,"RID","rpc"),xe(e,"SID",t.J),xe(e,"CI",t.N?"0":"1"),xe(e,"AID",t.U),$c(t,e),xe(e,"TYPE","xmlhttp"),t.o&&t.s&&bI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=af(oi(e)),n.s=null,n.U=!0,iP(n,t)}function ff(t){null!=t.v&&(B.clearTimeout(t.v),t.v=null)}function kP(t,e){var n=null;if(t.g==e){ff(t),AI(t),t.g=null;var r=2}else{if(!wI(t.i,e))return;n=e.D,yP(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;xt(r=Xh(),new Z1(r,n,e,i)),hf(t)}else RP(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function JJ(t,e){return!(mP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Rc(St(t.Ha,t,e),NP(t,t.C)),t.C++,0)))}(t,e)||2==r&&SI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ns(t,5);break;case 4:Ns(t,10);break;case 3:Ns(t,6);break;default:Ns(t,2)}}function NP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ns(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=St(t.jb,t);n||(n=new ks("//www.google.com/images/cleardot.gif"),B.location&&"http"==B.location.protocol||rf(n,"https"),af(n)),function qJ(t,e){const n=new Jh;if(B.Image){const r=new Image;r.onload=qh(uf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qh(uf,n,r,"TestLoadImage: error",!1,e),r.onabort=qh(uf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qh(uf,n,r,"TestLoadImage: timeout",!1,e),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.G=0,t.j&&t.j.va(e),PP(t),SP(t)}function PP(t){t.G=0,t.I=-1,t.j&&((0!=_P(t.i).length||0!=t.l.length)&&(t.i.i.length=0,$E(t.l),t.l.length=0),t.j.ua())}function OP(t,e,n){let r=function kJ(t){return t instanceof ks?oi(t):new ks(t,void 0)}(n);if(""!=r.i)e&&sf(r,e+"."+r.i),of(r,r.m);else{const i=B.location;r=function NJ(t,e,n,r){var i=new ks(null,void 0);return t&&rf(i,t),e&&sf(i,e),n&&of(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&qE(t.aa,function(i,s){xe(r,s,i)}),n=t.sa,(e=t.D)&&n&&xe(r,e,n),xe(r,"VER",t.ma),$c(t,r),r}function FP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(n&&t.Ba&&!t.qa?new Uc({ib:!0}):t.qa)).L=t.H,e}function LP(){}function pf(){if(pa&&!(10<=Number(lJ)))throw Error("Environmental error: no available transport.")}function Rn(t,e){mt.call(this),this.g=new CP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Gh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new _a(this)}function UP(t){hI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function VP(){fI.call(this),this.status=1}function _a(t){this.g=t}(R=Qe.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pI.g(),this.C=function tP(t){return t.h||(t.h=t.i())}(this.u?this.u:pI),this.g.onreadystatechange=St(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void EP(this,s)}t=n||"";const i=new ma(this.headers);r&&_I(r,function(s,o){i.set(o,s)}),r=function iJ(t){e:{var e=QJ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=B.FormData&&t instanceof B.FormData,!(0<=C1(WJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bP(this),0<this.B&&((this.K=function KJ(t){return pa&&function cJ(){return function sJ(t){var e=uJ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=x1(String(zh)).split("."),n=x1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=HE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||HE(0==i[2].length,0==s[2].length)||HE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.pa,this)):this.A=lI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){EP(this,s)}},R.pa=function(){void 0!==VE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),lf(this))},R.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lf(this,!0)),Qe.Z.M.call(this)},R.Fa=function(){this.s||(this.F||this.v||this.l?DP(this):this.cb())},R.cb=function(){DP(this)},R.ba=function(){try{return 2<ai(this)?this.g.status:-1}catch(t){return-1}},R.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},R.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),GJ(e)}},R.Da=function(){return this.m},R.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=CP.prototype).ma=8,R.G=1,R.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},R.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new kc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=k1(s),P1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xP(this,i,e),xe(n=oi(this.F),"RID",t),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),$c(this,n),this.o&&s&&bI(n,this.o,s),EI(this.i,i),this.Ra&&xe(n,"TYPE","init"),this.ja?(xe(n,"$req",e),xe(n,"SID","null"),i.$=!0,mI(i,n,null)):mI(i,n,e),this.G=2}}else 3==this.G&&(t?AP(this,t):0==this.l.length||gP(this.i)||AP(this))},R.Ga=function(){if(this.u=null,MP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Rc(St(this.bb,this),t)}},R.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sn(10),df(this),MP(this))},R.ab=function(){null!=this.v&&(this.v=null,df(this),SI(this),sn(19))},R.jb=function(t){t?(this.h.info("Successfully pinged google.com"),sn(2)):(this.h.info("Failed to ping google.com"),sn(1))},(R=LP.prototype).xa=function(){},R.wa=function(){},R.va=function(){},R.ua=function(){},R.Oa=function(){},pf.prototype.g=function(t,e){return new Rn(t,e)},At(Rn,mt),Rn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),oI(St(t.hb,t,e))),sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=OP(t,null,t.W),hf(t)},Rn.prototype.close=function(){TI(this.g)},Rn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,CI(this.g,e)}else this.v?((e={}).__data__=sI(t),CI(this.g,e)):CI(this.g,t)},Rn.prototype.M=function(){this.g.j=null,delete this.j,TI(this.g),delete this.g,Rn.Z.M.call(this)},At(UP,hI),At(VP,fI),At(_a,LP),_a.prototype.xa=function(){xt(this.g,"a")},_a.prototype.wa=function(t){xt(this.g,new UP(t))},_a.prototype.va=function(t){xt(this.g,new VP(t))},_a.prototype.ua=function(){xt(this.g,"b")},pf.prototype.createWebChannel=pf.prototype.g,Rn.prototype.send=Rn.prototype.u,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Zh.NO_ERROR=0,Zh.TIMEOUT=8,Zh.HTTP_ERROR=6,eP.COMPLETE="complete",nP.EventType=Mc,Mc.OPEN="a",Mc.CLOSE="b",Mc.ERROR="c",Mc.MESSAGE="d",mt.prototype.listen=mt.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.La,Qe.prototype.getLastErrorCode=Qe.prototype.Da,Qe.prototype.getStatus=Qe.prototype.ba,Qe.prototype.getResponseJson=Qe.prototype.Qa,Qe.prototype.getResponseText=Qe.prototype.ga,Qe.prototype.send=Qe.prototype.ea;var XJ=si.createWebChannelTransport=function(){return new pf},ZJ=si.getStatEventTarget=function(){return Xh()},xI=si.ErrorCode=Zh,eX=si.EventType=eP,tX=si.Event=xs,jP=si.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nX=si.FetchXmlHttpFactory=Uc,gf=si.WebChannel=nP,rX=si.XhrIo=Qe;const BP="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let va="9.6.3";const Ui=new na("@firebase/firestore");function RI(){return Ui.logLevel}function b(t,...e){if(Ui.logLevel<=ae.DEBUG){const n=e.map(MI);Ui.debug(`Firestore (${va}): ${t}`,...n)}}function Ye(t,...e){if(Ui.logLevel<=ae.ERROR){const n=e.map(MI);Ui.error(`Firestore (${va}): ${t}`,...n)}}function mf(t,...e){if(Ui.logLevel<=ae.WARN){const n=e.map(MI);Ui.warn(`Firestore (${va}): ${t}`,...n)}}function MI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function V(t,e){t||F()}function S(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class $P{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class oX{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new $P(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new Rt(e)}}class aX{constructor(e,n,r){this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class uX{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new aX(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cX{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),new HP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Mn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function lX(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Mn.I=-1;class qP{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Mt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function zP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Hc{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Hc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Hc{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const dX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Hc{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return dX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}class Ea{constructor(e){this.fields=e,e.sort(Bt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const hX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(V(!!t),"string"==typeof t){let e=0;const n=hX.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ia(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function kI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function KP(t){const e=t.mapValue.fields.__previous_value__;return kI(e)?KP(e):e}function qc(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}function Os(t){return null==t}function yf(t){return 0===t&&1/t==-1/0}class P{constructor(e){this.path=e}static fromPath(e){return new P(fe.fromString(e))}static fromName(e){return new P(fe.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new fe(e.slice()))}}function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kI(t)?4:10:F()}function kr(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vi(r.timestampValue),o=Vi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ia(t.bytesValue).isEqual(Ia(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Je(r.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(r.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Je(r.integerValue)===Je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Je(r.doubleValue),o=Je(i.doubleValue);return s===o?yf(s)===yf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return wa(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zP(s)!==zP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!kr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Gc(t,e){return void 0!==(t.values||[]).find(n=>kr(n,e))}function Da(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return se(n,r);switch(n){case 0:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Je(i.integerValue||i.doubleValue),a=Je(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return YP(t.timestampValue,e.timestampValue);case 4:return YP(qc(t),qc(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ia(i),a=Ia(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=se(o[u],a[u]);if(0!==c)return c}return se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=se(Je(i.latitude),Je(s.latitude));return 0!==o?o:se(Je(i.longitude),Je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Da(o[u],a[u]);if(c)return c}return se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=se(a[l],c[l]);if(0!==d)return d;const h=Da(o[a[l]],u[c[l]]);if(0!==h)return h}return se(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function YP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return se(t,e);const n=Vi(t),r=Vi(e),i=se(n.seconds,r.seconds);return 0!==i?i:se(n.nanos,r.nanos)}function NI(t){return PI(t)}function PI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Vi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ia(t.bytesValue).toBase64():"referenceValue"in t?P.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=PI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${PI(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function OI(t){return!!t&&"integerValue"in t}function FI(t){return!!t&&"arrayValue"in t}function JP(t){return!!t&&"nullValue"in t}function XP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vf(t){return!!t&&"mapValue"in t}function zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return Object.assign({},t)}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=zc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(zc(this.value))}}function ZP(t){const e=[];return Ps(t.fields,(n,r)=>{const i=new Bt([n]);if(vf(r)){const s=ZP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ea(e)}class Re{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Re(e,0,q.min(),$t.empty(),0)}static newFoundDocument(e,n,r){return new Re(e,1,n,r,0)}static newNoDocument(e,n){return new Re(e,2,n,$t.empty(),0)}static newUnknownDocument(e,n){return new Re(e,3,n,$t.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Re(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function eO(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fX(t,e,n,r,i,s,o)}function Wc(t){const e=S(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function gX(t){return t.field.canonicalString()+t.op.toString()+NI(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Os(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=If(e.startAt)),e.endAt&&(n+="|ub:",n+=If(e.endAt)),e.R=n}return e.R}function wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!DX(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!kr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rO(t.startAt,e.startAt)&&rO(t.endAt,e.endAt)}function Ef(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class on extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new mX(e,n,r):"array-contains"===n?new vX(e,r):"in"===n?new wX(e,r):"not-in"===n?new EX(e,r):"array-contains-any"===n?new IX(e,r):new on(e,n,r)}static P(e,n,r){return"in"===n?new yX(e,r):new _X(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Da(n,this.value)):null!==n&&Fs(this.value)===Fs(n)&&this.v(Da(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mX extends on{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){const n=P.comparator(e.key,this.key);return this.v(n)}}class yX extends on{constructor(e,n){super(e,"in",n),this.keys=tO(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _X extends on{constructor(e,n){super(e,"not-in",n),this.keys=tO(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tO(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}class vX extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return FI(n)&&Gc(n.arrayValue,this.value)}}class wX extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Gc(this.value.arrayValue,n)}}class EX extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Gc(this.value.arrayValue,n)}}class IX extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!FI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}class Kc{constructor(e,n){this.position=e,this.before=n}}function If(t){return`${t.before?"b":"a"}:${t.position.map(e=>NI(e)).join(",")}`}class ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function DX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function nO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),n.key):Da(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function rO(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}class ui{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Ta(t){return new ui(t)}function Df(t){return!Os(t.limit)&&"F"===t.limitType}function bf(t){return!Os(t.limit)&&"L"===t.limitType}function Ca(t){const e=S(t);if(null===e.S){e.S=[];const n=function UI(t){for(const e of t.filters)if(e.V())return e.field;return null}(e),r=function LI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new ba(n)),e.S.push(new ba(Bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new ba(Bt.keyField(),s))}}}return e.S}function Wn(t){const e=S(t);if(!e.D)if("F"===e.limitType)e.D=eO(e.path,e.collectionGroup,Ca(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ca(e))n.push(new ba(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Kc(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Kc(e.startAt.position,!e.startAt.before):null;e.D=eO(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function Qc(t,e){return wf(Wn(t),Wn(e))&&t.limitType===e.limitType}function oO(t){return`${Wc(Wn(t))}|lt:${t.limitType}`}function jI(t){return`Query(target=${function pX(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${NI(r.value)}`;var r}).join(", ")}]`),Os(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+If(t.startAt)),t.endAt&&(e+=", endAt: "+If(t.endAt)),`Target(${e})`}(Wn(t))}; limitType=${t.limitType})`}function Yc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):P.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!nO(n.startAt,Ca(n),r)||n.endAt&&nO(n.endAt,Ca(n),r)));var n,r}function aO(t){return(e,n)=>{let r=!1;for(const i of Ca(t)){const s=bX(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function bX(t,e,n){const r=t.field.isKeyField()?P.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Da(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function uO(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function cO(t){return{integerValue:""+t}}function lO(t,e){return function QP(t){return"number"==typeof t&&Number.isInteger(t)&&!yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?cO(e):uO(t,e)}class Tf{constructor(){this._=void 0}}function TX(t,e,n){return t instanceof Sa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ls?hO(t,e):t instanceof Us?fO(t,e):function(r,i){const s=dO(r,i),o=pO(s)+pO(r.N);return OI(s)&&OI(r.N)?cO(o):uO(r.k,o)}(t,e)}function CX(t,e,n){return t instanceof Ls?hO(t,e):t instanceof Us?fO(t,e):n}function dO(t,e){return t instanceof Aa?OI(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Sa extends Tf{}class Ls extends Tf{constructor(e){super(),this.elements=e}}function hO(t,e){const n=gO(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Us extends Tf{constructor(e){super(),this.elements=e}}function fO(t,e){let n=gO(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class Aa extends Tf{constructor(e,n){super(),this.k=e,this.N=n}}function pO(t){return Je(t.integerValue||t.doubleValue)}function gO(t){return FI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class AX{constructor(e,n){this.version=e,this.transformResults=n}}class Xe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xe}static exists(e){return new Xe(void 0,e)}static updateTime(e){return new Xe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Sf{}function xX(t,e,n){t instanceof Xc?function(r,i,s){const o=r.value.clone(),a=vO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(r,i,s){if(!Cf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=vO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(_O(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function BI(t,e,n){var i;t instanceof Xc?function(r,i,s){if(!Cf(r.precondition,i))return;const o=r.value.clone(),a=wO(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(yO(i),o).setHasLocalMutations()}(t,e,n):t instanceof ji?function(r,i,s){if(!Cf(r.precondition,i))return;const o=wO(r.fieldTransforms,s,i),a=i.data;a.setAll(_O(r)),a.setAll(o),i.convertToFoundDocument(yO(i),a).setHasLocalMutations()}(t,e,n):Cf(t.precondition,i=e)&&i.convertToNoDocument(q.min())}function RX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dO(r.transform,i||null);null!=s&&(null==n&&(n=$t.empty()),n.set(r.field,s))}return n||null}function mO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&wa(n,r,(i,s)=>function SX(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ls&&r instanceof Ls||n instanceof Us&&r instanceof Us?wa(n.elements,r.elements,kr):n instanceof Aa&&r instanceof Aa?kr(n.N,r.N):n instanceof Sa&&r instanceof Sa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function yO(t){return t.isFoundDocument()?t.version:q.min()}class Xc extends Sf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ji extends Sf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function _O(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vO(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,CX(o,a,n[i]))}return r}function wO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,TX(s,o,e))}return r}class Zc extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class $I extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class MX{constructor(e){this.count=e}}var Ze,ue;function EO(t){switch(t){default:return F();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function IO(t){if(void 0===t)return Ye("GRPC error has no .code"),w.UNKNOWN;switch(t){case Ze.OK:return w.OK;case Ze.CANCELLED:return w.CANCELLED;case Ze.UNKNOWN:return w.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return w.INTERNAL;case Ze.UNAVAILABLE:return w.UNAVAILABLE;case Ze.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ze.NOT_FOUND:return w.NOT_FOUND;case Ze.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ze.ABORTED:return w.ABORTED;case Ze.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ze.DATA_LOSS:return w.DATA_LOSS;default:return F()}}(ue=Ze||(Ze={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";class ct{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:kt.RED,this.left=null!=i?i:kt.EMPTY,this.right=null!=s?s:kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1,kt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new kt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DO(this.data.getIterator())}getIteratorFrom(e){return new DO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ue(this.comparator);return n.data=e,n}}class DO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const kX=new ct(P.comparator);function Kn(){return kX}const NX=new ct(P.comparator);function HI(){return NX}const PX=new ct(P.comparator);const OX=new Ue(P.comparator);function me(...t){let e=OX;for(const n of t)e=e.add(n);return e}const FX=new Ue(se);function xf(){return FX}class el{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,tl.createSynthesizedTargetChangeForCurrentChange(e,n)),new el(q.min(),r,xf(),Kn(),me())}}class tl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new tl(ut.EMPTY_BYTE_STRING,n,me(),me(),me())}}class Rf{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.O=i}}class TO{constructor(e,n){this.targetId=e,this.M=n}}class CO{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SO{constructor(){this.F=0,this.L=xO(),this.B=ut.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=me(),n=me(),r=me();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new tl(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=xO()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class LX{constructor(e){this.et=e,this.nt=new Map,this.st=Kn(),this.it=AO(),this.rt=new Ue(se)}ot(e){for(const n of e.$)e.O&&e.O.isFoundDocument()?this.ct(n,e.O):this.at(n,e.key,e.O);for(const n of e.removedTargetIds)this.at(n,e.key,e.O)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.M.count,i=this.wt(n);if(i){const s=i.target;if(Ef(s))if(0===r){const o=new P(s.path);this.at(n,o,Re.newNoDocument(o,q.min()))}else V(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Ef(a.target)){const u=new P(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.at(o,u,Re.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=me();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new el(e,n,this.rt,this.st,r);return this.st=Kn(),this.it=AO(),this.rt=new Ue(se),i}ct(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}at(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new SO,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new Ue(se),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new SO),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function AO(){return new ct(P.comparator)}function xO(){return new ct(P.comparator)}const UX={asc:"ASCENDING",desc:"DESCENDING"},VX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jX{constructor(e,n){this.databaseId=e,this.C=n}}function nl(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RO(t,e){return t.C?e.toBase64():e.toUint8Array()}function BX(t,e){return nl(t,e.toTimestamp())}function _t(t){return V(!!t),q.fromTimestamp(function(e){const n=Vi(e);return new Mt(n.seconds,n.nanos)}(t))}function qI(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function MO(t){const e=fe.fromString(t);return V(HO(e)),e}function rl(t,e){return qI(t.databaseId,e.path)}function Nr(t,e){const n=MO(e);if(n.get(1)!==t.databaseId.projectId)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(NO(n))}function GI(t,e){return qI(t.databaseId,e)}function il(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NO(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function PO(t,e,n){return{name:rl(t,e),fields:n.value.mapValue.fields}}function LO(t,e){return{documents:[GI(t,e.path)]}}function UO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=GI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=GI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(XP(l.value))return{unaryFilter:{field:xa(l.field),op:"IS_NAN"}};if(JP(l.value))return{unaryFilter:{field:xa(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(XP(l.value))return{unaryFilter:{field:xa(l.field),op:"IS_NOT_NAN"}};if(JP(l.value))return{unaryFilter:{field:xa(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(l.field),op:WX(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:xa((c=u).field),direction:zX(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||Os(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=BO(e.startAt)),e.endAt&&(n.structuredQuery.endAt=BO(e.endAt)),n}function VO(t){let e=function kO(t){const e=MO(t);return 4===e.length?fe.emptyPath():NO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=jO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ba(Ra((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Os(d)?null:d}(n.limit));let u=null;n.startAt&&(u=$O(n.startAt));let c=null;return n.endAt&&(c=$O(n.endAt)),function iO(t,e,n,r,i,s,o,a){return new ui(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function jO(t){return t?void 0!==t.unaryFilter?[QX(t)]:void 0!==t.fieldFilter?[KX(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>jO(e)).reduce((e,n)=>e.concat(n)):F():[]}function BO(t){return{before:t.before,values:t.position}}function $O(t){return new Kc(t.values||[],!!t.before)}function zX(t){return UX[t]}function WX(t){return VX[t]}function xa(t){return{fieldPath:t.canonicalString()}}function Ra(t){return Bt.fromServerFormat(t.fieldPath)}function KX(t){return on.create(Ra(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(t.fieldFilter.op),t.fieldFilter.value)}function QX(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ra(t.unaryFilter.field);return on.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ra(t.unaryFilter.field);return on.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ra(t.unaryFilter.field);return on.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ra(t.unaryFilter.field);return on.create(i,"!=",{nullValue:"NULL_VALUE"});default:return F()}}function YX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function lr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qO(e)),e=JX(t.get(n),e);return qO(e)}function JX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function qO(t){return t+"\x01\x01"}class kn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}kn.store="owner",kn.key="owner";class Bi{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}Bi.store="mutationQueues",Bi.keyPath="userId";class Te{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Te.store="mutations",Te.keyPath="batchId",Te.userMutationsIndex="userMutationsIndex",Te.userMutationsKeyPath=["userId","batchId"];class Ht{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,lr(n)]}static key(e,n,r){return[e,lr(n),r]}}Ht.store="documentMutations",Ht.PLACEHOLDER=new Ht;class Ve{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Ve.store="remoteDocuments",Ve.readTimeIndex="readTimeIndex",Ve.readTimeIndexPath="readTime",Ve.collectionReadTimeIndex="collectionReadTimeIndex",Ve.collectionReadTimeIndexPath=["parentPath","readTime"];class Pr{constructor(e){this.byteSize=e}}Pr.store="remoteDocumentGlobal",Pr.key="remoteDocumentGlobalKey";class gn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}gn.store="targets",gn.keyPath="targetId",gn.queryTargetsIndexName="queryTargetsIndex",gn.queryTargetsKeyPath=["canonicalId","targetId"];class Nt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Nt.store="targetDocuments",Nt.keyPath=["targetId","path"],Nt.documentTargetsIndex="documentTargetsIndex",Nt.documentTargetsKeyPath=["path","targetId"];class Nn{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Nn.key="targetGlobalKey",Nn.store="targetGlobal";class Vs{constructor(e,n){this.collectionId=e,this.parent=n}}Vs.store="collectionParents",Vs.keyPath=["collectionId","parent"];class li{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}li.store="clientMetadata",li.keyPath="clientId";class Ma{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ma.store="bundles",Ma.keyPath="bundleId";class ka{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}ka.store="namedQueries",ka.keyPath="name";const GO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(i=>i?E.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function js(t){return"IndexedDbTransactionError"===t.name}class WI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xX(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&BI(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&BI(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(q.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(n,r)=>mO(n,r))&&wa(this.baseMutations,e.baseMutations,(n,r)=>mO(n,r))}}class KI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=function bO(){return PX}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new KI(e,n,r,i)}}class $i{constructor(e,n,r,i,s=q.min(),o=q.min(),a=ut.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KO{constructor(e){this.Gt=e}}function JI(t){const e=VO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function sO(t,e,n){return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class oZ{constructor(){this.zt=new XI}addToCollectionParentIndex(e,n){return this.zt.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.zt.getEntries(n))}}class XI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ue(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(fe.comparator)).toArray()}}class yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class $s{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new $s(0)}static re(){return new $s(-1)}}function Hs(t){return eD.apply(this,arguments)}function eD(){return eD=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==GO)throw t;b("LocalStore","Unexpectedly lost primary lease")}),eD.apply(this,arguments)}class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WP(this.inner)}}class cF{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.bn(e,n,r))}bn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Pn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Pn(n,r))}getDocumentsMatchingQuery(e,n,r){return P.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):function VI(t){return null!==t.collectionGroup}(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new P(n)).next(r=>{let i=HI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=HI();return this.Jt.getCollectionParents(e,i).next(o=>E.forEach(o,a=>{const u=(c=n,l=a.child(i),new ui(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Re.newInvalidDocument(l),i=i.insert(l,d)),BI(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{Yc(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=me();for(const o of n)for(const a of o.mutations)a instanceof ji&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class iD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iD(e,n.fromCache,r,i)}}class lF{On(e){this.Mn=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(q.min())?this.Fn(e,n):this.Mn.vn(e,i).next(s=>{const o=this.Ln(n,s);return(Df(n)||bf(n))&&this.Bn(n.limitType,o,i,r)?this.Fn(e,n):(RI()<=ae.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jI(n)),this.Mn.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new Ue(aO(e));return n.forEach((i,s)=>{Yc(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return RI()<=ae.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",jI(n)),this.Mn.getDocumentsMatchingQuery(e,n,q.min())}}class _Z{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new ct(se),this.Kn=new Ua(s=>Wc(s),wf),this.jn=q.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new cF(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function hF(t,e){return sD.apply(this,arguments)}function sD(){return sD=g(function*(t,e){const n=S(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new cF(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=me();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.An=r,n.Wn=i,n.Un.On(n.Wn),s}),sD.apply(this,arguments)}function vZ(t,e){const n=S(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=E.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);V(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.An.performConsistencyCheck(r)).next(()=>n.Wn.vn(r,i))})}function fF(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function wZ(t,e){const n=S(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.He.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(ut.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,h))});let u=Kn();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function pF(t,e,n,r,i){let s=me();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=Kn();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):b("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(q.min())){const c=n.He.getLastRemoteSnapshotVersion(s).next(l=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function EZ(t,e){const n=S(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(r,e)))}function Va(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new $i(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function ja(t,e,n){return oD.apply(this,arguments)}function oD(){return oD=g(function*(t,e,n){const r=S(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!js(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),oD.apply(this,arguments)}function Lf(t,e,n){const r=S(t);let i=q.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.Kn.get(c);return void 0!==d?E.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:me())).next(a=>({documents:a,zn:s})))}class TZ{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return E.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:_t(r.createTime)}),E.resolve()}getNamedQuery(e,n){return E.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:JI(r.bundledQuery),readTime:_t(r.readTime)}),E.resolve();var r}}class lD{constructor(){this.ts=new Ue(vt.es),this.ns=new Ue(vt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new vt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new vt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new P(new fe([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new P(new fe([])),r=new vt(n,e),i=new vt(n,e+1);let s=me();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return P.comparator(e.key,n.key)||se(e.fs,n.fs)}static ss(e,n){return se(e.fs,n.fs)||P.comparator(e.key,n.key)}}class CZ{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Ue(vt.es)}checkEmpty(e){return E.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new WI(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new vt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return E.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return E.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ue(se);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),E.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new vt(new P(s),0);let a=new Ue(se);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),E.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return E.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new vt(n,0),i=this.ws.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class SZ{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new ct(P.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():Re.newInvalidDocument(n))}getEntries(e,n){let r=Kn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Re.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=Kn();const s=new P(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||Yc(n,u)&&(i=i.insert(u.key,u.mutableCopy()))}return E.resolve(i)}Es(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AZ(this)}getSize(e){return E.resolve(this.size)}}class AZ extends class fZ{constructor(){this.changes=new Ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:q.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Re.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class xZ{constructor(e){this.persistence=e,this.Is=new Ua(n=>Wc(n),wf),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.As=0,this.Rs=new lD,this.targetCount=0,this.bs=$s.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),E.resolve()}ae(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ae(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.ae(n),E.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Rs.containsKey(n))}}class RZ{constructor(e,n){this.Ps={},this.Be=new Mn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new xZ(this),this.Jt=new oZ,this.Je=new SZ(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new KO(n),this.Ye=new TZ(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.Ps[e.toKey()];return n||(n=new CZ(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new MZ(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return E.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class MZ extends class nZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class dD{constructor(e){this.persistence=e,this.Cs=new lD,this.Ns=null}static ks(e){return new dD(e)}get xs(){if(this.Ns)return this.Ns;throw F()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),E.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.xs,r=>{const i=P.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return E.or([()=>E.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class pD{constructor(){this.activeTargetIds=xf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vF{constructor(){this.pi=new pD,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new pD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class kZ{Ei(e){}shutdown(){}}class wF{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const NZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PZ{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class OZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);b("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(b("RestConnection","Received: ",u),u),u=>{throw mf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+va,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Fi}/v1/${n}:${NZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new rX;a.listenOnce(eX.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case xI.NO_ERROR:const c=a.getResponseJson();b("Connection","XHR received:",JSON.stringify(c)),s(c);break;case xI.TIMEOUT:b("Connection",'RPC "'+e+'" timed out'),o(new D(w.DEADLINE_EXCEEDED,"Request time out"));break;case xI.HTTP_ERROR:const l=a.getStatus();if(b("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(w.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{b("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XJ(),o=ZJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new nX({})),this.qi(a.initMessageHeaders,n,r),qM()||GM()||function b8(){return ft().indexOf("Electron/")>=0}()||zM()||function T8(){return ft().indexOf("MSAppHost/")>=0}()||sh()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");b("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new PZ({Vi:p=>{d?b("Connection","Not sending because WebChannel is closed:",p):(l||(b("Connection","Opening WebChannel transport."),c.open(),l=!0),b("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,m,_)=>{p.listen(m,v=>{try{_(v)}catch(y){setTimeout(()=>{throw y},0)}})};return f(c,gf.EventType.OPEN,()=>{d||b("Connection","WebChannel transport opened.")}),f(c,gf.EventType.CLOSE,()=>{d||(d=!0,b("Connection","WebChannel transport closed"),h.Oi())}),f(c,gf.EventType.ERROR,p=>{d||(d=!0,mf("Connection","WebChannel transport errored:",p),h.Oi(new D(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,gf.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];V(!!_);const v=_,y=v.error||(null===(m=v[0])||void 0===m?void 0:m.error);if(y){b("Connection","WebChannel received error:",y);const T=y.status;let k=function(lt){const Pn=Ze[lt];if(void 0!==Pn)return IO(Pn)}(T),W=y.message;void 0===k&&(k=w.INTERNAL,W="Unknown error status: "+T+" with message "+y.message),d=!0,h.Oi(new D(k,W)),c.close()}else b("Connection","WebChannel received:",_),h.Mi(_)}}),f(o,tX.STAT_EVENT,p=>{p.stat===jP.PROXY?b("Connection","Detected buffering proxy"):p.stat===jP.NOPROXY&&b("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function jf(){return"undefined"!=typeof document?document:null}function cl(t){return new jX(t,!0)}class mD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Me=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class IF{constructor(e,n,r,i,s,o,a,u){this.Me=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new mD(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return g(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return g(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,n){var r=this;return g(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new D(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(g(function*(){e.state=0,e.start()}))}Ar(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Me.enqueueAndForget(()=>this.rr===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FZ extends IF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function HX(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(V(void 0===c||"string"==typeof c),ut.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:IO(u.code);return new D(c,u.message||"")}(o);n=new CO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Nr(t,r.document.name),s=_t(r.document.updateTime),o=new $t({mapValue:{fields:r.document.fields}}),a=Re.newFoundDocument(i,s,o);n=new Rf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Nr(t,r.document),s=r.readTime?_t(r.readTime):q.min(),o=Re.newNoDocument(i,s);n=new Rf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Nr(t,r.document);n=new Rf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,s=new MX(r.count||0);n=new TO(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?_t(s.readTime):q.min()}(e);return this.listener.br(n,r)}Pr(e){const n={};n.database=il(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=Ef(a)?{documents:LO(i,a)}:{query:UO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=RO(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=nl(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function GX(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=il(this.k),n.removeTarget=e,this.gr(n)}}class LZ extends IF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,n){return this.ir.Qi("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const n=function qX(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let s=_t(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=_t(i)),new AX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=_t(e.commitTime);return this.listener.Cr(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=il(this.k),this.gr(e)}Dr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Mf(t,e){let n;if(e instanceof Xc)n={update:PO(t,e.key,e.value)};else if(e instanceof Zc)n={delete:rl(t,e.key)};else if(e instanceof ji)n={update:PO(t,e.key,e.data),updateMask:YX(e.fieldMask)};else{if(!(e instanceof $I))return F();n={verify:rl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Sa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Us)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Aa)return{fieldPath:s.field.canonicalString(),increment:o.N};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:BX(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.k,r))};this.gr(n)}}class UZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}ji(e,n,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class VZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Ye(n),this.Lr=!1):b("OnlineStateTracker",n)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class jZ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(g(function*(){var u;zi(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=S(c);l.Gr.add(4),yield Ba(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield ll(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new VZ(r,i)}}function ll(t){return yD.apply(this,arguments)}function yD(){return yD=g(function*(t){if(zi(t))for(const e of t.zr)yield e(!0)}),yD.apply(this,arguments)}function Ba(t){return _D.apply(this,arguments)}function _D(){return _D=g(function*(t){for(const e of t.zr)yield e(!1)}),_D.apply(this,arguments)}function Bf(t,e){const n=S(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),ED(n)?wD(n):Ha(n).lr()&&vD(n,e))}function dl(t,e){const n=S(t),r=Ha(n);n.Wr.delete(e),r.lr()&&DF(n,e),0===n.Wr.size&&(r.lr()?r._r():zi(n)&&n.Jr.set("Unknown"))}function vD(t,e){t.Yr.X(e.targetId),Ha(t).Pr(e)}function DF(t,e){t.Yr.X(e),Ha(t).vr(e)}function wD(t){t.Yr=new LX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Ha(t).start(),t.Jr.Br()}function ED(t){return zi(t)&&!Ha(t).hr()&&t.Wr.size>0}function zi(t){return 0===S(t).Gr.size}function bF(t){t.Yr=void 0}function BZ(t){return ID.apply(this,arguments)}function ID(){return ID=g(function*(t){t.Wr.forEach((e,n)=>{vD(t,e)})}),ID.apply(this,arguments)}function $Z(t,e){return DD.apply(this,arguments)}function DD(){return DD=g(function*(t,e){bF(t),ED(t)?(t.Jr.Kr(e),wD(t)):t.Jr.set("Unknown")}),DD.apply(this,arguments)}function HZ(t,e,n){return bD.apply(this,arguments)}function bD(){return bD=g(function*(t,e,n){if(t.Jr.set("Online"),e instanceof CO&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $f(t,r)}else if(e instanceof Rf?t.Yr.ot(e):e instanceof TO?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(q.min()))try{const r=yield fF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(ut.EMPTY_BYTE_STRING,u.snapshotVersion)),DF(i,a);const c=new $i(u.target,a,1,u.sequenceNumber);vD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield $f(t,r)}var r}),bD.apply(this,arguments)}function $f(t,e,n){return TD.apply(this,arguments)}function TD(){return TD=g(function*(t,e,n){if(!js(e))throw e;t.Gr.add(1),yield Ba(t),t.Jr.set("Offline"),n||(n=()=>fF(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield ll(t)}))}),TD.apply(this,arguments)}function TF(t,e){return e().catch(n=>$f(t,n,e))}function $a(t){return CD.apply(this,arguments)}function CD(){return CD=g(function*(t){const e=S(t),n=Wi(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;qZ(e);)try{const i=yield EZ(e.localStore,r);if(null===i){0===e.Qr.length&&n._r();break}r=i.batchId,GZ(e,i)}catch(i){yield $f(e,i)}CF(e)&&SF(e)}),CD.apply(this,arguments)}function qZ(t){return zi(t)&&t.Qr.length<10}function GZ(t,e){t.Qr.push(e);const n=Wi(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function CF(t){return zi(t)&&!Wi(t).hr()&&t.Qr.length>0}function SF(t){Wi(t).start()}function zZ(t){return SD.apply(this,arguments)}function SD(){return SD=g(function*(t){Wi(t).kr()}),SD.apply(this,arguments)}function WZ(t){return AD.apply(this,arguments)}function AD(){return AD=g(function*(t){const e=Wi(t);for(const n of t.Qr)e.Dr(n.mutations)}),AD.apply(this,arguments)}function KZ(t,e,n){return xD.apply(this,arguments)}function xD(){return xD=g(function*(t,e,n){const r=t.Qr.shift(),i=KI.from(r,e,n);yield TF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield $a(t)}),xD.apply(this,arguments)}function QZ(t,e){return RD.apply(this,arguments)}function RD(){return RD=g(function*(t,e){var n;e&&Wi(t).Sr&&(yield(n=g(function*(r,i){if(EO(s=i.code)&&s!==w.ABORTED){const o=r.Qr.shift();Wi(r).wr(),yield TF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $a(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),CF(t)&&SF(t)}),RD.apply(this,arguments)}function kD(){return kD=g(function*(t,e){const n=S(t);e?(n.Gr.delete(2),yield ll(n)):e||(n.Gr.add(2),yield Ba(n),n.Jr.set("Unknown"))}),kD.apply(this,arguments)}function Ha(t){return t.Xr||(t.Xr=function(e,n,r){const i=S(e);return i.Or(),new FZ(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:BZ.bind(null,t),Ni:$Z.bind(null,t),br:HZ.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Xr.wr(),ED(t)?wD(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),bF(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}function Wi(t){return t.Zr||(t.Zr=function(e,n,r){const i=S(e);return i.Or(),new LZ(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:zZ.bind(null,t),Ni:QZ.bind(null,t),Nr:WZ.bind(null,t),Cr:KZ.bind(null,t)}),t.zr.push(function(){var e=g(function*(n){n?(t.Zr.wr(),yield $a(t)):(yield t.Zr.stop(),t.Qr.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Zr}class ND{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ND(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qa(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),js(t))return new D(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Ga{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=HI(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new Ga(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class AF{constructor(){this.eo=new ct(P.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):F():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class za{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new za(e,n,Ga.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class YZ{constructor(){this.so=void 0,this.listeners=[]}}class JZ{constructor(){this.queries=new Ua(e=>oO(e),Qc),this.onlineState="Unknown",this.io=new Set}}function OD(){return OD=g(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new YZ),i)try{s.so=yield n.onListen(r)}catch(o){const a=qa(o,`Initialization of query '${jI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&UD(n)}),OD.apply(this,arguments)}function LD(){return LD=g(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),LD.apply(this,arguments)}function XZ(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&UD(n)}function ZZ(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function UD(t){t.io.forEach(e=>{e.next()})}class VD{constructor(e,n,r){this.query=e,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.ao?this.ho(e)&&(this.co.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class MF{constructor(e){this.key=e}}class kF{constructor(e){this.key=e}}class NF{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=me(),this.mutatedKeys=me(),this.Ao=aO(e),this.Ro=new Ga(this.Ao)}get bo(){return this.To}Po(e,n){const r=n?n.vo:new AF,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Df(this.query)&&i.size===this.query.limit?i.last():null,c=bf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Yc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Df(this.query)||bf(this.query))for(;o.size>this.query.limit;){const l=Df(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new za(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new AF,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=me(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new kF(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new MF(r))}),n}ko(e){this.To=e.zn,this.Io=me();const n=this.Po(e.documents);return this.applyChanges(n,!0)}xo(){return za.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class nee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ree{constructor(e){this.key=e,this.$o=!1}}class iee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Ua(a=>oO(a),Qc),this.Fo=new Map,this.Lo=new Set,this.Bo=new ct(P.comparator),this.Uo=new Map,this.qo=new lD,this.Ko={},this.jo=new Map,this.Qo=$s.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function see(t,e){return jD.apply(this,arguments)}function jD(){return jD=g(function*(t,e){const n=cb(t);let r,i;const s=n.Mo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Va(n.localStore,Wn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield BD(n,e,r,"current"===a),n.isPrimaryClient&&Bf(n.remoteStore,o)}return i}),jD.apply(this,arguments)}function BD(t,e,n,r){return $D.apply(this,arguments)}function $D(){return $D=g(function*(t,e,n,r){t.Go=(l,d,h)=>{return(f=g(function*(p,m,_,v){let y=m.view.Po(_);y.Bn&&(y=yield Lf(p.localStore,m.query,!1).then(({documents:W})=>m.view.Po(W,y)));const T=v&&v.targetChanges.get(m.targetId),k=m.view.applyChanges(y,p.isPrimaryClient,T);return XD(p,m.targetId,k.Co),k.snapshot}),function(p,m,_,v){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Lf(t.localStore,e,!0),s=new NF(e,i.zn),o=s.Po(i.documents),a=tl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);XD(t,n,u.Co);const c=new nee(e,n,s);return t.Mo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),u.snapshot}),$D.apply(this,arguments)}function oee(t,e){return HD.apply(this,arguments)}function HD(){return HD=g(function*(t,e){const n=S(t),r=n.Mo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!Qc(s,e))),void n.Mo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ja(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),dl(n.remoteStore,r.targetId),Wa(n,r.targetId)}).catch(Hs))):(Wa(n,r.targetId),yield ja(n.localStore,r.targetId,!0))}),HD.apply(this,arguments)}function qD(){return qD=g(function*(t,e,n){const r=lb(t);try{const i=yield function(s,o){const a=S(s),u=Mt.now(),c=o.reduce((d,h)=>d.add(h.key),me());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=RX(p,l.get(p.key));null!=m&&f.push(new ji(p.key,m,ZP(m.value.mapValue),Xe.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new ct(se)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,n),yield di(r,i.changes),yield $a(r.remoteStore)}catch(i){const s=qa(i,"Failed to persist write");n.reject(s)}}),qD.apply(this,arguments)}function PF(t,e){return GD.apply(this,arguments)}function GD(){return GD=g(function*(t,e){const n=S(t);try{const r=yield wZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?V(o.$o):i.removedDocuments.size>0&&(V(o.$o),o.$o=!1))}),yield di(n,r,e)}catch(r){yield Hs(r)}}),GD.apply(this,arguments)}function OF(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Mo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&UD(a)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uee(t,e,n){return zD.apply(this,arguments)}function zD(){return zD=g(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new ct(P.comparator);o=o.insert(s,Re.newNoDocument(s,q.min()));const a=me().add(s),u=new el(q.min(),new Map,new Ue(se),o,a);yield PF(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),ZD(r)}else yield ja(r.localStore,e,!1).then(()=>Wa(r,e,n)).catch(Hs)}),zD.apply(this,arguments)}function cee(t,e){return WD.apply(this,arguments)}function WD(){return WD=g(function*(t,e){const n=S(t),r=e.batch.batchId;try{const i=yield vZ(n.localStore,e);JD(n,r,null),YD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield di(n,i)}catch(i){yield Hs(i)}}),WD.apply(this,arguments)}function lee(t,e,n){return KD.apply(this,arguments)}function KD(){return KD=g(function*(t,e,n){const r=S(t);try{const i=yield function(s,o){const a=S(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.An.lookupMutationBatch(u,o).next(l=>(V(null!==l),c=l.keys(),a.An.removeMutationBatch(u,l))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,c))})}(r.localStore,e);JD(r,e,n),YD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield di(r,i)}catch(i){yield Hs(i)}}),KD.apply(this,arguments)}function YD(t,e){(t.jo.get(e)||[]).forEach(n=>{n.resolve()}),t.jo.delete(e)}function JD(t,e,n){const r=S(t);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Wa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Mo.delete(r),n&&t.Oo.zo(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||FF(t,r)})}function FF(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(dl(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),ZD(t))}function XD(t,e,n){for(const r of n)r instanceof MF?(t.qo.addReference(r.key,e),hee(t,r)):r instanceof kF?(b("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||FF(t,r.key)):F()}function hee(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(b("SyncEngine","New document in limbo: "+n),t.Lo.add(r),ZD(t))}function ZD(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new P(fe.fromString(e)),r=t.Qo.next();t.Uo.set(r,new ree(n)),t.Bo=t.Bo.insert(n,r),Bf(t.remoteStore,new $i(Wn(Ta(n.path)),r,2,Mn.I))}}function di(t,e,n){return eb.apply(this,arguments)}function eb(){return eb=g(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.Mo.isEmpty()||(r.Mo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=iD.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Oo.br(i),yield(a=g(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(c,h=>E.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!js(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),eb.apply(this,arguments)}function fee(t,e){return tb.apply(this,arguments)}function tb(){return tb=g(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield hF(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new D(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield di(n,r.Gn)}var i}),tb.apply(this,arguments)}function pee(t,e){const n=S(t),r=n.Uo.get(e);if(r&&r.$o)return me().add(r.key);{let i=me();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Mo.get(o);i=i.unionWith(a.view.bo)}return i}}function cb(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uee.bind(null,e),e.Oo.br=XZ.bind(null,e.eventManager),e.Oo.zo=ZZ.bind(null,e.eventManager),e}function lb(t){const e=S(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lee.bind(null,e),e}class Dee{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.k=cl(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function dF(t,e,n,r){return new _Z(t,e,n,r)}(this.persistence,new lF,e.initialUser,this.k)}Yo(e){return new RZ(dD.ks,this.k)}Jo(e){return new vF}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class db{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>OF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fee.bind(null,r.syncEngine),yield function MD(t,e){return kD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JZ}createDatastore(e){const n=cl(e.databaseInfo.databaseId),r=new OZ(e.databaseInfo);return new UZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>OF(this.syncEngine,a,0),o=wF.Pt()?new wF:new kZ,new jZ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new iee(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=S(n);b("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Ba(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Hf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class xee{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=qP.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=qa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function jF(t,e){return hb.apply(this,arguments)}function hb(){return hb=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield hF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),hb.apply(this,arguments)}function BF(t,e){return fb.apply(this,arguments)}function fb(){return fb=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield pb(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=g(function*(o,a){const u=S(o);u.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const c=zi(u);u.Gr.add(3),yield Ba(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield ll(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),fb.apply(this,arguments)}function pb(t){return gb.apply(this,arguments)}function gb(){return gb=g(function*(t){return t.offlineComponents||(b("FirestoreClient","Using default OfflineComponentProvider"),yield jF(t,new Dee)),t.offlineComponents}),gb.apply(this,arguments)}function qf(t){return mb.apply(this,arguments)}function mb(){return mb=g(function*(t){return t.onlineComponents||(b("FirestoreClient","Using default OnlineComponentProvider"),yield BF(t,new db)),t.onlineComponents}),mb.apply(this,arguments)}function Ka(t){return vb.apply(this,arguments)}function vb(){return vb=g(function*(t){const e=yield qf(t),n=e.eventManager;return n.onListen=see.bind(null,e.syncEngine),n.onUnlisten=oee.bind(null,e.syncEngine),n}),vb.apply(this,arguments)}class Uee{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}const zF=new Map;function wb(t,e,n){if(!n)throw new D(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t){if(!P.isDocumentKey(t))throw new D(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KF(t){if(P.isDocumentKey(t))throw new D(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gf(t);throw new D(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class YF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Vee(t,e,n,r){if(!0===e&&!0===r)throw new D(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YF({}),this._settingsFrozen=!1,e instanceof hl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new iX;switch(n.type){case"gapi":const r=n.client;return V(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new uX(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zF.get(e);n&&(b("ComponentProvider","Removing Datastore"),zF.delete(e),n.terminate())}(this),Promise.resolve()}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}}class qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Or extends qt{constructor(e,n,r){super(e,n,Ta(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new P(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function jee(t,e,...n){if(t=Gn(t),wb("collection","path",e),t instanceof fl){const r=fe.fromString(e,...n);return KF(r),new Or(t,null,r)}{if(!(t instanceof He||t instanceof Or))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return KF(r),new Or(t.firestore,null,r)}}function JF(t,e,...n){if(t=Gn(t),1===arguments.length&&(e=qP.A()),wb("doc","path",e),t instanceof fl){const r=fe.fromString(e,...n);return WF(r),new He(t,null,new P(r))}{if(!(t instanceof He||t instanceof Or))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return WF(r),new He(t.firestore,t instanceof Or?t.converter:null,new P(r))}}class $ee{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new mD(this,"async_queue_retry"),this.bc=()=>{const n=jf();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=jf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const n=jf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const n=new yt;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return g(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(n){if(!js(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const n=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=n,n}enqueueAfterDelay(e,n,r){this.Pc(),this.Rc.indexOf(e)>-1&&(n=0);const i=ND.createAndSchedule(this,e,n,r,s=>this.Sc(s));return this.Tc.push(i),i}Pc(){this.Ec&&F()}verifyOperationInProgress(){}Dc(){var e=this;return g(function*(){let n;do{n=e.mc,yield n}while(n!==e.mc)})()}Cc(e){for(const n of this.Tc)if(n.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const n=this.Tc.indexOf(e);this.Tc.splice(n,1)}}function Eb(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends fl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new $ee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||XF(this),this._firestoreClient.terminate()}}function qee(t=By()){return ra(t,"firestore").getImmediate()}function wt(t){return t._firestoreClient||XF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XF(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Uee(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new xee(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Qa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(ut.fromBase64String(e))}catch(n){throw new D(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qs(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tL{constructor(e){this._methodName=e}}class Ib{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}const Gee=/^__.*__$/;class zee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}function rL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class zf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Wf(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(rL(this.$c)&&Gee.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class Wee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||cl(e)}Qc(e,n,r,i=!1){return new zf({$c:e,methodName:n,jc:r,path:Bt.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Ya(t){const e=t._freezeSettings(),n=cl(t._databaseId);return new Wee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Db(t,e,n,r,i,s={}){const o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);Tb("Data must be an object, but it was:",o,r);const a=uL(r,o);let u,c;if(s.merge)u=new Ea(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Cb(e,d,n);if(!o.contains(h))throw new D(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);lL(l,h)||l.push(h)}u=new Ea(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new zee(new $t(a),u,c)}function Gs(t,e){if(cL(t=Gn(t)))return Tb("Unsupported field value:",e,t),uL(t,e);if(t instanceof tL)return function(n,r){if(!rL(r.$c))throw r.qc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Gs(o,r.Uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Gn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return lO(r.k,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:nl(r.k,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nl(r.k,i)}}if(n instanceof Ib)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qs)return{bytesValue:RO(r.k,n._byteString)};if(n instanceof He){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.qc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.qc(`Unsupported field value: ${Gf(n)}`)}(t,e)}function uL(t,e){const n={};return WP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,(r,i)=>{const s=Gs(i,e.Mc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function cL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Ib||t instanceof qs||t instanceof He||t instanceof tL)}function Tb(t,e,n){if(!cL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Gf(n);throw e.qc("an object"===r?t+" a custom object":t+" "+r)}var r}function Cb(t,e,n){if((e=Gn(e))instanceof Qa)return e._internalPath;if("string"==typeof e)return Sb(t,e);throw Wf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jee=new RegExp("[~\\*/\\[\\]]");function Sb(t,e,n){if(e.search(Jee)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qa(...e.split("."))._internalPath}catch(r){throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(w.INVALID_ARGUMENT,a+t+u)}function lL(t,e){return t.some(n=>n.isEqual(e))}class Ab{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Xee extends Ab{data(){return super.data()}}function Kf(t,e){return"string"==typeof e?Sb(t,e):e instanceof Qa?e._internalPath:e._delegate._internalPath}class zs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends Ab{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qf extends Ja{data(e={}){return super.data(e)}}class Xa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qf(this._firestore,this._userDataWriter,r.key,r,new zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Qf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Qf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Zee(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Ws extends class nte{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){const r={};return Ps(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ib(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=KP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);V(HO(r));const i=new hl(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function ite(t){return gl(ce(t.firestore,Ne),[new Zc(t._key,Xe.none())])}function ste(t,e){const n=ce(t.firestore,Ne),r=JF(t),i=function xb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return gl(n,[Db(Ya(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Xe.exists(!1))]).then(()=>r)}function gl(t,e){return function(n,r){const i=new yt;return n.asyncQueue.enqueueAndForget(g(function*(){return function aee(t,e,n){return qD.apply(this,arguments)}(yield function _b(t){return qf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(wt(t),e)}!function(t,e=!0){va="9.6.4",dn(new en("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ne(i,new oX(n.getProvider("auth-internal")),new cX(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Le(BP,"3.4.3",t),Le(BP,"3.4.3","esm2017")}();class Jf{constructor(e){return e}}const vL="firestore",Mb=new X("angularfire2.firestore-instances");function lte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Jf(r)}}const dte={provide:class ute{constructor(){return vv(vL)}},deps:[[new Be,Mb]]},hte={provide:Jf,useFactory:function cte(t,e){const n=_v(vL,t,e);return n&&new Jf(n)},deps:[[new Be,Mb],la]};let fte=(()=>{class t{constructor(){Le("angularfire",mh.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:[hte,dte]}),t})();function pte(t,...e){return{ngModule:fte,providers:[{provide:Mb,useFactory:lte(t),multi:!0,deps:[Me,rt,wv,Ev,[new Be,T1],[new Be,Uv],...e]}]}}const gte=ki(ste,!0),mte=ki(jee,!0),yte=ki(ite,!0),_te=ki(qee,!0);var vte={includeMetadataChanges:!1};function kb(t,e){return void 0===e&&(e=vte),new Ee(function(n){var r=function ote(t,...e){var n,r,i;t=Gn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Eb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Eb(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof He)c=ce(t.firestore,Ne),l=Ta(t._key.path),u={next:d=>{e[o]&&e[o](function Rb(t,e,n){const r=n.docs.get(e._key),i=new Ws(t);return new Ja(t,i,e._key,r,new zs(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,qt);c=ce(d.firestore,Ne),l=d._query;const h=new Ws(c);u={next:f=>{e[o]&&e[o](new Xa(c,h,d,f))},error:e[o+1],complete:e[o+2]},function dL(t){if(bf(t)&&0===t.explicitOrderBy.length)throw new D(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Hf(p),_=new VD(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function PD(t,e){return OD.apply(this,arguments)}(yield Ka(d),_)})),()=>{m.nc(),d.asyncQueue.enqueueAndForget(g(function*(){return function FD(t,e){return LD.apply(this,arguments)}(yield Ka(d),_)}))}}(wt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}let Ste=(()=>{class t{constructor(n){this.store=n,this.components=null,this.collection=null,this.dbPath=""}getAll(){if(!this.components){const n=localStorage.getItem("user");if(!n)return;const r=JSON.parse(n).uid;this.dbPath=`/users/${r}/components`,this.collection=mte(this.store,this.dbPath),this.components=function Cte(t,e){return void 0===e&&(e={}),function Tte(t){return kb(t,{includeMetadataChanges:!0}).pipe(de(function(e){return e.docs}))}(t).pipe(de(function(n){return n.map(function(r){return function wL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}(this.collection,{idField:"fireID"})}return this.components}addComponent(n){this.collection&&gte(this.collection,n)}deleteComponent(n){if(this.collection){const r=JF(this.store,`${this.dbPath}/${n.fireID}`);yte(r)}}}return t.\u0275fac=function(n){return new(n||t)(M(Jf))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class bL{}class TL{}class hi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new hi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof hi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Ate{encodeKey(e){return CL(e)}encodeValue(e){return CL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Rte=/%(\d[a-f0-9])/gi,Mte={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function CL(t){return encodeURIComponent(t).replace(Rte,(e,n)=>{var r;return null!==(r=Mte[n])&&void 0!==r?r:e})}function SL(t){return`${t}`}class Ki{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ate,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xte(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ki({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(SL(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(SL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kte{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function AL(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function xL(t){return"undefined"!=typeof Blob&&t instanceof Blob}function RL(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ml{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Nte(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hi),this.context||(this.context=new kte),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ki,this.urlWithParams=n}serializeBody(){return null===this.body?null:AL(this.body)||xL(this.body)||RL(this.body)||function Pte(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ki?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||RL(this.body)?null:xL(this.body)?this.body.type||null:AL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ki?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new ml(r,i,o,{params:l,headers:c,context:d,reportProgress:u,responseType:s,withCredentials:a})}}var et=(()=>((et=et||{})[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et))();class Ob{constructor(e,n=200,r="OK"){this.headers=e.headers||new hi,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Fb extends Ob{constructor(e={}){super(e),this.type=et.ResponseHeader}clone(e={}){return new Fb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xf extends Ob{constructor(e={}){super(e),this.type=et.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ML extends Ob{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Lb(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ub=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ml)s=n;else{let u,c;u=i.headers instanceof hi?i.headers:new hi(i.headers),i.params&&(c=i.params instanceof Ki?i.params:new Ki({fromObject:i.params})),s=new ml(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=K(s).pipe(Qo(u=>this.handler.handle(u)));if(n instanceof ml||"events"===i.observe)return o;const a=o.pipe(fs(u=>u instanceof Xf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(de(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(de(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(de(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ki).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Lb(i,r))}post(n,r,i={}){return this.request("POST",n,Lb(i,r))}put(n,r,i={}){return this.request("PUT",n,Lb(i,r))}}return t.\u0275fac=function(n){return new(n||t)(M(bL))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class kL{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const NL=new X("HTTP_INTERCEPTORS");let Ote=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Fte=/^\)\]\}',?\n/;let PL=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ee(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",m=new hi(i.getAllResponseHeaders()),_=function Lte(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new Fb({headers:m,status:f,statusText:p,url:_}),o},u=()=>{let{headers:f,status:p,statusText:m,url:_}=a(),v=null;204!==p&&(v=void 0===i.response?i.responseText:i.response),0===p&&(p=v?200:0);let y=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof v){const T=v;v=v.replace(Fte,"");try{v=""!==v?JSON.parse(v):null}catch(k){v=T,y&&(y=!1,v={error:k,text:v})}}y?(r.next(new Xf({body:v,headers:f,status:p,statusText:m,url:_||void 0})),r.complete()):r.error(new ML({error:v,headers:f,status:p,statusText:m,url:_||void 0}))},c=f=>{const{url:p}=a(),m=new ML({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:et.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:et.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:et.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(M(IR))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Vb=new X("XSRF_COOKIE_NAME"),jb=new X("XSRF_HEADER_NAME");class OL{}let Ute=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=pR(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(M(Sn),M(zo),M(Vb))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Bb=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(M(OL),M(jb))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),Vte=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(NL,[]);this.chain=r.reduceRight((i,s)=>new kL(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(M(TL),M(rt))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),jte=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Bb,useClass:Ote}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:Vb,useValue:n.cookieName}:[],n.headerName?{provide:jb,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:[Bb,{provide:NL,useExisting:Bb,multi:!0},{provide:OL,useClass:Ute},{provide:Vb,useValue:"XSRF-TOKEN"},{provide:jb,useValue:"X-XSRF-TOKEN"}]}),t})(),Bte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=En({providers:[Ub,{provide:bL,useClass:Vte},PL,{provide:TL,useExisting:PL}],imports:[[jte.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function $te(t,e){if(1&t&&(Se(0,"div",14),Se(1,"div",15),Tr(2),Ae(),Se(3,"div",16),Ir(4,"img",17),Ae(),Se(5,"div",18),Tr(6),Ae(),Se(7,"div",9),Tr(8,"/"),Ae(),Se(9,"div",19),Tr(10),Ae(),Ae()),2&t){const n=e.$implicit;Ut(2),Xg(n.weekday),Ut(2),Ou("src","../../../assets/img/weather/",n.weather_icon,".svg",Du),Ut(2),Ti("",n.min,"\xb0"),Ut(4),Ti("",n.max,"\xb0")}}let Hte=(()=>{class t{constructor(n){this.http=n,this.WEATHER_API_KEY="9a48ea7d19a72a24440fbb791b7f0a55",this.LATITUDE=47.398577,this.LONGITUDE=8.599249,this.NUM_DAYS=5,this.weatherData=this.http.get(`https://api.open-meteo.com/v1/forecast?latitude=${this.LATITUDE}&longitude=${this.LONGITUDE}&daily=apparent_temperature_max,apparent_temperature_min,precipitation_sum,weathercode&current_weather=true&timezone=Europe%2FBerlin`).pipe(hT()),this.weatherData.subscribe(this.parseWeatherData.bind(this))}toDayString(n){switch(n%7){case 0:return"So";case 1:return"Mo";case 2:return"Di";case 3:return"Mi";case 4:return"Do";case 5:return"Fr";default:return"Sa"}}toSVGPath(n){return`src/img/weather/${n=n.replace("n","d")}.svg`}parseWeatherData(n){console.log(n),this.temperature=Math.round(n.current_weather.temperature),this.wind=Math.round(n.current_weather.windspeed),this.weather_icon=n.current_weather.weathercode,this.rain=Math.round(n.daily.precipitation_sum[0]),this.forecast=[];for(let r=1;r<=this.NUM_DAYS;r++){const i=new Date,s=this.toDayString(i.getDay()+r),o=Math.round(n.daily.apparent_temperature_min[r]),a=Math.round(n.daily.apparent_temperature_max[r]);this.forecast.push({min:o,max:a,weekday:s,weather_icon:n.daily.weathercode[r]})}}}return t.\u0275fac=function(n){return new(n||t)(O(Ub))},t.\u0275cmp=Zi({type:t,selectors:[["app-weather"]],decls:18,vars:5,consts:[[1,"grid","grid-cols-1","grid-rows-2","gap-2","h-screen",2,"padding-top","120px"],[1,"grid","grid-cols-2","gap-2","p-4"],["alt","","srcset","",3,"src"],[1,"text-8xl","font-bold","text-right"],[1,"grid","grid-cols-2","h-10","pt-2"],[1,""],["src","../../../assets/img/weather/raindrop.svg","width","29px"],[1,"text-xl","text-center"],[1,"grid","grid-cols-2","h-10","pt-2","justify-items-center"],[1,"text-center"],["src","../../../assets/img/weather/wind.svg","width","29px"],["id","wind",1,"text-xl","text-center"],[1,"place-content-evenly","col-span-2","pl-2","pr-4",2,"padding-top","120px"],["class","grid grid-cols-7 gap-4 text-xl pb-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-7","gap-4","text-xl","pb-2"],["id","weekday-0",1,"col-span-2"],[1,"col-span-2","justify-self-center"],["width","29px",3,"src"],["id","min-temp-0",1,"text-right"],["id","max-temp-0"]],template:function(n,r){1&n&&(Se(0,"div",0),Se(1,"div",1),Se(2,"div"),Ir(3,"img",2),Ae(),Se(4,"div",3),Tr(5),Ae(),Se(6,"div",4),Se(7,"div",5),Ir(8,"img",6),Ae(),Se(9,"div",7),Tr(10),Ae(),Ae(),Se(11,"div",8),Se(12,"div",9),Ir(13,"img",10),Ae(),Se(14,"div",11),Tr(15),Ae(),Ae(),Ae(),Se(16,"div",12),us(17,$te,11,4,"div",13),Ae(),Ae()),2&n&&(Ut(3),Ou("src","../../../assets/img/weather/",r.weather_icon,".svg",Du),Ut(2),Ti("",r.temperature,"\xb0"),Ut(5),Ti("",r.rain," mm"),Ut(5),Ti("",r.wind," km/h"),Ut(2),bi("ngForOf",r.forecast))},directives:[Km],styles:[""]}),t})(),qte=(()=>{class t{constructor(){this.type=""}ngAfterViewInit(){this.refreshTime(),setInterval(()=>{this.refreshTime()},1e3)}refreshTime(){const n=new Date;this.hours=n.getHours().toString(),this.minutes=n.getMinutes().toString(),1==this.minutes.length&&(this.minutes="0"+this.minutes)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zi({type:t,selectors:[["app-clock"]],inputs:{type:"type"},decls:2,vars:2,consts:[[1,"text-8xl","font-bold","place-items-center","flex","justify-center","items-center","m-4",2,"padding-top","120px"]],template:function(n,r){1&n&&(Se(0,"div",0),Tr(1),Ae()),2&n&&(Ut(1),Zg("",r.hours,":",r.minutes,""))},styles:[""]}),t})();function Gte(t,e){1&t&&Ir(0,"div"),2&t&&function iA(t,e,n){rr(bn,br,xo(I(),t,e,n),!0)}("flex items-center justify-center ",Pu().$implicit.classes,"")}function zte(t,e){1&t&&(Se(0,"div"),Ir(1,"app-weather"),Ae()),2&t&&Yg(Pu().$implicit.classes)}function Wte(t,e){1&t&&(Se(0,"div"),Ir(1,"app-clock"),Ae()),2&t&&Yg(Pu().$implicit.classes)}function Kte(t,e){if(1&t&&(function Wg(t,e,n){const r=I(),i=oe(),s=t+20,o=i.firstCreatePass?function QB(t,e,n,r,i){const s=e.consts,o=_i(s,r),a=Io(e,t,8,"ng-container",o);return null!==o&&ud(a,o,!0),Tg(e,n,a,_i(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];mr(o,!0);const a=r[s]=r[Y].createComment("");td(i,r,a,o),Lt(a,r),Ml(o)&&(Dg(i,r,o),_C(i,o,r)),null!=n&&bg(r,o)}(0),us(1,Gte,1,3,"div",3),us(2,zte,2,3,"div",3),us(3,Wte,2,3,"div",3),function Kg(){let t=tt();const e=oe();bp()?Tp():(t=t.parent,mr(t,!1)),e.firstCreatePass&&(Ll(e,t),mp(t)&&e.queries.elementEnd(t))}()),2&t){const n=e.$implicit;Ut(1),bi("ngIf","empty"==n.id),Ut(1),bi("ngIf","weather"==n.id),Ut(1),bi("ngIf","clock"==n.id)}}function Qte(t,e){if(1&t){const n=function ES(){return I()}();Se(0,"button",4),Nu("click",function(){return function NT(t){return j.lFrame.contextLView=t,t[8]}(n),Pu().login()}),Tr(1,"Login"),Ae()}}const Yte=[{path:"",component:(()=>{class t{constructor(n,r){this.authService=n,this.firestoreService=r,this.userComponents=[]}augmentComponentClasses(){for(const n of this.userComponents){let r;switch(+n.position){case 1:r="col-start-1 row-start-1";break;case 2:r="col-start-2 row-start-1";break;case 3:r="col-start-3 row-start-1";break;case 4:r="col-start-1 row-start-2";break;case 5:r="col-start-2 row-start-2";break;case 6:r="col-start-3 row-start-2"}r+=` row-span-${n.height} col-span-${n.width}`,n.classes=r}this.emptyPositions=Array(6-this.userComponents.length).fill(0)}ngAfterContentInit(){var n=this;return g(function*(){n.signedOut=!0,localStorage.getItem("user")?(n.subscribe(),n.signedOut=!1):(yield n.authService.storeUser(),localStorage.getItem("user")&&(n.signedOut=!1,n.subscribe()))})()}login(){var n=this;return g(function*(){n.authService.login()})()}subscribe(){var n;null===(n=this.firestoreService.getAll())||void 0===n||n.subscribe(r=>{this.userComponents=r,this.augmentComponentClasses()})}}return t.\u0275fac=function(n){return new(n||t)(O(YY),O(Ste))},t.\u0275cmp=Zi({type:t,selectors:[["app-display"]],decls:3,vars:2,consts:[[1,"grid","grid-cols-3","grid-rows-2","gap-2","pl-4","pr-4","h-screen","w-screen","bg-black","text-white"],[4,"ngFor","ngForOf"],["class","bg-red-800",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],[1,"bg-red-800",3,"click"]],template:function(n,r){1&n&&(Se(0,"div",0),us(1,Kte,4,3,"ng-container",1),us(2,Qte,2,0,"button",2),Ae()),2&n&&(Ut(1),bi("ngForOf",r.userComponents),Ut(1),bi("ngIf",r.signedOut))},directives:[Km,mR,Hte,qte],styles:[""]}),t})()}];let Jte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t}),t.\u0275inj=En({imports:[[LM.forRoot(Yte)],LM]}),t})(),Xte=(()=>{class t{constructor(){this.title="smart-mirror-display"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Ir(0,"router-outlet")},directives:[wy],styles:[""]}),t})();const FL_firebase={projectId:"smartmirror-339017",appId:"1:661778699910:web:dbc8203725b2549943a307",storageBucket:"smartmirror-339017.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAZZi5_oJPdyujGe1CRpQymlv6bptkg-5M",authDomain:"smartmirror-339017.firebaseapp.com",messagingSenderId:"661778699910"};let ene=(()=>{class t{constructor(n){this.http=n}getWeatherData(){return this.http.get("https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&daily=weathercode,temperature_2m_max,temperature_2m_min&current_weather=true&timezone=Europe%2FBerlin")}}return t.\u0275fac=function(n){return new(n||t)(M(Ub))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=On({type:t,bootstrap:[Xte]}),t.\u0275inj=En({providers:[ene],imports:[[UW,Jte,y5(()=>_5(FL_firebase)),zY(()=>WY()),pte(()=>_te()),Bte]]}),t})();(function pG(){$x=!1})(),FW().bootstrapModule(tne).catch(t=>console.error(t))},940:function(vl,wl){!function(Qi){"use strict";function ye(N){return Array.prototype.slice.call(N)}function Qs(N){return new Promise(function(Z,le){N.onsuccess=function(){Z(N.result)},N.onerror=function(){le(N.error)}})}function fi(N,Z,le){var pe,re=new Promise(function(zt,pi){Qs(pe=N[Z].apply(N,le)).then(zt,pi)});return re.request=pe,re}function Ys(N,Z,le){var pe=fi(N,Z,le);return pe.then(function(re){if(re)return new hr(re,pe.request)})}function qe(N,Z,le){le.forEach(function(pe){Object.defineProperty(N.prototype,pe,{get:function(){return this[Z][pe]},set:function(re){this[Z][pe]=re}})})}function Js(N,Z,le,pe){pe.forEach(function(re){re in le.prototype&&(N.prototype[re]=function(){return fi(this[Z],re,arguments)})})}function Yi(N,Z,le,pe){pe.forEach(function(re){re in le.prototype&&(N.prototype[re]=function(){return this[Z][re].apply(this[Z],arguments)})})}function Za(N,Z,le,pe){pe.forEach(function(re){re in le.prototype&&(N.prototype[re]=function(){return Ys(this[Z],re,arguments)})})}function Gt(N){this._index=N}function hr(N,Z){this._cursor=N,this._request=Z}function _n(N){this._store=N}function fr(N){this._tx=N,this.complete=new Promise(function(Z,le){N.oncomplete=function(){Z()},N.onerror=function(){le(N.error)},N.onabort=function(){le(N.error)}})}function Xs(N,Z,le){this._db=N,this.oldVersion=Z,this.transaction=new fr(le)}function Zs(N){this._db=N}qe(Gt,"_index",["name","keyPath","multiEntry","unique"]),Js(Gt,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Za(Gt,"_index",IDBIndex,["openCursor","openKeyCursor"]),qe(hr,"_cursor",["direction","key","primaryKey","value"]),Js(hr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(N){N in IDBCursor.prototype&&(hr.prototype[N]=function(){var Z=this,le=arguments;return Promise.resolve().then(function(){return Z._cursor[N].apply(Z._cursor,le),Qs(Z._request).then(function(pe){if(pe)return new hr(pe,Z._request)})})})}),_n.prototype.createIndex=function(){return new Gt(this._store.createIndex.apply(this._store,arguments))},_n.prototype.index=function(){return new Gt(this._store.index.apply(this._store,arguments))},qe(_n,"_store",["name","keyPath","indexNames","autoIncrement"]),Js(_n,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Za(_n,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Yi(_n,"_store",IDBObjectStore,["deleteIndex"]),fr.prototype.objectStore=function(){return new _n(this._tx.objectStore.apply(this._tx,arguments))},qe(fr,"_tx",["objectStoreNames","mode"]),Yi(fr,"_tx",IDBTransaction,["abort"]),Xs.prototype.createObjectStore=function(){return new _n(this._db.createObjectStore.apply(this._db,arguments))},qe(Xs,"_db",["name","version","objectStoreNames"]),Yi(Xs,"_db",IDBDatabase,["deleteObjectStore","close"]),Zs.prototype.transaction=function(){return new fr(this._db.transaction.apply(this._db,arguments))},qe(Zs,"_db",["name","version","objectStoreNames"]),Yi(Zs,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(N){[_n,Gt].forEach(function(Z){N in Z.prototype&&(Z.prototype[N.replace("open","iterate")]=function(){var le=ye(arguments),pe=le[le.length-1],re=this._store||this._index,zt=re[N].apply(re,le.slice(0,-1));zt.onsuccess=function(){pe(zt.result)}})})}),[Gt,_n].forEach(function(N){N.prototype.getAll||(N.prototype.getAll=function(Z,le){var pe=this,re=[];return new Promise(function(zt){pe.iterateCursor(Z,function(pi){pi?(re.push(pi.value),void 0===le||re.length!=le?pi.continue():zt(re)):zt(re)})})})}),Qi.openDb=function Zf(N,Z,le){var pe=fi(indexedDB,"open",[N,Z]),re=pe.request;return re&&(re.onupgradeneeded=function(zt){le&&le(new Xs(re.result,zt.oldVersion,re.transaction))}),pe.then(function(zt){return new Zs(zt)})},Qi.deleteDb=function eu(N){return fi(indexedDB,"deleteDatabase",[N])},Object.defineProperty(Qi,"__esModule",{value:!0})}(wl)}},vl=>{vl(vl.s=493)}]);