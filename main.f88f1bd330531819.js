(self.webpackChunksmart_mirror_display=self.webpackChunksmart_mirror_display||[]).push([[179],{211:(V,ue,D)=>{"use strict";function E(t){return"function"==typeof t}function P(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const R=P(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function C(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class S{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(s){e=s instanceof R?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{F(s)}catch(o){e=null!=e?e:[],o instanceof R?e=[...e,...o.errors]:e.push(o)}}if(e)throw new R(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F(e);else{if(e instanceof S){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&C(n,e)}remove(e){const{_teardowns:n}=this;n&&C(n,e),e instanceof S&&e._removeParent(this)}}S.EMPTY=(()=>{const t=new S;return t.closed=!0,t})();const L=S.EMPTY;function w(t){return t instanceof S||t&&"closed"in t&&E(t.remove)&&E(t.add)&&E(t.unsubscribe)}function F(t){E(t)?t():t.unsubscribe()}const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(...t){const{delegate:e}=y;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=y;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function q(t){y.setTimeout(()=>{const{onUnhandledError:e}=x;if(!e)throw t;e(t)})}function J(){}const ie=et("C",void 0,void 0);function et(t,e,n){return{kind:t,value:e,error:n}}let A=null;function se(t){if(x.useDeprecatedSynchronousErrorHandling){const e=!A;if(e&&(A={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=A;if(A=null,n)throw r}}else t()}class me extends S{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,w(e)&&e.add(this)):this.destination=O}static create(e,n,r){return new ee(e,n,r)}next(e){this.isStopped?On(function K(t){return et("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?On(function z(t){return et("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?On(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ee extends me{constructor(e,n,r){let i;if(super(),E(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&x.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?tt(i):J,error:tt(null!=n?n:Nt),complete:r?tt(r):J}}}function tt(t,e){return(...n)=>{try{t(...n)}catch(r){x.useDeprecatedSynchronousErrorHandling?function be(t){x.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=t)}(r):q(r)}}}function Nt(t){throw t}function On(t,e){const{onStoppedNotification:n}=x;n&&y.setTimeout(()=>n(t,e))}const O={closed:!0,next:J,error:Nt,complete:J},Wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function It(t){return t}let Se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function lU(t){return t&&t instanceof me||function cU(t){return t&&E(t.next)&&E(t.error)&&E(t.complete)}(t)&&w(t)}(n)?n:new ee(n,r,i);return se(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wD(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Wt](){return this}pipe(...n){return function Ot(t){return 0===t.length?It:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=wD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wD(t){var e;return null!==(e=null!=t?t:x.Promise)&&void 0!==e?e:Promise}const dU=P(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ci=(()=>{class t extends Se{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ED(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dU}next(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){se(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?L:(s.push(n),new S(()=>C(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Se;return n.source=this,n}}return t.create=(e,n)=>new ED(e,n),t})();class ED extends ci{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:L}}function ID(t){return E(null==t?void 0:t.lift)}function Kt(t){return e=>{if(ID(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Qt extends me{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Pe(t,e){return Kt((n,r)=>{let i=0;n.subscribe(new Qt(r,s=>{r.next(t.call(e,s,i++))}))})}function _s(t){return this instanceof _s?(this.v=t,this):new _s(t)}function pU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof _s?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function gU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function DD(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const CD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function SD(t){return E(null==t?void 0:t.then)}function AD(t){return E(t[Wt])}function xD(t){return Symbol.asyncIterator&&E(null==t?void 0:t[Symbol.asyncIterator])}function MD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const RD=function yU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kD(t){return E(null==t?void 0:t[RD])}function ND(t){return pU(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield _s(n.read());if(i)return yield _s(void 0);yield yield _s(r)}}finally{n.releaseLock()}})}function OD(t){return E(null==t?void 0:t.getReader)}function li(t){if(t instanceof Se)return t;if(null!=t){if(AD(t))return function _U(t){return new Se(e=>{const n=t[Wt]();if(E(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(CD(t))return function vU(t){return new Se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(SD(t))return function wU(t){return new Se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,q)})}(t);if(xD(t))return PD(t);if(kD(t))return function EU(t){return new Se(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(OD(t))return function IU(t){return PD(ND(t))}(t)}throw MD(t)}function PD(t){return new Se(e=>{(function bU(t,e){var n,r,i,s;return function hU(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=gU(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function di(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Pt(t,e,n=1/0){return E(e)?Pt((r,i)=>Pe((s,o)=>e(r,s,i,o))(li(t(r,i))),n):("number"==typeof e&&(n=e),Kt((r,i)=>function TU(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;li(n(m,l++)).subscribe(new Qt(e,I=>{null==i||i(I),s?f(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const I=u.shift();o?di(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(new Qt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function wu(t=1/0){return Pt(It,t)}const hi=new Se(t=>t.complete());function Dp(t){return t[t.length-1]}function Eu(t){return function CU(t){return t&&E(t.schedule)}(Dp(t))?t.pop():void 0}function jl(t,e=0){return Kt((n,r)=>{n.subscribe(new Qt(r,i=>di(r,t,()=>r.next(i),e),()=>di(r,t,()=>r.complete(),e),i=>di(r,t,()=>r.error(i),e)))})}function Bl(t,e=0){return Kt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function FD(t,e){if(!t)throw new Error("Iterable cannot be null");return new Se(n=>{di(n,e,()=>{const r=t[Symbol.asyncIterator]();di(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Yt(t,e){return e?function OU(t,e){if(null!=t){if(AD(t))return function xU(t,e){return li(t).pipe(Bl(e),jl(e))}(t,e);if(CD(t))return function RU(t,e){return new Se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(SD(t))return function MU(t,e){return li(t).pipe(Bl(e),jl(e))}(t,e);if(xD(t))return FD(t,e);if(kD(t))return function kU(t,e){return new Se(n=>{let r;return di(n,e,()=>{r=t[RD](),di(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>E(null==r?void 0:r.return)&&r.return()})}(t,e);if(OD(t))return function NU(t,e){return FD(ND(t),e)}(t,e)}throw MD(t)}(t,e):li(t)}function $l(t){return t<=0?()=>hi:Kt((e,n)=>{let r=0;e.subscribe(new Qt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function LD(t={}){const{connector:e=(()=>new ci),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Kt((m,_)=>{c++,!d&&!l&&h();const I=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=Cp(p,i))}),I.subscribe(_),o||(o=new ee({next:v=>I.next(v),error:v=>{d=!0,h(),a=Cp(f,n,v),I.error(v)},complete:()=>{l=!0,h(),a=Cp(f,r),I.complete()}}),Yt(m).subscribe(o))})(s)}}function Cp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe($l(1)).subscribe(()=>t())}function Be(t){for(let e in t)if(t[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function Ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ap(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const FU=Be({__forward_ref__:Be});function xp(t){return t.__forward_ref__=xp,t.toString=function(){return Ve(this())},t}function ye(t){return function UD(t){return"function"==typeof t&&t.hasOwnProperty(FU)&&t.__forward_ref__===xp}(t)?t():t}class Fe extends Error{constructor(e,n){super(function Mp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function wn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}function Hl(t,e){const n=e?` in ${e}`:"";throw new Fe(-201,`No provider for ${wn(t)} found${n}`)}function zn(t,e){null==t&&function Ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function he(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rp(t){return VD(t,ql)||VD(t,BD)}function VD(t,e){return t.hasOwnProperty(e)?t[e]:null}function jD(t){return t&&(t.hasOwnProperty(kp)||t.hasOwnProperty(HU))?t[kp]:null}const ql=Be({\u0275prov:Be}),kp=Be({\u0275inj:Be}),BD=Be({ngInjectableDef:Be}),HU=Be({ngInjectorDef:Be});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let Np;function Bi(t){const e=Np;return Np=t,e}function $D(t,e,n){const r=Rp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&fe.Optional?null:void 0!==e?e:void Hl(Ve(t),"Injector")}function $i(t){return{toString:t}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),Hr=(()=>{return(t=Hr||(Hr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Hr;var t})();const GU="undefined"!=typeof globalThis&&globalThis,zU="undefined"!=typeof window&&window,WU="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je=GU||"undefined"!=typeof global&&global||zU||WU,vo={},$e=[],Gl=Be({\u0275cmp:Be}),Op=Be({\u0275dir:Be}),Pp=Be({\u0275pipe:Be}),HD=Be({\u0275mod:Be}),pi=Be({\u0275fac:Be}),Iu=Be({__NG_ELEMENT_ID__:Be});let KU=0;function qr(t){return $i(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$e,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Hr.Emulated,id:"c",styles:t.styles||$e,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=KU++,r.inputs=WD(t.inputs,n),r.outputs=WD(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(qD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(GD):null,r})}function qD(t){return dn(t)||function Hi(t){return t[Op]||null}(t)}function GD(t){return function vs(t){return t[Pp]||null}(t)}const zD={};function lr(t){return $i(()=>{const e={type:t.type,bootstrap:t.bootstrap||$e,declarations:t.declarations||$e,imports:t.imports||$e,exports:t.exports||$e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(zD[t.id]=t.type),e})}function WD(t,e){if(null==t)return vo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ln=qr;function dn(t){return t[Gl]||null}function dr(t,e){const n=t[HD]||null;if(!n&&!0===e)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return n}function Gr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ar(t){return Array.isArray(t)&&!0===t[1]}function Up(t){return 0!=(8&t.flags)}function Ql(t){return 2==(2&t.flags)}function Yl(t){return 1==(1&t.flags)}function xr(t){return null!==t.template}function e2(t){return 0!=(512&t[2])}function bs(t,e){return t.hasOwnProperty(pi)?t[pi]:null}class r2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function QD(t){return t.type.prototype.ngOnChanges&&(t.setInput=s2),i2}function i2(){const t=JD(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function s2(t,e,n,r){const i=JD(t)||function o2(t,e){return t[YD]=e}(t,{previous:vo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new r2(u&&u.currentValue,e,o===vo),t[r]=e}const YD="__ngSimpleChanges__";function JD(t){return t[YD]||null}let Bp;function nt(t){return!!t.listen}const e0={createRenderer:(t,e)=>function $p(){return void 0!==Bp?Bp:"undefined"!=typeof document?document:void 0}()};function ft(t){for(;Array.isArray(t);)t=t[0];return t}function Jl(t,e){return ft(e[t])}function pr(t,e){return ft(e[t.index])}function Hp(t,e){return t.data[e]}function Qn(t,e){const n=e[t];return Gr(n)?n:n[0]}function qp(t){return 128==(128&t[2])}function qi(t,e){return null==e?null:t[e]}function n0(t){t[18]=0}function Gp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ae={lFrame:h0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function r0(){return ae.bindingsEnabled}function M(){return ae.lFrame.lView}function Me(){return ae.lFrame.tView}function bt(){let t=o0();for(;null!==t&&64===t.type;)t=t.parent;return t}function o0(){return ae.lFrame.currentTNode}function zr(t,e){const n=ae.lFrame;n.currentTNode=t,n.isParent=e}function zp(){return ae.lFrame.isParent}function Wp(){ae.lFrame.isParent=!1}function Xl(){return ae.isInCheckNoChangesMode}function Zl(t){ae.isInCheckNoChangesMode=t}function Do(){return ae.lFrame.bindingIndex++}function mi(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function w2(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kp(e)}function Kp(t){ae.lFrame.currentDirectiveIndex=t}function Yp(t){ae.lFrame.currentQueryIndex=t}function I2(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function l0(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&fe.Host||(i=I2(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ae.lFrame=d0();return r.currentTNode=e,r.lView=t,!0}function ed(t){const e=d0(),n=t[1];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function d0(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?h0(t):e}function h0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function f0(){const t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const p0=f0;function td(){const t=f0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function In(){return ae.lFrame.selectedIndex}function Gi(t){ae.lFrame.selectedIndex=t}function rt(){const t=ae.lFrame;return Hp(t.tView,t.selectedIndex)}function nd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function rd(t,e,n){g0(t,e,3,n)}function id(t,e,n,r){(3&t[2])===n&&g0(t,e,n,r)}function Jp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function g0(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(R2(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function R2(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Su{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sd(t,e,n){const r=nt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Zp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function m0(t){return 3===t||4===t||6===t}function Zp(t){return 64===t.charCodeAt(0)}function od(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||y0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function y0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function _0(t){return-1!==t}function Co(t){return 32767&t}function So(t,e){let n=function F2(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let eg=!0;function ad(t){const e=eg;return eg=t,e}let L2=0;function xu(t,e){const n=ng(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,tg(r.data,t),tg(e,null),tg(r.blueprint,null));const i=ud(t,e),s=t.injectorIndex;if(_0(i)){const o=Co(i),a=So(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function tg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ng(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ud(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function cd(t,e,n){!function U2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Iu)&&(r=n[Iu]),null==r&&(r=n[Iu]=L2++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function E0(t,e,n){if(n&fe.Optional)return t;Hl(e,"NodeInjector")}function I0(t,e,n,r){if(n&fe.Optional&&void 0===r&&(r=null),0==(n&(fe.Self|fe.Host))){const i=t[9],s=Bi(void 0);try{return i?i.get(e,r,n&fe.Optional):$D(e,r,n&fe.Optional)}finally{Bi(s)}}return E0(r,e,n)}function b0(t,e,n,r=fe.Default,i){if(null!==t){const s=function $2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Iu)?t[Iu]:void 0;return"number"==typeof e?e>=0?255&e:j2:e}(n);if("function"==typeof s){if(!l0(e,t,r))return r&fe.Host?E0(i,n,r):I0(e,n,r,i);try{const o=s(r);if(null!=o||r&fe.Optional)return o;Hl(n)}finally{p0()}}else if("number"==typeof s){let o=null,a=ng(t,e),u=-1,c=r&fe.Host?e[16][6]:null;for((-1===a||r&fe.SkipSelf)&&(u=-1===a?ud(t,e):e[a+8],-1!==u&&C0(r,!1)?(o=e[1],a=Co(u),e=So(u,e)):a=-1);-1!==a;){const l=e[1];if(D0(s,a,l.data)){const d=B2(a,e,n,o,r,c);if(d!==T0)return d}u=e[a+8],-1!==u&&C0(r,e[1].data[a+8]===c)&&D0(s,a,e)?(o=l,a=Co(u),e=So(u,e)):a=-1}}}return I0(e,n,r,i)}const T0={};function j2(){return new Ao(bt(),M())}function B2(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function ld(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&xr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ql(a)&&eg:r!=o&&0!=(3&a.type),i&fe.Host&&s===a);return null!==l?Mu(e,o,l,a):T0}function Mu(t,e,n,r){let i=t[n];const s=e.data;if(function k2(t){return t instanceof Su}(i)){const o=i;o.resolving&&function LU(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${t}${n}`)}(wn(s[n]));const a=ad(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Bi(o.injectImpl):null;l0(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function M2(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=QD(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Bi(u),ad(a),o.resolving=!1,p0()}}return i}function D0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function C0(t,e){return!(t&fe.Self||t&fe.Host&&e)}class Ao{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return b0(this._tNode,this._lView,e,r,n)}}const Mo="__parameters__";function ko(t,e,n){return $i(()=>{const r=function ig(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Mo)?u[Mo]:Object.defineProperty(u,Mo,{value:[]})[Mo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class we{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const G2=new we("AnalyzeForEntryComponents");function Wr(t,e){t.forEach(n=>Array.isArray(n)?Wr(n,e):e(n))}function A0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yn(t,e,n){let r=No(t,e);return r>=0?t[1|r]=n:(r=~r,function K2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function og(t,e){const n=No(t,e);if(n>=0)return t[1|n]}function No(t,e){return function R0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Pu={},ug="__NG_DI_FLAG__",fd="ngTempTokenPath",tV=/\n/gm,N0="__source",rV=Be({provide:String,useValue:Be});let Fu;function O0(t){const e=Fu;return Fu=t,e}function iV(t,e=fe.Default){if(void 0===Fu)throw new Fe(203,"");return null===Fu?$D(t,void 0,e):Fu.get(t,e&fe.Optional?null:void 0,e)}function Q(t,e=fe.Default){return(function qU(){return Np}()||iV)(ye(t),e)}function cg(t){const e=[];for(let n=0;n<t.length;n++){const r=ye(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Fe(900,"");let i,s=fe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=sV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function Lu(t,e){return t[ug]=e,t.prototype[ug]=e,t}function sV(t){return t[ug]}const Uu=Lu(ko("Inject",t=>({token:t})),-1),ct=Lu(ko("Optional"),8),Oo=Lu(ko("SkipSelf"),4);class H0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Wi(t){return t instanceof H0?t.changingThisBreaksApplicationSecurity:t}const SV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,AV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var pt=(()=>((pt=pt||{})[pt.NONE=0]="NONE",pt[pt.HTML=1]="HTML",pt[pt.STYLE=2]="STYLE",pt[pt.SCRIPT=3]="SCRIPT",pt[pt.URL=4]="URL",pt[pt.RESOURCE_URL=5]="RESOURCE_URL",pt))();function Lo(t){const e=function $u(){const t=M();return t&&t[12]}();return e?e.sanitize(pt.URL,t)||"":function ju(t,e){const n=function bV(t){return t instanceof H0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Wi(t):function yd(t){return(t=String(t)).match(SV)||t.match(AV)?t:"unsafe:"+t}(le(t))}const Z0="__ngContext__";function fn(t,e){t[Z0]=e}function _g(t){const e=function Hu(t){return t[Z0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function wg(t){return t.ngOriginalError}function JV(t,...e){t.error(...e)}class Uo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function YV(t){return t&&t.ngErrorLogger||JV}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wg(e);for(;n&&wg(n);)n=wg(n);return n||null}}const iC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je))();function Qr(t){return t instanceof Function?t():t}var Jn=(()=>((Jn=Jn||{})[Jn.Important=1]="Important",Jn[Jn.DashCase=2]="DashCase",Jn))();function Ig(t,e){return undefined(t,e)}function qu(t){const e=t[3];return Ar(e)?e[3]:e}function bg(t){return cC(t[13])}function Tg(t){return cC(t[4])}function cC(t){for(;null!==t&&!Ar(t);)t=t[4];return t}function jo(t,e,n,r,i){if(null!=r){let s,o=!1;Ar(r)?s=r:Gr(r)&&(o=!0,r=r[0]);const a=ft(r);0===t&&null!==n?null==i?gC(e,n,a):Ds(e,n,a,i||null,!0):1===t&&null!==n?Ds(e,n,a,i||null,!0):2===t?function IC(t,e,n){const r=vd(t,e);r&&function wj(t,e,n,r){nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function bj(t,e,n,r,i){const s=n[7];s!==ft(n)&&jo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Gu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Cg(t,e,n){return nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function dC(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Gp(i,-1)),n.splice(r,1)}function Sg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&dC(i,r),e>0&&(t[n-1][4]=r[4]);const s=dd(t,10+e);!function hj(t,e){Gu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function hC(t,e){if(!(256&e[2])){const n=e[11];nt(n)&&n.destroyNode&&Gu(t,e,n,3,null,null),function gj(t){let e=t[13];if(!e)return Ag(t[1],t);for(;e;){let n=null;if(Gr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Gr(e)&&Ag(e[1],e),e=e[3];null===e&&(e=t),Gr(e)&&Ag(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ag(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function vj(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Su)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function _j(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):ft(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ar(e[3])){n!==e[3]&&dC(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function fC(t,e,n){return function pC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Hr.None||i===Hr.Emulated)return null}return pr(r,n)}(t,e.parent,n)}function Ds(t,e,n,r,i){nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function gC(t,e,n){nt(t)?t.appendChild(e,n):e.appendChild(n)}function mC(t,e,n,r,i){null!==r?Ds(t,e,n,r,i):gC(t,e,n)}function vd(t,e){return nt(t)?t.parentNode(e):e.parentNode}let vC=function _C(t,e,n){return 40&t.type?pr(t,n):null};function wd(t,e,n,r){const i=fC(t,r,e),s=e[11],a=function yC(t,e,n){return vC(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)mC(s,i,n[u],a,!1);else mC(s,i,n,a,!1)}function Ed(t,e){if(null!==e){const n=e.type;if(3&n)return pr(e,t);if(4&n)return Mg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ed(t,r);{const i=t[e.index];return Ar(i)?Mg(-1,i):ft(i)}}if(32&n)return Ig(e,t)()||ft(t[e.index]);{const r=EC(t,e);return null!==r?Array.isArray(r)?r[0]:Ed(qu(t[16]),r):Ed(t,e.next)}}return null}function EC(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Mg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Ed(r,i)}return e[7]}function Rg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&fn(ft(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Rg(t,e,n.child,r,i,s,!1),jo(e,t,i,a,s);else if(32&u){const c=Ig(n,r);let l;for(;l=c();)jo(e,t,i,l,s);jo(e,t,i,a,s)}else 16&u?bC(t,e,r,n,i,s):jo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Gu(t,e,n,r,i,s){Rg(n,r,t.firstChild,e,i,s,!1)}function bC(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)jo(e,t,i,u[c],s);else Rg(t,e,u,o[3],i,s,!0)}function TC(t,e,n){nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function kg(t,e,n){nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function DC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const CC="ng-template";function Dj(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==DC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function SC(t){return 4===t.type&&t.value!==CC}function Cj(t,e,n){return e===(4!==t.type||n?t.value:CC)}function Sj(t,e,n){let r=4;const i=t.attrs||[],s=function Mj(t){for(let e=0;e<t.length;e++)if(m0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Cj(t,u,n)||""===u&&1===e.length){if(Mr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Dj(t.attrs,c,n)){if(Mr(r))return!1;o=!0}continue}const d=Aj(8&r?"class":u,i,SC(t),n);if(-1===d){if(Mr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==DC(f,c,0)||2&r&&c!==h){if(Mr(r))return!1;o=!0}}}}else{if(!o&&!Mr(r)&&!Mr(u))return!1;if(o&&Mr(u))continue;o=!1,r=u|1&r}}return Mr(r)||o}function Mr(t){return 0==(1&t)}function Aj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Rj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function AC(t,e,n=!1){for(let r=0;r<e.length;r++)if(Sj(t,e[r],n))return!0;return!1}function xC(t,e){return t?":not("+e.trim()+")":e}function Nj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Mr(o)&&(e+=xC(s,i),i=""),r=o,s=s||!Mr(r);n++}return""!==i&&(e+=xC(s,i)),e}const de={};function Le(t){MC(Me(),M(),In()+t,Xl())}function MC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&rd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&id(e,s,0,n)}Gi(n)}function Id(t,e){return t<<17|e<<2}function Rr(t){return t>>17&32767}function Ng(t){return 2|t}function yi(t){return(131068&t)>>2}function Og(t,e){return-131069&t|e<<2}function Pg(t){return 1|t}function BC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Yp(i),o.contentQueries(2,e[s],s)}}}function zu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,n0(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Bo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function qg(t,e,n,r,i){const s=o0(),o=zp(),u=t.data[e]=function Jj(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function v2(){return ae.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Cu(){const t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return zr(s,!0),s}function $o(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Wu(t,e,n){ed(e);try{const r=t.viewQuery;null!==r&&Zg(1,r,n);const i=t.template;null!==i&&$C(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&BC(t,e),t.staticViewQueries&&Zg(2,t.viewQuery,n);const s=t.components;null!==s&&function Kj(t,e){for(let n=0;n<e.length;n++)gB(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,td()}}function Ho(t,e,n,r){const i=e[2];if(256==(256&i))return;ed(e);const s=Xl();try{n0(e),function a0(t){return ae.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&$C(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&rd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&id(e,c,0,null),Jp(e,0)}if(function fB(t){for(let e=bg(t);null!==e;e=Tg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Gp(s,1),i[2]|=1024}}}(e),function hB(t){for(let e=bg(t);null!==e;e=Tg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];qp(r)&&Ho(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&BC(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&rd(e,c)}else{const c=t.contentHooks;null!==c&&id(e,c,1),Jp(e,1)}!function zj(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Gi(~i);else{const s=i,o=n[++r],a=n[++r];w2(o,s),a(2,e[s])}}}finally{Gi(-1)}}(t,e);const a=t.components;null!==a&&function Wj(t,e){for(let n=0;n<e.length;n++)pB(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Zg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&rd(e,c)}else{const c=t.viewHooks;null!==c&&id(e,c,2),Jp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Gp(e[3],-1))}finally{td()}}function Qj(t,e,n,r){const i=e[10],s=!Xl(),o=function t0(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Wu(t,e,r),Ho(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function $C(t,e,n,r,i){const s=In(),o=2&r;try{Gi(-1),o&&e.length>20&&MC(t,e,20,Xl()),n(r,i)}finally{Gi(s)}}function HC(t,e,n){if(Up(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Gg(t,e,n){!r0()||(function iB(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||xu(n,e),fn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=xr(u);c&&cB(e,n,u);const l=Mu(e,t,a,n);fn(l,e),null!==o&&lB(0,a-i,l,u,0,o),c&&(Qn(n.index,e)[8]=l)}}(t,e,n,pr(n,e)),128==(128&n.flags)&&function sB(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function E2(){return ae.lFrame.currentDirectiveIndex}();try{Gi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];Kp(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&JC(c,l)}}finally{Gi(-1),Kp(a)}}(t,e,n))}function zg(t,e,n=pr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function qC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Dd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Dd(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function Yj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:de);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function KC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xn(t,e,n,r,i,s,o,a){const u=pr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(aS(t,n,l,r,i),Ql(e)&&function eB(t,e){const n=Qn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function Zj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,nt(s)?s.setProperty(u,r,i):Zp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Wg(t,e,n,r){let i=!1;if(r0()){const s=function oB(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];AC(n,o.selectors,!1)&&(i||(i=[]),cd(xu(n,e),t,o.type),xr(o)?(XC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ZC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=$o(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=od(n.mergedAttrs,d.hostAttrs),eS(t,n,e,c,d),uB(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function Xj(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||SC(e)?null:dB(d,s);o.push(h),a=KC(d,c,a),u=KC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function aB(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Fe(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=od(n.mergedAttrs,n.attrs),i}function YC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function rB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function JC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function XC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function uB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xr(e)&&(n[""]=t)}}function ZC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eS(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bs(i.type)),o=new Su(s,xr(i),null);t.blueprint[r]=o,n[r]=o,YC(t,e,0,r,$o(t,n,i.hostVars,de),i)}function cB(t,e,n){const r=pr(e,t),i=qC(n),s=t[10],o=Cd(t,zu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function lB(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function dB(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function tS(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function pB(t,e){const n=Qn(e,t);if(qp(n)){const r=n[1];80&n[2]?Ho(r,n,r.template,n[8]):n[5]>0&&Qg(n)}}function Qg(t){for(let r=bg(t);null!==r;r=Tg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ho(o,s,o.template,s[8])}else s[5]>0&&Qg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Qn(n[r],t);qp(i)&&i[5]>0&&Qg(i)}}function gB(t,e){const n=Qn(e,t),r=n[1];(function mB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Wu(r,n,n[8])}function Cd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yg(t){for(;t;){t[2]|=64;const e=qu(t);if(e2(t)&&!e)return t;t=e}return null}function Xg(t,e,n){const r=e[10];r.begin&&r.begin();try{Ho(t,e,t.template,n)}catch(i){throw oS(e,i),i}finally{r.end&&r.end()}}function nS(t){!function Jg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=_g(n),i=r[1];Qj(i,r,i.template,n)}}(t[8])}function Zg(t,e,n){Yp(0),e(t,n)}const wB=(()=>Promise.resolve(null))();function rS(t){return t[7]||(t[7]=[])}function iS(t){return t.cleanup||(t.cleanup=[])}function oS(t,e){const n=t[9],r=n?n.get(Uo,null):null;r&&r.handleError(e)}function aS(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function _i(t,e,n){const r=Jl(e,t);!function lC(t,e,n){nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Sd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ap(i,a):2==s&&(r=Ap(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const em=new we("INJECTOR",-1);class uS{get(e,n=Pu){if(n===Pu){const r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return n}}const tm=new we("Set Injector scope."),Ku={},bB={};let nm;function cS(){return void 0===nm&&(nm=new uS),nm}function lS(t,e=null,n=null,r){const i=dS(t,e,n,r);return i._resolveInjectorDefTypes(),i}function dS(t,e=null,n=null,r){return new TB(t,n,e||cS(),r)}class TB{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Wr(n,a=>this.processProvider(a,e,n)),Wr([e],a=>this.processInjectorType(a,[],s)),this.records.set(em,qo(void 0,this));const o=this.records.get(tm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Pu,r=fe.Default){this.assertNotDestroyed();const i=O0(this),s=Bi(void 0);try{if(!(r&fe.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function kB(t){return"function"==typeof t||"object"==typeof t&&t instanceof we}(e)&&Rp(e);a=u&&this.injectableDefInScope(u)?qo(rm(e),Ku):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&fe.Self?cS():this.parent).get(e,n=r&fe.Optional&&n===Pu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[fd]=o[fd]||[]).unshift(Ve(e)),i)throw o;return function oV(t,e,n,r){const i=t[fd];throw e[N0]&&i.unshift(e[N0]),t.message=function aV(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[fd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Bi(s),O0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ve(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,"")}processInjectorType(e,n,r){if(!(e=ye(e)))return!1;let i=jD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=jD(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Wr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Wr(f,p=>this.processProvider(p,h,f||$e))}}this.injectorDefTypes.add(o);const u=bs(o)||(()=>new o);this.records.set(o,qo(u,Ku));const c=i.providers;if(null!=c&&!a){const l=e;Wr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Go(e=ye(e))?e:ye(e&&e.provide);const s=function CB(t,e,n){return fS(t)?qo(void 0,t.useValue):qo(function hS(t,e,n){let r;if(Go(t)){const i=ye(t);return bs(i)||rm(i)}if(fS(t))r=()=>ye(t.useValue);else if(function AB(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...cg(t.deps||[]));else if(function SB(t){return!(!t||!t.useExisting)}(t))r=()=>Q(ye(t.useExisting));else{const i=ye(t&&(t.useClass||t.provide));if(!function MB(t){return!!t.deps}(t))return bs(i)||rm(i);r=()=>new i(...cg(t.deps))}return r}(t),Ku)}(e);if(Go(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=qo(void 0,Ku,!0),o.factory=()=>cg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Ku&&(n.value=bB,n.value=n.factory()),"object"==typeof n.value&&n.value&&function RB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ye(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function rm(t){const e=Rp(t),n=null!==e?e.factory:bs(t);if(null!==n)return n;if(t instanceof we)throw new Fe(204,"");if(t instanceof Function)return function DB(t){const e=t.length;if(e>0)throw function Ou(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Fe(204,"");const n=function BU(t){const e=t&&(t[ql]||t[BD]);if(e){const n=function $U(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Fe(204,"")}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fS(t){return null!==t&&"object"==typeof t&&rV in t}function Go(t){return"function"==typeof t}let Dt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return lS({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return lS({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Pu,t.NULL=new uS,t.\u0275prov=he({token:t,providedIn:"any",factory:()=>Q(em)}),t.__NG_ELEMENT_ID__=-1,t})();function jB(t,e){nd(_g(t)[1],bt())}let Ad=null;function zo(){if(!Ad){const t=je.Symbol;if(t&&t.iterator)Ad=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ad=r)}}}return Ad}function Qu(t){return!!am(t)&&(Array.isArray(t)||!(t instanceof Map)&&zo()in t)}function am(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function pn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ko(t,e,n,r){return pn(t,Do(),n)?e+le(n)+r:de}function Qo(t,e,n,r,i,s){const a=function Cs(t,e,n,r){const i=pn(t,e,n);return pn(t,e+1,r)||i}(t,function gi(){return ae.lFrame.bindingIndex}(),n,i);return mi(2),a?e+le(n)+r+le(i)+s:de}function Zn(t,e,n,r,i,s,o,a){const u=M(),c=Me(),l=t+20,d=c.firstCreatePass?function JB(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Bo(e,t,4,o||null,qi(c,a));Wg(e,n,l,qi(c,u)),nd(e,l);const d=l.tViews=Dd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];zr(d,!1);const h=u[11].createComment("");wd(c,u,h,d),fn(h,u),Cd(u,u[l]=tS(h,u,h,d)),Yl(d)&&Gg(c,u,d),null!=o&&zg(u,d,a)}function Z(t,e=fe.Default){const n=M();return null===n?Q(t,e):b0(bt(),n,ye(t),e)}function fm(){throw new Error("invalid")}function gn(t,e,n){const r=M();return pn(r,Do(),e)&&Xn(Me(),rt(),r,t,e,r[11],n,!1),gn}function pm(t,e,n,r,i){const o=i?"class":"style";aS(t,n,e.inputs[o],o,r)}function Ee(t,e,n,r){const i=M(),s=Me(),o=20+t,a=i[11],u=i[o]=Cg(a,e,function x2(){return ae.lFrame.currentNamespace}()),c=s.firstCreatePass?function v$(t,e,n,r,i,s,o){const a=e.consts,c=Bo(e,t,2,i,qi(a,s));return Wg(e,n,c,qi(a,o)),null!==c.attrs&&Sd(c,c.attrs,!1),null!==c.mergedAttrs&&Sd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];zr(c,!0);const l=c.mergedAttrs;null!==l&&sd(a,u,l);const d=c.classes;null!==d&&kg(a,u,d);const h=c.styles;null!==h&&TC(a,u,h),64!=(64&c.flags)&&wd(s,i,u,c),0===function f2(){return ae.lFrame.elementDepthCount}()&&fn(u,i),function p2(){ae.lFrame.elementDepthCount++}(),Yl(c)&&(Gg(s,i,c),HC(s,c,i)),null!==r&&zg(i,c)}function Ie(){let t=bt();zp()?Wp():(t=t.parent,zr(t,!1));const e=t;!function g2(){ae.lFrame.elementDepthCount--}();const n=Me();n.firstCreatePass&&(nd(n,t),Up(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function O2(t){return 0!=(16&t.flags)}(e)&&pm(n,e,M(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function P2(t){return 0!=(32&t.flags)}(e)&&pm(n,e,M(),e.stylesWithoutHost,!1)}function Tn(t,e,n,r){Ee(t,e,n,r),Ie()}function Rd(t){return!!t&&"function"==typeof t.then}const KS=function WS(t){return!!t&&"function"==typeof t.subscribe};function Ju(t,e,n,r){const i=M(),s=Me(),o=bt();return function YS(t,e,n,r,i,s,o,a){const u=Yl(r),l=t.firstCreatePass&&iS(t),d=e[8],h=rS(e);let f=!0;if(3&r.type||a){const _=pr(r,e),I=a?a(_):_,v=h.length,U=a?Y=>a(ft(Y[r.index])):r.index;if(nt(n)){let Y=null;if(!a&&u&&(Y=function I$(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==Y)(Y.__ngLastListenerFn__||Y).__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,f=!1;else{s=ym(r,e,d,s,!1);const pe=n.listen(I,i,s);h.push(s,pe),l&&l.push(i,U,v,v+1)}}else s=ym(r,e,d,s,!0),I.addEventListener(i,s,o),h.push(s),l&&l.push(i,U,v,o)}else s=ym(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let I=0;I<_;I+=2){const kt=e[m[I]][m[I+1]].subscribe(s),cr=h.length;h.push(s,kt),l&&l.push(i,r.index,cr,-(cr+1))}}}(s,i,i[11],o,t,e,!!n,r),Ju}function JS(t,e,n,r){try{return!1!==n(r)}catch(i){return oS(t,i),!1}}function ym(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Qn(t.index,e):e;0==(32&e[2])&&Yg(a);let u=JS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=JS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function vi(t=1){return function b2(t){return(ae.lFrame.contextLView=function T2(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function Xu(t,e,n){return Zu(t,"",e,"",n),Xu}function Zu(t,e,n,r,i){const s=M(),o=Ko(s,e,n,r);return o!==de&&Xn(Me(),rt(),s,t,o,s[11],i,!1),Zu}function oA(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Rr(s):yi(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];A$(t[a],e)&&(u=!0,t[a+1]=r?Pg(l):Ng(l)),a=r?Rr(l):yi(l)}u&&(t[n+1]=r?Ng(s):Pg(s))}function A$(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&No(t,e)>=0}const Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aA(t){return t.substring(Ct.key,Ct.keyEnd)}function uA(t,e){const n=Ct.textEnd;return n===e?-1:(e=Ct.keyEnd=function k$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ct.key=e,n),ra(t,e,n))}function ra(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ec(t){Or(Yn,Zr,t,!0)}function Zr(t,e){for(let n=function M$(t){return function lA(t){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=t.length}(t),uA(t,ra(t,0,Ct.textEnd))}(e);n>=0;n=uA(e,n))Yn(t,aA(e),!0)}function Or(t,e,n,r){const i=Me(),s=mi(2);i.firstUpdatePass&&function mA(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[In()],o=gA(t,n);wA(s,r)&&null===e&&!o&&(e=!1),e=function F$(t,e,n,r){const i=function Qp(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=tc(n=_m(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=_m(i,t,e,n,r),null===s){let u=function L$(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yi(r))return t[Rr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=_m(null,t,e,u[1],r),u=tc(u,e.attrs,r),function U$(t,e,n,r){t[Rr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function V$(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=tc(r,t[s].hostAttrs,n);return tc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function C$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Rr(o),u=yi(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||No(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Rr(t[a+1]);t[r+1]=Id(h,a),0!==h&&(t[h+1]=Og(t[h+1],r)),t[a+1]=function Fj(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Id(a,0),0!==a&&(t[a+1]=Og(t[a+1],r)),a=r;else t[r+1]=Id(u,0),0===a?a=r:t[u+1]=Og(t[u+1],r),u=r;c&&(t[r+1]=Ng(t[r+1])),oA(t,l,r,!0),oA(t,l,r,!1),function S$(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&No(s,e)>=0&&(n[r+1]=Pg(n[r+1]))}(e,l,t,r,s),o=Id(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=M();if(n!==de&&pn(o,s,n)){const a=i.data[In()];if(wA(a,r)&&!gA(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Ap(u,n||"")),pm(i,a,o,n,r)}else!function B$(t,e,n,r,i,s,o,a){i===de&&(i=$e);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&_A(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function j$(t,e,n){if(null==n||""===n)return $e;const r=[],i=Wi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function gA(t,e){return e>=t.expandoStartIndex}function _m(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=tc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function tc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function _A(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];kd(function NC(t){return 1==(1&t)}(c)?vA(u,e,n,i,yi(c),o):void 0)||(kd(s)||function kC(t){return 2==(2&t)}(c)&&(s=vA(u,null,n,i,a,o)),function Tj(t,e,n,r,i){const s=nt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Jn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Jn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Jl(In(),n),i,s))}function vA(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===de&&(h=d?$e:void 0);let f=d?og(h,r):l===r?h:void 0;if(c&&!kd(f)&&(f=og(u,r)),kd(f)&&(a=f,o))return a;const p=t[i+1];i=o?Rr(p):yi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=og(u,r))}return a}function kd(t){return void 0!==t}function wA(t,e){return 0!=(t.flags&(e?16:32))}function Jt(t,e=""){const n=M(),r=Me(),i=t+20,s=r.firstCreatePass?Bo(r,i,1,e,null):r.data[i],o=n[i]=function Dg(t,e){return nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);wd(r,n,o,s),zr(s,!1)}function Yi(t){return Ji("",t,""),Yi}function Ji(t,e,n){const r=M(),i=Ko(r,t,e,n);return i!==de&&_i(r,In(),i),Ji}function vm(t,e,n,r,i){const s=M(),o=Qo(s,t,e,n,r,i);return o!==de&&_i(s,In(),o),vm}function wm(t,e,n){Or(Yn,Zr,Ko(M(),t,e,n),!0)}const Ss=void 0;var aH=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oH(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ia={};function jA(t){return t in ia||(ia[t]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[t]),ia[t]}var H=(()=>((H=H||{})[H.LocaleId=0]="LocaleId",H[H.DayPeriodsFormat=1]="DayPeriodsFormat",H[H.DayPeriodsStandalone=2]="DayPeriodsStandalone",H[H.DaysFormat=3]="DaysFormat",H[H.DaysStandalone=4]="DaysStandalone",H[H.MonthsFormat=5]="MonthsFormat",H[H.MonthsStandalone=6]="MonthsStandalone",H[H.Eras=7]="Eras",H[H.FirstDayOfWeek=8]="FirstDayOfWeek",H[H.WeekendRange=9]="WeekendRange",H[H.DateFormat=10]="DateFormat",H[H.TimeFormat=11]="TimeFormat",H[H.DateTimeFormat=12]="DateTimeFormat",H[H.NumberSymbols=13]="NumberSymbols",H[H.NumberFormats=14]="NumberFormats",H[H.CurrencyCode=15]="CurrencyCode",H[H.CurrencySymbol=16]="CurrencySymbol",H[H.CurrencyName=17]="CurrencyName",H[H.Currencies=18]="Currencies",H[H.Directionality=19]="Directionality",H[H.PluralCase=20]="PluralCase",H[H.ExtraData=21]="ExtraData",H))();const Nd="en-US";let BA=Nd;class hx{}class lq{resolveComponentFactory(e){throw function cq(t){const e=Error(`No component factory found for ${Ve(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let oa=(()=>{class t{}return t.NULL=new lq,t})();function dq(){return aa(bt(),M())}function aa(t,e){return new Xi(pr(t,e))}let Xi=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=dq,t})();class px{}let gq=(()=>{class t{}return t.\u0275prov=he({token:t,providedIn:"root",factory:()=>null}),t})();class oc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gx=new oc("13.1.3"),Sm={};function Vd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ft(s)),Ar(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Vd(u[1],u,c,r)}const o=n.type;if(8&o)Vd(t,e,n.child,r);else if(32&o){const a=Ig(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=EC(e,n);if(Array.isArray(a))r.push(...a);else{const u=qu(e[16]);Vd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ac{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Vd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ar(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Sg(e,r),dd(n,r))}this._attachedToViewContainer=!1}hC(this._lView[1],this._lView)}onDestroy(e){!function WC(t,e,n,r){const i=rS(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&iS(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _B(t,e,n){Zl(!0);try{Xg(t,e,n)}finally{Zl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pj(t,e){Gu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=e}}class mq extends ac{constructor(e){super(e),this._view=e}detectChanges(){nS(this._view)}checkNoChanges(){!function vB(t){Zl(!0);try{nS(t)}finally{Zl(!1)}}(this._view)}get context(){return null}}class mx extends oa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=dn(e);return new Am(n,this.ngModule)}}function yx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const _q=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>iC});class Am extends hx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Oj(t){return t.map(Nj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return yx(this.componentDef.inputs)}get outputs(){return yx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function vq(t,e){return{get:(n,r,i)=>{const s=t.get(n,Sm,i);return s!==Sm||r===Sm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(px,e0),a=s.get(gq,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function zC(t,e,n){if(nt(t))return t.selectRootElement(e,n===Hr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Cg(o.createRenderer(null,this.componentDef),c,function yq(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function TS(t,e){return{components:[],scheduler:t||iC,clean:wB,playerHandler:e||null,flags:0}}(),f=Dd(0,null,null,1,0,null,null,null,null,null),p=zu(null,f,h,d,null,null,o,u,a,s);let m,_;ed(p);try{const I=function IS(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Bo(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Sd(u,c,!0),null!==t&&(sd(i,t,c),null!==u.classes&&kg(i,t,u.classes),null!==u.styles&&TC(i,t,u.styles)));const l=r.createRenderer(t,e),d=zu(n,qC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(cd(xu(u,n),o,e.type),XC(o,u),ZC(u,n.length,1)),Cd(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)sd(u,l,["ng-version",gx.full]);else{const{attrs:v,classes:U}=function Pj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Mr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);v&&sd(u,l,v),U&&U.length>0&&kg(u,l,U.join(" "))}if(_=Hp(f,20),void 0!==n){const v=_.projection=[];for(let U=0;U<this.ngContentSelectors.length;U++){const Y=n[U];v.push(null!=Y?Array.from(Y):null)}}m=function bS(t,e,n,r,i){const s=n[1],o=function nB(t,e,n){const r=bt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),eS(t,r,e,$o(t,e,1,null),n));const i=Mu(e,t,r.directiveStart,r);fn(i,e);const s=pr(r,e);return s&&fn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=bt();e.contentQueries(1,o,u.directiveStart)}const a=bt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Gi(a.index),YC(n[1],a,0,a.directiveStart,a.directiveEnd,e),JC(e,o)),o}(I,this.componentDef,p,h,[jB]),Wu(f,p,null)}finally{td()}return new Eq(this.componentType,m,aa(_,p),p,_)}}class Eq extends class uq{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new mq(i),this.componentType=e}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class wi{}class _x{}const ua=new Map;class Ex extends wi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mx(this);const r=dr(e);this._bootstrapComponents=Qr(r.bootstrap),this._r3Injector=dS(e,n,[{provide:wi,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],Ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Dt.THROW_IF_NOT_FOUND,r=fe.Default){return e===Dt||e===wi||e===em?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xm extends _x{constructor(e){super(),this.moduleType=e,null!==dr(e)&&function bq(t){const e=new Set;!function n(r){const i=dr(r,!0),s=i.id;null!==s&&(function vx(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Ve(e)} vs ${Ve(e.name)}`)}(s,ua.get(s),r),ua.set(s,r));const o=Qr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new Ex(this.moduleType,e)}}function Mm(t){return e=>{setTimeout(t,void 0,e)}}const Cn=class Bq extends ci{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Mm(u),a&&(a=Mm(a)),c&&(c=Mm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof S&&e.add(l),l}};Symbol;let Ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gq,t})();const Hq=Ei,qq=class extends Hq{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=zu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Wu(n,r,e),new ac(r)}};function Gq(){return function jd(t,e){return 4&t.type?new qq(e,t,aa(t,e)):null}(bt(),M())}let Pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=zq,t})();function zq(){return function xx(t,e){let n;const r=e[t.index];if(Ar(r))n=r;else{let i;if(8&t.type)i=ft(r);else{const s=e[11];i=s.createComment("");const o=pr(t,e);Ds(s,vd(s,o),i,function Ej(t,e){return nt(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=tS(r,e,i,t),Cd(e,n)}return new Sx(n,t,e)}(bt(),M())}const Wq=Pr,Sx=class extends Wq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const e=ud(this._hostTNode,this._hostLView);if(_0(e)){const n=So(e,this._hostLView),r=Co(e);return new Ao(n[1].data[r+8],n)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Ax(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function Nu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Am(dn(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(wi,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function h2(t){return Ar(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new Sx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function mj(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],A0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function yj(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Mg(s,o),u=r[11],c=vd(u,o[7]);return null!==c&&function fj(t,e,n,r,i,s){r[0]=i,r[6]=e,Gu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),A0(km(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Ax(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Sg(this._lContainer,n);r&&(dd(km(this._lContainer),n),hC(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Sg(this._lContainer,n);return r&&null!=dd(km(this._lContainer),n)?new ac(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function Ax(t){return t[8]}function km(t){return t[8]||(t[8]=[])}function Hd(...t){}const qd=new we("Application Initializer");let la=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Hd,this.reject=Hd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Rd(s))n.push(s);else if(KS(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Q(qd,8))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const dc=new we("AppId"),EG={provide:dc,useFactory:function wG(){return`${zm()}${zm()}${zm()}`},deps:[]};function zm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jx=new we("Platform Initializer"),da=new we("Platform ID"),Xx=new we("appBootstrapListener");let Zx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const Zi=new we("LocaleId"),eM=new we("DefaultCurrencyCode");class IG{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Gd=(()=>{class t{compileModuleSync(n){return new xm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Qr(dr(n).declarations).reduce((o,a)=>{const u=dn(a);return u&&o.push(new Am(u)),o},[]);return new IG(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const TG=(()=>Promise.resolve(0))();function Wm(t){"undefined"==typeof Zone?TG.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cn(!1),this.onMicrotaskEmpty=new Cn(!1),this.onStable=new Cn(!1),this.onError=new Cn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function DG(){let t=je.requestAnimationFrame,e=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function AG(t){const e=()=>{!function SG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(je,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qm(t),t.isCheckStableRunning=!0,Km(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return tM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),nM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return tM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),nM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Qm(t),Km(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CG,Hd,Hd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const CG={};function Km(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nM(t){t._nesting--,Km(t)}class xG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cn,this.onMicrotaskEmpty=new Cn,this.onStable=new Cn,this.onError=new Cn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Ym=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),Wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Q(Je))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),rM=(()=>{class t{constructor(){this._applications=new Map,Jm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Jm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class MG{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Fr,Jm=new MG;const iM=new we("AllowMultipleToken");class sM{constructor(e,n){this.name=e,this.token=n}}function oM(t,e,n=[]){const r=`Platform: ${e}`,i=new we(r);return(s=[])=>{let o=aM();if(!o||o.injector.get(iM,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:tm,useValue:"platform"});!function OG(t){if(Fr&&!Fr.destroyed&&!Fr.injector.get(iM,!1))throw new Fe(400,"");Fr=t.get(uM);const e=t.get(Jx,null);e&&e.forEach(n=>n())}(Dt.create({providers:a,name:r}))}return function PG(t){const e=aM();if(!e)throw new Fe(401,"");return e}()}}function aM(){return Fr&&!Fr.destroyed?Fr:null}let uM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function FG(t,e){let n;return n="noop"===t?new xG:("zone.js"===t?void 0:t)||new Je({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Je,useValue:a}];return a.run(()=>{const c=Dt.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Uo,null);if(!d)throw new Fe(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Xm(this._modules,l),h.unsubscribe()})}),function LG(t,e,n){try{const r=n();return Rd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(la);return h.runInitializers(),h.donePromise.then(()=>(function hH(t){zn(t,"Expected localeId to be defined"),"string"==typeof t&&(BA=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Zi,Nd)||Nd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=cM({},r);return function kG(t,e,n){const r=new xm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(hc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Fe(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Q(Dt))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function cM(t,e){return Array.isArray(e)?e.reduce(cM,t):Object.assign(Object.assign({},t),e)}let hc=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Se(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Se(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),Wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function PU(...t){const e=Eu(t),n=function AU(t,e){return"number"==typeof Dp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?li(r[0]):wu(n)(Yt(r,e)):hi}(a,u.pipe(LD()))}bootstrap(n,r){if(!this._initStatus.done)throw new Fe(405,"");let i;i=n instanceof hx?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function NG(t){return t.isBoundToModule}(i)?void 0:this._injector.get(wi),a=i.create(Dt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Ym,null),l=c&&a.injector.get(rM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Xm(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Xm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Xx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(Q(Je),Q(Dt),Q(Uo),Q(oa),Q(la))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function Xm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let dM=!0,Zm=(()=>{class t{}return t.__NG_ELEMENT_ID__=jG,t})();function jG(t){return function BG(t,e,n){if(Ql(t)&&!n){const r=Qn(t.index,e);return new ac(r,r)}return 47&t.type?new ac(e[16],e):null}(bt(),M(),16==(16&t))}class _M{constructor(){}supports(e){return Qu(e)}create(e){return new WG(e)}}const zG=(t,e)=>e;class WG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zG}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<wM(r,i,s)?n:r,a=wM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Qu(e))throw new Fe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function YB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[zo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new KG(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new vM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class KG{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class vM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new QG,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class EM{constructor(){}supports(e){return e instanceof Map||am(e)}create(){return new YG}}class YG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||am(e)))throw new Fe(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new JG(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class JG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IM(){return new fc([new _M])}let fc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||IM()),deps:[[t,new Oo,new ct]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Fe(901,"")}}return t.\u0275prov=he({token:t,providedIn:"root",factory:IM}),t})();function bM(){return new ha([new EM])}let ha=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bM()),deps:[[t,new Oo,new ct]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Fe(901,"")}}return t.\u0275prov=he({token:t,providedIn:"root",factory:bM}),t})();const XG=[new EM],e3=new fc([new _M]),t3=new ha(XG),n3=oM(null,"core",[{provide:da,useValue:"unknown"},{provide:uM,deps:[Dt]},{provide:rM,deps:[]},{provide:Zx,deps:[]}]),a3=[{provide:hc,useClass:hc,deps:[Je,Dt,Uo,oa,la]},{provide:_q,deps:[Je],useFactory:function u3(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:la,useClass:la,deps:[[new ct,qd]]},{provide:Gd,useClass:Gd,deps:[]},EG,{provide:fc,useFactory:function r3(){return e3},deps:[]},{provide:ha,useFactory:function i3(){return t3},deps:[]},{provide:Zi,useFactory:function s3(t){return t||function o3(){return"undefined"!=typeof $localize&&$localize.locale||Nd}()},deps:[[new Uu(Zi),new ct,new Oo]]},{provide:eM,useValue:"USD"}];let c3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Q(hc))},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:a3}),t})(),Wd=null;function es(){return Wd}const er=new we("DocumentToken");let xs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:function(){return function f3(){return Q(TM)}()},providedIn:"platform"}),t})();const p3=new we("Location Initialized");let TM=(()=>{class t extends xs{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return es().getBaseHref(this._doc)}onPopState(n){const r=es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){DM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){DM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:function(){return function g3(){return new TM(Q(er))}()},providedIn:"platform"}),t})();function DM(){return!!window.history.pushState}function iy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function CM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ii(t){return t&&"?"!==t[0]?"?"+t:t}let fa=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:function(){return function m3(t){const e=Q(er).location;return new SM(Q(xs),e&&e.origin||"")}()},providedIn:"root"}),t})();const sy=new we("appBaseHref");let SM=(()=>{class t extends fa{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return iy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ii(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ii(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(Q(xs),Q(sy,8))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),y3=(()=>{class t extends fa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=iy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(Q(xs),Q(sy,8))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),oy=(()=>{class t{constructor(n,r){this._subject=new Cn,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=CM(AM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ii(r))}normalize(n){return t.stripTrailingSlash(function v3(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,AM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ii(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ii(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ii,t.joinWithSlash=iy,t.stripTrailingSlash=CM,t.\u0275fac=function(n){return new(n||t)(Q(fa),Q(xs))},t.\u0275prov=he({token:t,factory:function(){return function _3(){return new oy(Q(fa),Q(xs))}()},providedIn:"root"}),t})();function AM(t){return t.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Zero=0]="Zero",gt[gt.One=1]="One",gt[gt.Two=2]="Two",gt[gt.Few=3]="Few",gt[gt.Many=4]="Many",gt[gt.Other=5]="Other",gt))();const C3=function VA(t){return function Dn(t){const e=function uH(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=jA(e);if(n)return n;const r=e.split("-")[0];if(n=jA(r),n)return n;if("en"===r)return aH;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[H.PluralCase]};class rh{}let tz=(()=>{class t extends rh{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(C3(r||this.locale)(n)){case gt.Zero:return"zero";case gt.One:return"one";case gt.Two:return"two";case gt.Few:return"few";case gt.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(Q(Zi))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function LM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class iz{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mc=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new iz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),UM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{UM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Z(Pr),Z(Ei),Z(fc))},t.\u0275dir=ln({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function UM(t,e){t.context.$implicit=e.item}let gy=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new sz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(Z(Pr),Z(Ei))},t.\u0275dir=ln({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class sz{constructor(){this.$implicit=null,this.ngIf=null}}function VM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ve(e)}'.`)}let kz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:[{provide:rh,useClass:tz}]}),t})();let Fz=(()=>{class t{}return t.\u0275prov=he({token:t,providedIn:"root",factory:()=>new Lz(Q(er),window)}),t})();class Lz{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Uz(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=HM(this.window.history)||HM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function HM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class qM{}class wy extends class Vz extends class h3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function d3(t){Wd||(Wd=t)}(new wy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function jz(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}();return null==n?null:function Bz(t){ih=ih||document.createElement("a"),ih.setAttribute("href",t);const e=ih.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return LM(document.cookie,e)}}let ih,yc=null;const GM=new we("TRANSITION_ID"),Hz=[{provide:qd,useFactory:function $z(t,e,n){return()=>{n.get(la).donePromise.then(()=>{const r=es(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[GM,er,Dt],multi:!0}];class Ey{static init(){!function RG(t){Jm=t}(new Ey)}addToWindow(e){je.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(r=>{const i=je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?es().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let qz=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const sh=new we("EventManagerPlugins");let oh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Q(sh),Q(Je))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class zM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=es().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let WM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),_c=(()=>{class t extends WM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(KM),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(KM))}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function KM(t){es().remove(t)}const Iy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},by=/%COMP%/g;function ah(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ah(t,i,n):(i=i.replace(by,t),n.push(i))}return n}function JM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ty=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Dy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Hr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Yz(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Hr.ShadowDom:return new Jz(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ah(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Q(oh),Q(_c),Q(dc))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class Dy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Iy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Iy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Iy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,JM(r)):this.eventManager.addEventListener(e,n,JM(r))}}class Yz extends Dy{constructor(e,n,r,i){super(e),this.component=r;const s=ah(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function Wz(t){return"_ngcontent-%COMP%".replace(by,t)}(i+"-"+r.id),this.hostAttr=function Kz(t){return"_nghost-%COMP%".replace(by,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Jz extends Dy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ah(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Xz=(()=>{class t extends zM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const ZM=["alt","control","meta","shift"],eW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eR={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let nW=(()=>{class t extends zM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>es().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(ZM.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function rW(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&eR.hasOwnProperty(e)&&(e=eR[e]))}return eW[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ZM.forEach(s=>{s!=i&&tW[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Q(er))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const aW=oM(n3,"browser",[{provide:da,useValue:"browser"},{provide:Jx,useValue:function iW(){wy.makeCurrent(),Ey.init()},multi:!0},{provide:er,useFactory:function oW(){return function u2(t){Bp=t}(document),document},deps:[]}]),uW=[{provide:tm,useValue:"root"},{provide:Uo,useFactory:function sW(){return new Uo},deps:[]},{provide:sh,useClass:Xz,multi:!0,deps:[er,Je,da]},{provide:sh,useClass:nW,multi:!0,deps:[er]},{provide:Ty,useClass:Ty,deps:[oh,_c,dc]},{provide:px,useExisting:Ty},{provide:WM,useExisting:_c},{provide:_c,useClass:_c,deps:[er]},{provide:Ym,useClass:Ym,deps:[Je]},{provide:oh,useClass:oh,deps:[sh,Je]},{provide:qM,useClass:qz,deps:[]}];let cW=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:dc,useValue:n.appId},{provide:GM,useExisting:dc},Hz]}}}return t.\u0275fac=function(n){return new(n||t)(Q(t,12))},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:uW,imports:[kz,c3]}),t})();function ge(...t){return Yt(t,Eu(t))}"undefined"!=typeof window&&window;class Vr extends ci{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:wW}=Array,{getPrototypeOf:EW,prototype:IW,keys:bW}=Object;const{isArray:CW}=Array;function MW(...t){const e=Eu(t),n=function SU(t){return E(Dp(t))?t.pop():void 0}(t),{args:r,keys:i}=function TW(t){if(1===t.length){const e=t[0];if(wW(e))return{args:e,keys:null};if(function DW(t){return t&&"object"==typeof t&&EW(t)===IW}(e)){const n=bW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Yt([],e);const s=new Se(function RW(t,e,n=It){return r=>{rR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)rR(e,()=>{const c=Yt(t[u],e);let l=!1;c.subscribe(new Qt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function xW(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):It));return n?s.pipe(function AW(t){return Pe(e=>function SW(t,e){return CW(e)?t(...e):t(e)}(t,e))}(n)):s}function rR(t,e,n){t?di(n,t,e):e()}const uh=P(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Sy(...t){return function kW(){return wu(1)}()(Yt(t,Eu(t)))}function iR(t){return new Se(e=>{li(t()).subscribe(e)})}function sR(){return Kt((t,e)=>{let n=null;t._refCount++;const r=new Qt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class NW extends Se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ID(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new S;const n=this.getSubject();e.add(this.source.subscribe(new Qt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=S.EMPTY)}return e}refCount(){return sR()(this)}}function Ms(t,e){return Kt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new Qt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;li(t(u,l)).subscribe(i=new Qt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function PW(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new Qt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function oR(t,e){return Kt(PW(t,e,arguments.length>=2,!0))}function Rs(t,e){return Kt((n,r)=>{let i=0;n.subscribe(new Qt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ns(t){return Kt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new Qt(n,void 0,void 0,o=>{s=li(t(o,ns(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function pa(t,e){return E(e)?Pt(t,e,1):Pt(t,1)}function Ay(t){return t<=0?()=>hi:Kt((e,n)=>{let r=[];e.subscribe(new Qt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function aR(t=FW){return Kt((e,n)=>{let r=!1;e.subscribe(new Qt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function FW(){return new uh}function uR(t){return Kt((e,n)=>{let r=!1;e.subscribe(new Qt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ga(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Rs((i,s)=>t(i,s,r)):It,$l(1),n?uR(e):aR(()=>new uh))}function Un(t,e,n){const r=E(t)||e||n?{next:t,error:e,complete:n}:t;return r?Kt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Qt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):It}class Ti{constructor(e,n){this.id=e,this.url=n}}class xy extends Ti{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vc extends Ti{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cR extends Ti{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VW extends Ti{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jW extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BW extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $W extends Ti{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HW extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qW extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lR{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GW{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zW{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WW{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KW{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const De="primary";class QW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ma(t){return new QW(t)}const fR="ngNavigationCancelingError";function My(t){const e=Error("NavigationCancelingError: "+t);return e[fR]=!0,e}function JW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ei(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!pR(t[i],e[i]))return!1;return!0}function pR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function gR(t){return Array.prototype.concat.apply([],t)}function mR(t){return t.length>0?t[t.length-1]:null}function Xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ti(t){return KS(t)?t:Rd(t)?Yt(Promise.resolve(t)):ge(t)}const e4={exact:function vR(t,e,n){if(!Ns(t.segments,e.segments)||!ch(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!vR(t.children[r],e.children[r],n))return!1;return!0},subset:wR},yR={exact:function t4(t,e){return ei(t,e)},subset:function n4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pR(t[n],e[n]))},ignored:()=>!0};function _R(t,e,n){return e4[n.paths](t.root,e.root,n.matrixParams)&&yR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wR(t,e,n){return ER(t,e,e.segments,n)}function ER(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ns(i,n)||e.hasChildren()||!ch(i,n,r))}if(t.segments.length===n.length){if(!Ns(t.segments,n)||!ch(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!wR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ns(t.segments,i)&&ch(t.segments,i,r)&&t.children[De])&&ER(t.children[De],e,s,r)}}function ch(t,e,n){return e.every((r,i)=>yR[n](t[i].parameters,r.parameters))}class ks{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return s4.serialize(this)}}class Ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Xt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lh(this)}}class wc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ma(this.parameters)),this._parameterMap}toString(){return CR(this)}}function Ns(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class IR{}class bR{parse(e){const n=new p4(e);return new ks(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ec(e.root,!0)}`,r=function u4(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${dh(n)}=${dh(i)}`).join("&"):`${dh(n)}=${dh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function o4(t){return encodeURI(t)}(e.fragment)}`:""}`}}const s4=new bR;function lh(t){return t.segments.map(e=>CR(e)).join("/")}function Ec(t,e){if(!t.hasChildren())return lh(t);if(e){const n=t.children[De]?Ec(t.children[De],!1):"",r=[];return Xt(t.children,(i,s)=>{s!==De&&r.push(`${s}:${Ec(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function i4(t,e){let n=[];return Xt(t.children,(r,i)=>{i===De&&(n=n.concat(e(r,i)))}),Xt(t.children,(r,i)=>{i!==De&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===De?[Ec(t.children[De],!1)]:[`${i}:${Ec(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[De]?`${lh(t)}/${n[0]}`:`${lh(t)}/(${n.join("//")})`}}function TR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dh(t){return TR(t).replace(/%3B/gi,";")}function Ry(t){return TR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hh(t){return decodeURIComponent(t)}function DR(t){return hh(t.replace(/\+/g,"%20"))}function CR(t){return`${Ry(t.path)}${function a4(t){return Object.keys(t).map(e=>`;${Ry(e)}=${Ry(t[e])}`).join("")}(t.parameters)}`}const c4=/^[^\/()?;=#]+/;function fh(t){const e=t.match(c4);return e?e[0]:""}const l4=/^[^=?&#]+/,h4=/^[^&#]+/;class p4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[De]=new Ae(e,n)),r}parseSegment(){const e=fh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new wc(hh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=fh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fh(this.remaining);i&&(r=i,this.capture(r))}e[hh(n)]=hh(r)}parseQueryParam(e){const n=function d4(t){const e=t.match(l4);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function f4(t){const e=t.match(h4);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=DR(n),s=DR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=De);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[De]:new Ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class SR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ky(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=ky(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ny(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ny(e,this._root).map(n=>n.value)}}function ky(t,e){if(t===e.value)return e;for(const n of e.children){const r=ky(t,n);if(r)return r}return null}function Ny(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ny(t,n);if(r.length)return r.unshift(e),r}return[]}class Di{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ya(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class AR extends SR{constructor(e,n){super(e),this.snapshot=n,Oy(this,e)}toString(){return this.snapshot.toString()}}function xR(t,e){const n=function g4(t,e){const o=new ph([],{},{},"",{},De,e,null,t.root,-1,{});return new RR("",new Di(o,[]))}(t,e),r=new Vr([new wc("",{})]),i=new Vr({}),s=new Vr({}),o=new Vr({}),a=new Vr(""),u=new _a(r,i,o,a,s,De,e,n.root);return u.snapshot=n.root,new AR(new Di(u,[]),n)}class _a{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(e=>ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(e=>ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MR(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function m4(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ph{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RR extends SR{constructor(e,n){super(n),this.url=e,Oy(this,n)}toString(){return kR(this._root)}}function Oy(t,e){e.value._routerState=t,e.children.forEach(n=>Oy(t,n))}function kR(t){const e=t.children.length>0?` { ${t.children.map(kR).join(", ")} } `:"";return`${t.value}${e}`}function Py(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ei(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ei(e.params,n.params)||t.params.next(n.params),function XW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ei(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ei(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Fy(t,e){const n=ei(t.params,e.params)&&function r4(t,e){return Ns(t,e)&&t.every((n,r)=>ei(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Fy(t.parent,e.parent))}function Ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function _4(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ic(t,r,i);return Ic(t,r)})}(t,e,n);return new Di(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ic(t,a)),o}}const r=function v4(t){return new _a(new Vr(t.url),new Vr(t.params),new Vr(t.queryParams),new Vr(t.fragment),new Vr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ic(t,s));return new Di(r,i)}}function gh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bc(t){return"object"==typeof t&&null!=t&&t.outlets}function Ly(t,e,n,r,i){let s={};return r&&Xt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new ks(n.root===t?e:NR(n.root,t,e),s,i)}function NR(t,e,n){const r={};return Xt(t.children,(i,s)=>{r[s]=i===e?n:NR(i,e,n)}),new Ae(t.segments,r)}class OR{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(bc);if(i&&i!==mR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uy{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function PR(t,e,n){if(t||(t=new Ae([],{})),0===t.segments.length&&t.hasChildren())return mh(t,e,n);const r=function D4(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(bc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!LR(u,c,o))return s;r+=2}else{if(!LR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ae(t.segments.slice(0,r.pathIndex),{});return s.children[De]=new Ae(t.segments.slice(r.pathIndex),t.children),mh(s,0,i)}return r.match&&0===i.length?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Vy(t,e,n):r.match?mh(t,0,i):Vy(t,e,n)}function mh(t,e,n){if(0===n.length)return new Ae(t.segments,{});{const r=function T4(t){return bc(t[0])?t[0].outlets:{[De]:t}}(n),i={};return Xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=PR(t.children[o],e,s))}),Xt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ae(t.segments,i)}}function Vy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(bc(s)){const u=C4(s.outlets);return new Ae(r,u)}if(0===i&&gh(n[0])){r.push(new wc(t.segments[e].path,FR(n[0]))),i++;continue}const o=bc(s)?s.outlets[De]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&gh(a)?(r.push(new wc(o,FR(a))),i+=2):(r.push(new wc(o,{})),i++)}return new Ae(r,{})}function C4(t){const e={};return Xt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Vy(new Ae([],{}),0,n))}),e}function FR(t){const e={};return Xt(t,(n,r)=>e[r]=`${n}`),e}function LR(t,e,n){return t==n.path&&ei(e,n.parameters)}class A4{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Py(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ya(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ya(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ya(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ya(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new KW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zW(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Py(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Py(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function x4(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class jy{constructor(e,n){this.routes=e,this.module=n}}function rs(t){return"function"==typeof t}function Os(t){return t instanceof ks}const Tc=Symbol("INITIAL_VALUE");function Dc(){return Ms(t=>MW(t.map(e=>e.pipe($l(1),function OW(...t){const e=Eu(t);return Kt((n,r)=>{(e?Sy(t,n,e):Sy(t,n)).subscribe(r)})}(Tc)))).pipe(oR((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Tc?i:(s===Tc&&(r=!0),r||!1!==s&&o!==n.length-1&&!Os(s)?i:s),e)},Tc),Rs(e=>e!==Tc),Pe(e=>Os(e)?e:!0===e),$l(1)))}class P4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cc,this.attachRef=null}}class Cc{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new P4,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let By=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Cn,this.deactivateEvents=new Cn,this.attachEvents=new Cn,this.detachEvents=new Cn,this.name=s||De,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new F4(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(Z(Cc),Z(Pr),Z(oa),function Ru(t){return function V2(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(m0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(bt(),t)}("name"),Z(Zm))},t.\u0275dir=ln({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class F4{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_a?this.route:e===Cc?this.childContexts:this.parent.get(e,n)}}let UR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Tn(0,"router-outlet")},directives:[By],encapsulation:2}),t})();function VR(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];L4(r,U4(e,r))}}function L4(t,e){t.children&&VR(t.children,e)}function U4(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function $y(t){const e=t.children&&t.children.map($y),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=UR),n}function vr(t){return t.outlet||De}function jR(t,e){const n=t.filter(r=>vr(r)===e);return n.push(...t.filter(r=>vr(r)!==e)),n}const BR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yh(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},BR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||JW)(n,t,e);if(!s)return Object.assign({},BR);const o={};Xt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function _h(t,e,n,r,i="corrected"){if(n.length>0&&function B4(t,e,n){return n.some(r=>vh(t,e,r)&&vr(r)!==De)}(t,n,r)){const o=new Ae(e,function j4(t,e,n,r){const i={};i[De]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&vr(s)!==De){const o=new Ae([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[vr(s)]=o}return i}(t,e,r,new Ae(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function $4(t,e,n){return n.some(r=>vh(t,e,r))}(t,n,r)){const o=new Ae(t.segments,function V4(t,e,n,r,i,s){const o={};for(const a of r)if(vh(t,n,a)&&!i[vr(a)]){const u=new Ae([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[vr(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new Ae(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function $R(t,e,n,r){return!!(vr(t)===r||r!==De&&vh(e,n,t))&&("**"===t.path||yh(e,t,n).matched)}function HR(t,e,n){return 0===e.length&&!t.children[n]}class Sc{constructor(e){this.segmentGroup=e||null}}class qR{constructor(e){this.urlTree=e}}function wh(t){return new Se(e=>e.error(new Sc(t)))}function GR(t){return new Se(e=>e.error(new qR(t)))}function H4(t){return new Se(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class z4{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(wi)}apply(){const e=_h(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,De).pipe(Pe(s=>this.createUrlTree(Hy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ns(s=>{if(s instanceof qR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Sc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,De).pipe(Pe(i=>this.createUrlTree(Hy(i),e.queryParams,e.fragment))).pipe(ns(i=>{throw i instanceof Sc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new Ae([],{[De]:e}):e;return new ks(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Pe(s=>new Ae([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Yt(i).pipe(pa(s=>{const o=r.children[s],a=jR(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(Pe(u=>({segment:u,outlet:s})))}),oR((s,o)=>(s[o.outlet]=o.segment,s),{}),function LW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Rs((i,s)=>t(i,s,r)):It,Ay(1),n?uR(e):aR(()=>new uh))}())}expandSegment(e,n,r,i,s,o){return Yt(r).pipe(pa(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ns(c=>{if(c instanceof Sc)return ge(null);throw c}))),ga(a=>!!a),ns((a,u)=>{if(a instanceof uh||"EmptyError"===a.name){if(HR(n,i,s))return ge(new Ae([],{}));throw new Sc(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return $R(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):wh(n):wh(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GR(s):this.lineralizeSegments(r,s).pipe(Pt(o=>{const a=new Ae(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=yh(n,i,s);if(!a)return wh(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?GR(d):this.lineralizeSegments(i,d).pipe(Pt(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ge(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Pe(h=>(r._loadedConfig=h,new Ae(i,{})))):ge(new Ae(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=yh(n,r,i);if(!o)return wh(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Pt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=_h(n,a,c,f),_=new Ae(p.segments,p.children);if(0===m.length&&_.hasChildren())return this.expandChildren(h,f,_).pipe(Pe(Y=>new Ae(a,Y)));if(0===f.length&&0===m.length)return ge(new Ae(a,{}));const I=vr(r)===s;return this.expandSegment(h,_,f,m,I?De:s,!0).pipe(Pe(U=>new Ae(a.concat(U.segments),U.children)))}))}getChildConfig(e,n,r){return n.children?ge(new jy(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ge(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Pt(i=>i?this.configLoader.load(e.injector,n).pipe(Pe(s=>(n._loadedConfig=s,s))):function q4(t){return new Se(e=>e.error(My(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):ge(new jy([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ge(i.map(o=>{const a=e.get(o);let u;if(function R4(t){return t&&rs(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!rs(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return ti(u)})).pipe(Dc(),Un(o=>{if(!Os(o))return;const a=My(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Pe(o=>!0===o)):ge(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ge(r);if(i.numberOfChildren>1||!i.children[De])return H4(e.redirectTo);i=i.children[De]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ks(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Xt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new Ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Hy(t){const e={};for(const r of Object.keys(t.children)){const s=Hy(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function W4(t){if(1===t.numberOfChildren&&t.children[De]){const e=t.children[De];return new Ae(t.segments.concat(e.segments),e.children)}return t}(new Ae(t.segments,e))}class zR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eh{constructor(e,n){this.component=e,this.route=n}}function Q4(t,e,n){const r=t._root;return Ac(r,e?e._root:null,n,[r.value])}function Ih(t,e,n){const r=function J4(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ac(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ya(e);return t.children.forEach(o=>{(function X4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Z4(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(t.url,e.url)||!ei(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fy(t,e)||!ei(t.queryParams,e.queryParams);default:return!Fy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new zR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ac(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Eh(a.outlet.component,o))}else o&&xc(e,a,i),i.canActivateChecks.push(new zR(r)),Ac(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Xt(s,(o,a)=>xc(o,n.getContext(a),i)),i}function xc(t,e,n){const r=ya(t),i=t.value;Xt(r,(s,o)=>{xc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Eh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class u8{}function WR(t){return new Se(e=>e.error(t))}class l8{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=_h(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,De);if(null===n)return null;const r=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Di(r,n),s=new RR(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=MR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=jR(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=KR(r);return function d8(t){t.sort((e,n)=>e.value.outlet===De?-1:n.value.outlet===De?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return HR(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!$R(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?mR(r).parameters:{};s=new ph(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JR(e),vr(e),e.component,e,QR(n),YR(n)+r.length,XR(e))}else{const f=yh(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new ph(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JR(e),vr(e),e.component,e,QR(n),YR(n)+o.length,XR(e))}const u=function h8(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=_h(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Di(s,f)]}if(0===u.length&&0===l.length)return[new Di(s,[])];const d=vr(e)===i,h=this.processSegment(u,c,l,d?De:i);return null===h?null:[new Di(s,h)]}}function f8(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function KR(t){const e=[],n=new Set;for(const r of t){if(!f8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=KR(r.children);e.push(new Di(r.value,i))}return e.filter(r=>!n.has(r))}function QR(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function YR(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function JR(t){return t.data||{}}function XR(t){return t.resolve||{}}function qy(t){return Ms(e=>{const n=t(e);return n?Yt(n).pipe(Pe(()=>e)):ge(e)})}class E8 extends class w8{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Gy=new we("ROUTES");class ZR{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new jy(gR(o.injector.get(Gy,void 0,fe.Self|fe.Optional)).map($y),o)}),ns(s=>{throw n._loader$=void 0,s}));return n._loader$=new NW(i,()=>new ci).pipe(sR()),n._loader$}loadModuleFactory(e){return ti(e()).pipe(Pt(n=>n instanceof _x?ge(n):Yt(this.compiler.compileModuleAsync(n))))}}class b8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function T8(t){throw t}function D8(t,e,n){return e.parse("/")}function ek(t,e){return ge(null)}const C8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ci,this.errorHandler=T8,this.malformedUriErrorHandler=D8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ek,afterPreactivation:ek},this.urlHandlingStrategy=new b8,this.routeReuseStrategy=new E8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(wi),this.console=o.get(Zx);const d=o.get(Je);this.isNgZoneEnabled=d instanceof Je&&Je.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function ZW(){return new ks(new Ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ZR(o,a,h=>this.triggerEvent(new lR(h)),h=>this.triggerEvent(new dR(h))),this.routerState=xR(this.currentUrlTree,this.rootComponentType),this.transitions=new Vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Rs(i=>0!==i.id),Pe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ms(i=>{let s=!1,o=!1;return ge(i).pipe(Un(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ms(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return bh(a.source)&&(this.browserUrlTree=a.extractedUrl),ge(a).pipe(Ms(d=>{const h=this.transitions.getValue();return r.next(new xy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?hi:Promise.resolve(d)}),function K4(t,e,n,r){return Ms(i=>function G4(t,e,n,r,i){return new z4(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Pe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Un(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function p8(t,e,n,r,i){return Pt(s=>function c8(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new l8(t,e,n,r,i,s).recognize();return null===o?WR(new u8):ge(o)}catch(o){return WR(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Pe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Un(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new jW(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,I=new xy(h,this.serializeUrl(f),p,m);r.next(I);const v=xR(f,this.rootComponentType).snapshot;return ge(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),hi}),qy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Un(a=>{const u=new BW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Pe(a=>Object.assign(Object.assign({},a),{guards:Q4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function e8(t,e){return Pt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ge(Object.assign(Object.assign({},n),{guardsResult:!0})):function t8(t,e,n,r){return Yt(t).pipe(Pt(i=>function a8(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ge(s.map(a=>{const u=Ih(a,e,i);let c;if(function O4(t){return t&&rs(t.canDeactivate)}(u))c=ti(u.canDeactivate(t,e,n,r));else{if(!rs(u))throw new Error("Invalid CanDeactivate guard");c=ti(u(t,e,n,r))}return c.pipe(ga())})).pipe(Dc()):ge(!0)}(i.component,i.route,n,e,r)),ga(i=>!0!==i,!0))}(o,r,i,t).pipe(Pt(a=>a&&function M4(t){return"boolean"==typeof t}(a)?function n8(t,e,n,r){return Yt(e).pipe(pa(i=>Sy(function i8(t,e){return null!==t&&e&&e(new GW(t)),ge(!0)}(i.route.parent,r),function r8(t,e){return null!==t&&e&&e(new WW(t)),ge(!0)}(i.route,r),function o8(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Y4(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>iR(()=>ge(o.guards.map(u=>{const c=Ih(u,o.node,n);let l;if(function N4(t){return t&&rs(t.canActivateChild)}(c))l=ti(c.canActivateChild(r,t));else{if(!rs(c))throw new Error("Invalid CanActivateChild guard");l=ti(c(r,t))}return l.pipe(ga())})).pipe(Dc())));return ge(s).pipe(Dc())}(t,i.path,n),function s8(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ge(!0);const i=r.map(s=>iR(()=>{const o=Ih(s,e,n);let a;if(function k4(t){return t&&rs(t.canActivate)}(o))a=ti(o.canActivate(e,t));else{if(!rs(o))throw new Error("Invalid CanActivate guard");a=ti(o(e,t))}return a.pipe(ga())}));return ge(i).pipe(Dc())}(t,i.route,n))),ga(i=>!0!==i,!0))}(r,s,t,e):ge(a)),Pe(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Un(a=>{if(Os(a.guardsResult)){const c=My(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new $W(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Rs(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),qy(a=>{if(a.guards.canActivateChecks.length)return ge(a).pipe(Un(u=>{const c=new HW(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Ms(u=>{let c=!1;return ge(u).pipe(function g8(t,e){return Pt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ge(n);let s=0;return Yt(i).pipe(pa(o=>function m8(t,e,n,r){return function y8(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ge({});const s={};return Yt(i).pipe(Pt(o=>function _8(t,e,n,r){const i=Ih(t,e,r);return ti(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Un(a=>{s[o]=a}))),Ay(1),Pt(()=>Object.keys(s).length===i.length?ge(s):hi))}(t._resolve,t,e,r).pipe(Pe(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),MR(t,n).resolve),null)))}(o.route,r,t,e)),Un(()=>s++),Ay(1),Pt(o=>s===i.length?ge(n):hi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Un({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Un(u=>{const c=new qW(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),qy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Pe(a=>{const u=function y4(t,e,n){const r=Ic(t,e._root,n?n._root:void 0);return new AR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Un(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>Pe(r=>(new A4(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Un({next(){s=!0},complete(){s=!0}}),function UW(t){return Kt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ns(a=>{if(o=!0,function YW(t){return t&&t[fR]}(a)){const u=Os(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new cR(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bh(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new VW(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return hi}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){VR(n),this.config=n.map($y),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function w4(t,e,n,r,i){if(0===n.length)return Ly(e.root,e.root,e,r,i);const s=function E4(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new OR(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Xt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new OR(n,e,r)}(n);if(s.toRoot())return Ly(e.root,new Ae([],{}),e,r,i);const o=function I4(t,e,n){if(t.isAbsolute)return new Uy(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Uy(s,s===e.root,0)}const r=gh(t.commands[0])?0:1;return function b4(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Uy(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?mh(o.segmentGroup,o.index,s.commands):PR(o.segmentGroup,o.index,s.commands);return Ly(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Os(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function A8(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},C8):!1===r?Object.assign({},S8):r,Os(n))return _R(this.currentUrlTree,n,i);const s=this.parseUrl(n);return _R(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new vc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,d=bh(r)&&l&&!bh(l.source),h=l.rawUrl.toString()===n.toString(),f=l.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let m,_,I;o?(m=o.resolve,_=o.reject,I=o.promise):I=new Promise((Y,pe)=>{m=Y,_=pe});const v=++this.navigationId;let U;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),U=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):U=0,this.setTransition({id:v,targetPageId:U,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:m,reject:_,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(Y=>Promise.reject(Y))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new cR(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){fm()},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function bh(t){return"imperative"!==t}class tk{}class nk{preload(e,n){return ge(null)}}let rk=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new ZR(i,r,u=>n.triggerEvent(new lR(u)),u=>n.triggerEvent(new dR(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Rs(n=>n instanceof vc),pa(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(wi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Yt(i).pipe(wu(),Pe(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ge(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Pt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(Q(tr),Q(Gd),Q(Dt),Q(tk))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),Ky=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof xy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof hR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new hR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){fm()},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const Ps=new we("ROUTER_CONFIGURATION"),ik=new we("ROUTER_FORROOT_GUARD"),k8=[oy,{provide:IR,useClass:bR},{provide:tr,useFactory:function L8(t,e,n,r,i,s,o={},a,u){const c=new tr(null,t,e,n,r,i,gR(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function U8(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[IR,Cc,oy,Dt,Gd,Gy,Ps,[class I8{},new ct],[class v8{},new ct]]},Cc,{provide:_a,useFactory:function V8(t){return t.routerState.root},deps:[tr]},rk,nk,class R8{preload(e,n){return n().pipe(ns(()=>ge(null)))}},{provide:Ps,useValue:{enableTracing:!1}}];function N8(){return new sM("Router",tr)}let sk=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[k8,ok(n),{provide:ik,useFactory:F8,deps:[[tr,new ct,new Oo]]},{provide:Ps,useValue:r||{}},{provide:fa,useFactory:P8,deps:[xs,[new Uu(sy),new ct],Ps]},{provide:Ky,useFactory:O8,deps:[tr,Fz,Ps]},{provide:tk,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:nk},{provide:sM,multi:!0,useFactory:N8},[Qy,{provide:qd,multi:!0,useFactory:j8,deps:[Qy]},{provide:ak,useFactory:B8,deps:[Qy]},{provide:Xx,multi:!0,useExisting:ak}]]}}static forChild(n){return{ngModule:t,providers:[ok(n)]}}}return t.\u0275fac=function(n){return new(n||t)(Q(ik,8),Q(tr,8))},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({}),t})();function O8(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ky(t,e,n)}function P8(t,e,n={}){return n.useHash?new y3(t,e):new SM(t,e)}function F8(t){return"guarded"}function ok(t){return[{provide:G2,multi:!0,useValue:t},{provide:Gy,multi:!0,useValue:t}]}let Qy=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ci}appInitializer(){return this.injector.get(p3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(tr),o=this.injector.get(Ps);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ge(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Ps),i=this.injector.get(rk),s=this.injector.get(Ky),o=this.injector.get(tr),a=this.injector.get(hc);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(Q(Dt))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();function j8(t){return t.appInitializer.bind(t)}function B8(t){return t.bootstrapListener.bind(t)}const ak=new we("Router Initializer");function uk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){uk(s,r,i,o,a,"next",u)}function a(u){uk(s,r,i,o,a,"throw",u)}o(void 0)})}}const Jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Th(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function fk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pk(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wa(){return"object"==typeof indexedDB}function Dh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function e_(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ri.prototype.create)}}class ri{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function X8(t,e){return t.replace(Z8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ni(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Z8=/\{\$([^}]+)}/g;function Sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mk(s)&&mk(o)){if(!Sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mk(t){return null!==t&&"object"==typeof t}function Mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class n6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function r6(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=t_),void 0===i.error&&(i.error=t_),void 0===i.complete&&(i.complete=t_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t_(){}function r_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function wr(t){return t&&t._delegate?t._delegate:t}class An{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class c6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function d6(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class h6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const i_=[];var Re=(()=>{return(t=Re||(Re={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",Re;var t})();const yk={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},f6=Re.INFO,p6={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},g6=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=p6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ea{constructor(e){this.name=e,this._logLevel=f6,this._logHandler=g6,this._userLogHandler=null,i_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}class m6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function y6(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const s_="@firebase/app",o_=new Ea("@firebase/app"),a_="[DEFAULT]",H6={[s_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ls=new Map,Ah=new Map;function q6(t,e){try{t.container.addComponent(e)}catch(n){o_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vn(t){const e=t.name;if(Ah.has(e))return o_.debug(`There were multiple attempts to register component ${e}.`),!1;Ah.set(e,t);for(const n of Ls.values())q6(n,t);return!0}function Ia(t,e){return t.container.getProvider(e)}const Rc=new ri("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class z6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rc.create("app-deleted",{appName:this._name})}}const ba="9.6.7";function W6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:a_,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Rc.create("bad-app-name",{appName:String(r)});const i=Ls.get(r);if(i){if(Sh(t,i.options)&&Sh(n,i.config))return i;throw Rc.create("duplicate-app",{appName:r})}const s=new h6(r);for(const a of Ah.values())s.addComponent(a);const o=new z6(t,n,s);return Ls.set(r,o),o}function u_(t=a_){const e=Ls.get(t);if(!e)throw Rc.create("no-app",{appName:t});return e}function vk(){return Array.from(Ls.values())}function st(t,e,n){var r;let i=null!==(r=H6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void o_.warn(a.join(" "))}Vn(new An(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}!function K6(t){Vn(new An("platform-logger",e=>new m6(e),"PRIVATE")),st(s_,"0.7.17",t),st(s_,"0.7.17","esm2017"),st("fire-js","")}(""),st("firebase","9.6.7","app");var Ta=D(940);const wk="@firebase/installations",Ik="w:0.5.5",bk="FIS_v2",Ci=new ri("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tk(t){return t instanceof ni&&t.code.includes("request-failed")}function d_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Dk(t){return{token:t.token,requestStatus:2,expiresIn:nK(t.expiresIn),creationTime:Date.now()}}function h_(t,e){return f_.apply(this,arguments)}function f_(){return(f_=g(function*(t,e){const r=(yield e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ck({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sk(t,{refreshToken:e}){const n=Ck(t);return n.append("Authorization",function rK(t){return`${bk} ${t}`}(e)),n}function p_(t){return g_.apply(this,arguments)}function g_(){return(g_=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function nK(t){return Number(t.replace("s","000"))}function iK(t,e){return m_.apply(this,arguments)}function m_(){return(m_=g(function*(t,{fid:e}){const n=d_(t),s={method:"POST",headers:Ck(t),body:JSON.stringify({fid:e,authVersion:bk,appId:t.appId,sdkVersion:Ik})},o=yield p_(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:Dk(a.authToken)}}throw yield h_("Create Installation",o)})).apply(this,arguments)}function Ak(t){return new Promise(e=>{setTimeout(e,t)})}const oK=/^[cdef][\w-]{21}$/;function aK(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function uK(t){return function sK(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return oK.test(n)?n:""}catch(t){return""}}function Da(t){return`${t.appName}!${t.appId}`}const Ca=new Map;function xk(t,e){const n=Da(t);Mk(n,e),function dK(t,e){const n=function Rk(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=t=>{Mk(t.data.key,t.data.fid)}),Us}();n&&n.postMessage({key:t,fid:e}),function kk(){0===Ca.size&&Us&&(Us.close(),Us=null)}()}(n,e)}function Mk(t,e){const n=Ca.get(t);if(n)for(const r of n)r(e)}let Us=null;const Vs="firebase-installations-store";let __=null;function v_(){return __||(__=(0,Ta.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Vs)})),__}function xh(t,e){return w_.apply(this,arguments)}function w_(){return(w_=g(function*(t,e){const n=Da(t),i=(yield v_()).transaction(Vs,"readwrite"),s=i.objectStore(Vs),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&xk(t,e.fid),e})).apply(this,arguments)}function E_(t){return I_.apply(this,arguments)}function I_(){return(I_=g(function*(t){const e=Da(t),r=(yield v_()).transaction(Vs,"readwrite");yield r.objectStore(Vs).delete(e),yield r.complete})).apply(this,arguments)}function kc(t,e){return b_.apply(this,arguments)}function b_(){return(b_=g(function*(t,e){const n=Da(t),i=(yield v_()).transaction(Vs,"readwrite"),s=i.objectStore(Vs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&xk(t,a.fid),a})).apply(this,arguments)}function T_(t){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(t){let e;const n=yield kc(t,r=>{const i=pK(r),s=gK(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function pK(t){return Ok(t||{fid:aK(),registrationStatus:0})}function gK(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ci.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function mK(t,e){return C_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:yK(t)}:{installationEntry:e}}function C_(){return(C_=g(function*(t,e){try{return xh(t,yield iK(t,e))}catch(n){throw Tk(n)&&409===n.customData.serverCode?yield E_(t):yield xh(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function yK(t){return S_.apply(this,arguments)}function S_(){return(S_=g(function*(t){let e=yield Nk(t);for(;1===e.registrationStatus;)yield Ak(100),e=yield Nk(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield T_(t);return r||n}return e})).apply(this,arguments)}function Nk(t){return kc(t,e=>{if(!e)throw Ci.create("installation-not-found");return Ok(e)})}function Ok(t){return function _K(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function vK(t,e){return A_.apply(this,arguments)}function A_(){return(A_=g(function*({appConfig:t,platformLoggerProvider:e},n){const r=wK(t,n),i=Sk(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Ik}})},u=yield p_(()=>fetch(r,a));if(u.ok)return Dk(yield u.json());throw yield h_("Generate Auth Token",u)})).apply(this,arguments)}function wK(t,{fid:e}){return`${d_(t)}/${e}/authTokens:generate`}function x_(t){return M_.apply(this,arguments)}function M_(){return(M_=g(function*(t,e=!1){let n;const r=yield kc(t.appConfig,s=>{if(!Fk(s))throw Ci.create("not-registered");const o=s.authToken;if(!e&&bK(o))return s;if(1===o.requestStatus)return n=EK(t,e),s;{if(!navigator.onLine)throw Ci.create("app-offline");const a=DK(s);return n=IK(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function EK(t,e){return R_.apply(this,arguments)}function R_(){return(R_=g(function*(t,e){let n=yield Pk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Ak(100),n=yield Pk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?x_(t,e):r})).apply(this,arguments)}function Pk(t){return kc(t,e=>{if(!Fk(e))throw Ci.create("not-registered");return function CK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function IK(t,e){return k_.apply(this,arguments)}function k_(){return(k_=g(function*(t,e){try{const n=yield vK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield xh(t.appConfig,r),n}catch(n){if(!Tk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield xh(t.appConfig,r)}else yield E_(t.appConfig);throw n}})).apply(this,arguments)}function Fk(t){return void 0!==t&&2===t.registrationStatus}function bK(t){return 2===t.requestStatus&&!function TK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function DK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function N_(){return(N_=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield T_(e.appConfig);return r?r.catch(console.error):x_(e).catch(console.error),n.fid})).apply(this,arguments)}function O_(){return(O_=g(function*(t,e=!1){const n=t;return yield xK(n.appConfig),(yield x_(n,e)).token})).apply(this,arguments)}function xK(t){return P_.apply(this,arguments)}function P_(){return(P_=g(function*(t){const{registrationPromise:e}=yield T_(t);e&&(yield e)})).apply(this,arguments)}function U_(t){return Ci.create("missing-app-config-values",{valueName:t})}const Lk="installations",OK=t=>{const e=t.getProvider("app").getImmediate(),n=function kK(t){if(!t||!t.options)throw U_("App Configuration");if(!t.name)throw U_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw U_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:Ia(e,"platform-logger"),_delete:()=>Promise.resolve()}},PK=t=>{const n=Ia(t.getProvider("app").getImmediate(),Lk).getImmediate();return{getId:()=>function SK(t){return N_.apply(this,arguments)}(n),getToken:i=>function AK(t){return O_.apply(this,arguments)}(n,i)}};(function FK(){Vn(new An(Lk,OK,"PUBLIC")),Vn(new An("installations-internal",PK,"PRIVATE"))})(),st(wk,"0.5.5"),st(wk,"0.5.5","esm2017");const V_="@firebase/remote-config",jn=new ri("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class WK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function KK(t=navigator){return t.languages&&t.languages[0]||t.language}class QK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:KK()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,v)=>{e.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",v(U)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let v="fetch-client-network";throw"AbortError"===I.name&&(v="fetch-timeout"),jn.create(v,{originalErrorMessage:I.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let I;try{I=yield h.json()}catch(v){throw jn.create("fetch-client-parse",{originalErrorMessage:v.message})}m=I.entries,_=I.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw jn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class XK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function YK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function JK(t){if(!(t instanceof ni&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+r_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class t5{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rh(t,e){const n=t.target.error||void 0;return jn.create(e,{originalErrorMessage:n&&n.message})}const js="app_namespace_store";class s5{constructor(e,n,r,i=function i5(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Rh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(js,{keyPath:"compositeKey"})}}catch(n){e(jn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([js],"readonly").objectStore(js),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Rh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(jn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([js],"readwrite").objectStore(js),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Rh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(jn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([js],"readwrite").objectStore(js),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Rh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(jn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class o5{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function u5(){return q_.apply(this,arguments)}function q_(){return(q_=g(function*(){if(!wa())return!1;try{return yield Dh()}catch(t){return!1}})).apply(this,arguments)}!function a5(){Vn(new An("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!wa())throw jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw jn.create("registration-project-id");if(!o)throw jn.create("registration-api-key");if(!a)throw jn.create("registration-app-id");const u=new s5(a,r.name,n=n||"firebase"),c=new o5(u),l=new Ea(V_);l.logLevel=Re.ERROR;const d=new QK(i,ba,n,s,o,a),h=new XK(d,u),f=new WK(h,u,c,l),p=new t5(r,f,c,u,l);return function qK(t){const e=wr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),st(V_,"0.3.4"),st(V_,"0.3.4","esm2017")}();const c5="/firebase-messaging-sw.js",l5="/firebase-cloud-messaging-push-scope",Bk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$k="google.c.a.c_id",h5="google.c.a.c_l",f5="google.c.a.ts",p5="google.c.a.e";var Sa=(()=>{return(t=Sa||(Sa={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Sa;var t})();function Si(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g5(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const G_="fcm_token_details_db",Hk="fcm_token_object_Store";function y5(t){return z_.apply(this,arguments)}function z_(){return z_=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(G_))return null;let e=null;return(yield(0,Ta.openDb)(G_,5,function(){var r=g(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(Hk))return;const o=i.transaction.objectStore(Hk),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Si(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Si(u.auth),p256dh:Si(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Si(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Si(u.auth),p256dh:Si(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Si(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,Ta.deleteDb)(G_),yield(0,Ta.deleteDb)("fcm_vapid_details_db"),yield(0,Ta.deleteDb)("undefined"),_5(e)?e:null}),z_.apply(this,arguments)}function _5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Bs="firebase-messaging-store";let W_=null;function K_(){return W_||(W_=(0,Ta.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Bs)})),W_}function qk(t){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(t){const e=Z_(t),r=yield(yield K_()).transaction(Bs).objectStore(Bs).get(e);if(r)return r;{const i=yield y5(t.appConfig.senderId);if(i)return yield Y_(t,i),i}})).apply(this,arguments)}function Y_(t,e){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(t,e){const n=Z_(t),i=(yield K_()).transaction(Bs,"readwrite");return yield i.objectStore(Bs).put(e,n),yield i.complete,e})).apply(this,arguments)}function E5(t){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(t){const e=Z_(t),r=(yield K_()).transaction(Bs,"readwrite");yield r.objectStore(Bs).delete(e),yield r.complete})).apply(this,arguments)}function Z_({appConfig:t}){return t.appId}const Zt=new ri("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function b5(t,e){return ev.apply(this,arguments)}function ev(){return(ev=g(function*(t,e){const n=yield iv(t),r=zk(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(rv(t.appConfig),i)).json()}catch(o){throw Zt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Zt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function T5(t,e){return tv.apply(this,arguments)}function tv(){return(tv=g(function*(t,e){const n=yield iv(t),r=zk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${rv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Zt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Zt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Zt.create("token-update-no-token");return s.token})).apply(this,arguments)}function Gk(t,e){return nv.apply(this,arguments)}function nv(){return(nv=g(function*(t,e){const r={method:"DELETE",headers:yield iv(t)};try{const s=yield(yield fetch(`${rv(t.appConfig)}/${e}`,r)).json();if(s.error)throw Zt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Zt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function rv({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function iv(t){return sv.apply(this,arguments)}function sv(){return(sv=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function zk({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Bk&&(i.web.applicationPubKey=r),i}const D5=6048e5;function C5(t){return ov.apply(this,arguments)}function ov(){return(ov=g(function*(t){const e=yield A5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Si(e.getKey("auth")),p256dh:Si(e.getKey("p256dh"))},r=yield qk(t.firebaseDependencies);if(r){if(x5(r.subscriptionOptions,n))return Date.now()>=r.createTime+D5?S5(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Gk(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Kk(t.firebaseDependencies,n)}return Kk(t.firebaseDependencies,n)})).apply(this,arguments)}function Wk(t){return av.apply(this,arguments)}function av(){return(av=g(function*(t){const e=yield qk(t.firebaseDependencies);e&&(yield Gk(t.firebaseDependencies,e.token),yield E5(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function S5(t,e){return uv.apply(this,arguments)}function uv(){return(uv=g(function*(t,e){try{const n=yield T5(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Y_(t.firebaseDependencies,r),n}catch(n){throw yield Wk(t),n}})).apply(this,arguments)}function Kk(t,e){return cv.apply(this,arguments)}function cv(){return(cv=g(function*(t,e){const r={token:yield b5(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Y_(t,r),r.token})).apply(this,arguments)}function A5(t,e){return lv.apply(this,arguments)}function lv(){return(lv=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:g5(e)})})).apply(this,arguments)}function x5(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Qk(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function M5(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function R5(t,e){!e.data||(t.data=e.data)}(e,t),function k5(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function N5(t){return"object"==typeof t&&!!t&&$k in t}function Yk(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function dv(t){return Zt.create("missing-app-config-values",{valueName:t})}Yk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class P5{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function O5(t){if(!t||!t.options)throw dv("App Configuration Object");if(!t.name)throw dv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw dv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Jk(t){return hv.apply(this,arguments)}function hv(){return(hv=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(c5,{scope:l5}),t.swRegistration.update().catch(()=>{})}catch(e){throw Zt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function F5(t,e){return fv.apply(this,arguments)}function fv(){return(fv=g(function*(t,e){if(!e&&!t.swRegistration&&(yield Jk(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Zt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function L5(t,e){return pv.apply(this,arguments)}function pv(){return(pv=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Bk)})).apply(this,arguments)}function gv(){return(gv=g(function*(t,e){if(!navigator)throw Zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zt.create("permission-blocked");return yield L5(t,null==e?void 0:e.vapidKey),yield F5(t,null==e?void 0:e.serviceWorkerRegistration),C5(t)})).apply(this,arguments)}function U5(t,e,n){return mv.apply(this,arguments)}function mv(){return(mv=g(function*(t,e,n){const r=V5(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[$k],message_name:n[h5],message_time:n[f5],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function V5(t){switch(t){case Sa.NOTIFICATION_CLICKED:return"notification_open";case Sa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yv(){return(yv=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Sa.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Qk(n)):t.onMessageHandler.next(Qk(n)));const r=n.data;N5(r)&&"1"===r[p5]&&(yield U5(t,n.messageType,r))})).apply(this,arguments)}const Zk="@firebase/messaging",B5=t=>{const e=new P5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function j5(t,e){return yv.apply(this,arguments)}(e,n)),e},$5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Xk(t,e){return gv.apply(this,arguments)}(e,r)}};function t1(){return _v.apply(this,arguments)}function _v(){return(_v=g(function*(){try{yield Dh()}catch(t){return!1}return"undefined"!=typeof window&&wa()&&e_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function H5(){Vn(new An("messaging",B5,"PUBLIC")),Vn(new An("messaging-internal",$5,"PRIVATE")),st(Zk,"0.9.8"),st(Zk,"0.9.8","esm2017")}();const kh="analytics",z5="firebase_id",Q5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",n1="https://www.googletagmanager.com/gtag/js",en=new Ea("@firebase/analytics");function r1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y5(t,e){const n=document.createElement("script");n.src=`${n1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function X5(t,e,n,r,i,s){return Ev.apply(this,arguments)}function Ev(){return(Ev=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield r1(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){en.error(a)}t("config",i,s)})).apply(this,arguments)}function Z5(t,e,n,r,i){return Iv.apply(this,arguments)}function Iv(){return(Iv=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield r1(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){en.error(s)}})).apply(this,arguments)}function n7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(n1))return e;return null}const nr=new ri("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),i1=new class o7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function a7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function u7(t){return bv.apply(this,arguments)}function bv(){return(bv=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:a7(r)},s=Q5.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw nr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function c7(t){return Tv.apply(this,arguments)}function Tv(){return(Tv=g(function*(t,e=i1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new h7;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),s1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function s1(t,e,n){return Dv.apply(this,arguments)}function Dv(){return(Dv=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=i1){const{appId:s,measurementId:o}=t;try{yield l7(r,e)}catch(a){if(o)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield u7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!d7(a)){if(i.deleteThrottleMetadata(s),o)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?r_(n,i.intervalMillis,30):r_(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),en.debug(`Calling attemptFetch again in ${u} millis`),s1(t,c,r,i)}})).apply(this,arguments)}function l7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d7(t){if(!(t instanceof ni&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class h7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function f7(){return Cv.apply(this,arguments)}function Cv(){return(Cv=g(function*(){if(!wa())return en.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Dh()}catch(t){return en.warn(nr.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function Sv(){return(Sv=g(function*(t,e,n,r,i,s,o){var a;const u=c7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>en.error(f)),e.push(u);const c=f7().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);n7()||Y5(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[z5]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class g7{constructor(e){this.app=e}_delete(){return delete Ai[this.app.options.appId],Promise.resolve()}}let Ai={},o1=[];const a1={};let c1,Nc,Nh="dataLayer",Av=!1;function y7(t,e,n){!function m7(){const t=[];if(Th()&&t.push("This is a browser extension environment."),e_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nr.create("invalid-analytics-context",{errorInfo:e});en.warn(n.message)}}();const r=t.options.appId;if(!r)throw nr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw nr.create("no-api-key");en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ai[r])throw nr.create("already-exists",{id:r});if(!Av){!function J5(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Nh);const{wrappedGtag:s,gtagCore:o}=function t7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function e7(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield Z5(t,e,n,a,u):"config"===o?yield X5(t,e,n,r,a,u):t("set",a)}catch(c){en.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ai,o1,a1,Nh,"gtag");Nc=s,c1=o,Av=!0}return Ai[r]=function p7(t,e,n,r,i,s,o){return Sv.apply(this,arguments)}(t,o1,a1,e,c1,Nh,n),new g7(t)}function xv(){return(xv=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function T7(){return Ov.apply(this,arguments)}function Ov(){return(Ov=g(function*(){if(Th()||!e_()||!wa())return!1;try{return yield Dh()}catch(t){return!1}})).apply(this,arguments)}const l1="@firebase/analytics";!function C7(){Vn(new An(kh,(e,{options:n})=>y7(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Vn(new An("analytics-internal",function t(e){try{const n=e.getProvider(kh).getImmediate();return{logEvent:(r,i,s)=>function D7(t,e,n,r){t=wr(t),function _7(t,e,n,r,i){return xv.apply(this,arguments)}(Nc,Ai[t.app.options.appId],e,n,r).catch(i=>en.error(i))}(n,r,i,s)}}catch(n){throw nr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),st(l1,"0.7.5"),st(l1,"0.7.5","esm2017")}();class S7 extends S{constructor(e,n){super()}schedule(e,n=0){return this}}const Oh={setInterval(...t){const{delegate:e}=Oh;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=Oh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class h1 extends S7{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Oh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Oh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,C(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const f1={now:()=>(f1.delegate||Date).now(),delegate:void 0};class Oc{constructor(e,n=Oc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Oc.now=f1.now;class p1 extends Oc{constructor(e,n=Oc.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const M7=new class x7 extends p1{}(class A7 extends h1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),R7=new p1(h1),Ph=new oc("7.2.0"),Pv="__angularfire_symbol__analyticsIsSupported",Fv="__angularfire_symbol__remoteConfigIsSupported",Lv="__angularfire_symbol__messagingIsSupported";function Vv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Pv]||(globalThis[Pv]=T7().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[Lv]||(globalThis[Lv]=t1().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[Fv]||(globalThis[Fv]=u5().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const jv=(t,e)=>{const n=e?[e]:vk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Aa(){}class _1{constructor(e,n=M7){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class k7{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)),n.pipe(Un({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bv=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _1(Zone.current)),this.insideAngular=n.run(()=>new _1(Zone.current,R7)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(Q(Je))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $s(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function N7(t){return $s().ngZone.runOutsideAngular(()=>t())}function Hs(t){return $s().ngZone.run(()=>t())}function O7(t){return $s(),function P7(t){return function(n){return(n=n.lift(new k7(t.ngZone))).pipe(Bl(t.outsideAngular),jl(t.insideAngular))}}($s())(t)}const F7=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Hs(()=>t.apply(n,arguments))}},qs=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=Hs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)))),arguments[i]=F7(arguments[i],n));const r=N7(()=>t.apply(this,arguments));if(!e){if(r instanceof Se){const i=$s();return r.pipe(Bl(i.outsideAngular),jl(i.insideAngular))}return Hs(()=>r)}return r instanceof Se?r.pipe(O7):r instanceof Promise?Hs(()=>new Promise((i,s)=>r.then(o=>Hs(()=>i(o)),o=>Hs(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Hs(()=>r)};class xa{constructor(e){return e}}class $v{constructor(){return vk()}}const Hv=new we("angularfire2._apps"),U7={provide:xa,useFactory:function L7(t){return t&&1===t.length?t[0]:new xa(u_())},deps:[[new ct,Hv]]},V7={provide:$v,deps:[[new ct,Hv]]};function j7(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xa(r)}}let B7=(()=>{class t{constructor(n){st("angularfire",Ph.full,"core"),st("angularfire",Ph.full,"app"),st("angular",gx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(Q(da))},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:[U7,V7]}),t})();function $7(t,...e){return{ngModule:B7,providers:[{provide:Hv,useFactory:j7(t),multi:!0,deps:[Je,Dt,Bv,...e]}]}}const H7=qs(W6,!0),v1=new Map,q7={activated:!1,tokenObservers:[]},G7={initialized:!1,enabled:!1};function Ut(t){return v1.get(t)||q7}function jr(t,e){v1.set(t,e)}function Fh(){return G7}class Y7{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Zy,yield function J7(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Zy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const xn=new ri("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function E1(t){if(!Ut(t).activated)throw xn.create("use-before-activation",{appName:t.name})}function zv(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw xn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw xn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw xn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function n9(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Pc="firebase-app-check-store";let Vh=null;function b1(){return Vh||(Vh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(xn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pc,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n.message}))}}),Vh)}function Kv(){return(Kv=g(function*(t,e){const r=(yield b1()).transaction(Pc,"readwrite"),s=r.objectStore(Pc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(xn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Fc=new Ea("@firebase/app-check");function S1(t,e){return wa()?function o9(t,e){return function T1(t,e){return Kv.apply(this,arguments)}(function C1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Fc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function A1(){return Fh().enabled}function x1(){return Xv.apply(this,arguments)}function Xv(){return(Xv=g(function*(){const t=Fh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const h9={error:"UNKNOWN_ERROR"};function f9(t){return Jy.encodeString(JSON.stringify(t),!1)}function jh(t){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(t,e=!1){const n=t.app;E1(n);const r=Ut(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Bh(u)&&(i=u)}if(!e&&i&&Bh(i))return{token:i.token};let a,o=!1;if(A1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zv(n9(n,yield x1()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield S1(n,u),jr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Fc.warn(u.message):Fc.error(u),s=u}return i?(a={token:i.token},jr(n,Object.assign(Object.assign({},r),{token:i})),yield S1(n,i)):a=g9(s),o&&R1(n,a),a})).apply(this,arguments)}function tw(t,e){const n=Ut(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),jr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function M1(t){const{app:e}=t,n=Ut(e);let r=n.tokenRefresher;r||(r=function p9(t){const{app:e}=t;return new Y7(g(function*(){let r;if(r=Ut(e).token?yield jh(t,!0):yield jh(t),r.error)throw r.error}),()=>!0,()=>{const n=Ut(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),jr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function R1(t,e){const n=Ut(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Bh(t){return t.expireTimeMillis-Date.now()>0}function g9(t){return{token:f9(h9),error:t}}class m9{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=Ut(this.app);for(const n of e)tw(this.app,n.next);return Promise.resolve()}}const V1="app-check-internal";!function M9(){Vn(new An("app-check",t=>function y9(t,e){return new m9(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(V1).initialize()})),Vn(new An(V1,t=>function _9(t){return{getToken:e=>jh(t,e),addTokenListener:e=>function ew(t,e,n,r){const{app:i}=t,s=Ut(i),o={next:n,error:r,type:e};if(jr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Bh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),M1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>M1(t))}(t,"INTERNAL",e),removeTokenListener:e=>tw(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),st("@firebase/app-check","0.5.3")}();class sw{constructor(){return jv("app-check")}}function uw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}"undefined"!=typeof window&&window;const L9=function q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},G1=new ri("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),z1=new Ea("@firebase/auth");function qh(t,...e){z1.logLevel<=Re.ERROR&&z1.error(`Auth (9.6.7): ${t}`,...e)}function Bn(t,...e){throw cw(t,...e)}function rr(t,...e){return cw(t,...e)}function W1(t,e,n){const r=Object.assign(Object.assign({},L9()),{[e]:n});return new ri("auth","Firebase",r).create(e,{appName:t.name})}function Ma(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Bn(t,"argument-error"),W1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G1.create(t,...e)}function j(t,e,...n){if(!t)throw cw(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function xi(t,e){t||ii(e)}const K1=new Map;function Mi(t){xi(t instanceof Function,"Expected a class definition");let e=K1.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K1.set(t,e),e)}function Lc(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Q1(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=hk()||fk()}get(){return function j9(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function lw(){return"http:"===Q1()||"https:"===Q1()}()||Th()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dw(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Y1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},H9=new Uc(3e4,6e4);function At(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Vt(t,e,n,r){return hw.apply(this,arguments)}function hw(){return(hw=g(function*(t,e,n,r,i={}){return J1(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Mc(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Y1.fetch()(X1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function J1(t,e,n){return fw.apply(this,arguments)}function fw(){return(fw=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$9),e);try{const i=new q9(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Gh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Gh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Gh(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw W1(t,l,c);Bn(t,l)}}catch(i){if(i instanceof ni)throw i;Bn(t,"network-request-failed")}})).apply(this,arguments)}function Ri(t,e,n,r){return pw.apply(this,arguments)}function pw(){return(pw=g(function*(t,e,n,r,i={}){const s=yield Vt(t,e,n,r,i);return"mfaPendingCredential"in s&&Bn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function X1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dw(t.config,i):`${t.config.apiScheme}://${i}`}class q9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),H9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rr(t,e,r);return i.customData._tokenResponse=n,i}function gw(){return(gw=g(function*(t,e){return Vt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function W9(t,e){return yw.apply(this,arguments)}function yw(){return(yw=g(function*(t,e){return Vt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function _w(){return(_w=g(function*(t,e=!1){const n=wr(t),r=yield n.getIdToken(e),i=zh(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vc(vw(i.auth_time)),issuedAtTime:Vc(vw(i.iat)),expirationTime:Vc(vw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function vw(t){return 1e3*Number(t)}function zh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Jy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i),null}}function ki(t,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ni&&Y9(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function Y9({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class J9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class Z1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jc(t){return Ew.apply(this,arguments)}function Ew(){return(Ew=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ki(t,W9(n,{idToken:r}));j(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?eQ(s.providerUserInfo):[],a=Z9(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Z1(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function Iw(){return(Iw=g(function*(t){const e=wr(t);yield jc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Z9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eQ(t){return t.map(e=>{var{providerId:n}=e,r=uw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bw(){return(bw=g(function*(t,e){const n=yield J1(t,{},g(function*(){const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=X1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(void 0!==e.idToken,"internal-error"),j(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function Q9(t){const e=zh(t);return j(e,"internal-error"),j(void 0!==e.exp,"internal-error"),j(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return j(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function tQ(t,e){return bw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bc;return r&&(j("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(j("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(j("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return ii("not implemented")}}function is(t,e){j("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Z1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield ki(n,n.stsTokenManager.getToken(n.auth,e));return j(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function K9(t){return _w.apply(this,arguments)}(this,e)}reload(){return function X9(t){return Iw.apply(this,arguments)}(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield jc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield ki(e,function G9(t,e){return gw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:U,emailVerified:Y,isAnonymous:pe,providerData:kt,stsTokenManager:cr}=n;j(U&&cr,e,"internal-error");const Ul=Bc.fromJSON(this.name,cr);j("string"==typeof U,e,"internal-error"),is(d,e.name),is(h,e.name),j("boolean"==typeof Y,e,"internal-error"),j("boolean"==typeof pe,e,"internal-error"),is(f,e.name),is(p,e.name),is(m,e.name),is(_,e.name),is(I,e.name),is(v,e.name);const _o=new Gs({uid:U,auth:e,email:h,emailVerified:Y,displayName:d,isAnonymous:pe,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ul,createdAt:I,lastLoginAt:v});return kt&&Array.isArray(kt)&&(_o.providerData=kt.map(Vl=>Object.assign({},Vl))),_&&(_o._redirectEventId=_),_o}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Bc;i.updateFromServerResponse(n);const s=new Gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jc(s),s})()}}const eN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Wh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Gs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ra(Mi(eN),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Mi(eN);const o=Wh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Gs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Ra(s,e,r)):new Ra(s,e,r)})()}}function tN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oN(e))return"Blackberry";if(aN(e))return"Webos";if(Tw(e))return"Safari";if((e.includes("chrome/")||rN(e))&&!e.includes("edge/"))return"Chrome";if(sN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function nN(t=Lt()){return/firefox\//i.test(t)}function Tw(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rN(t=Lt()){return/crios\//i.test(t)}function iN(t=Lt()){return/iemobile/i.test(t)}function sN(t=Lt()){return/android/i.test(t)}function oN(t=Lt()){return/blackberry/i.test(t)}function aN(t=Lt()){return/webos/i.test(t)}function Kh(t=Lt()){return/iphone|ipad|ipod/i.test(t)}function uN(t=Lt()){return Kh(t)||sN(t)||aN(t)||oN(t)||/windows phone/i.test(t)||iN(t)}function cN(t,e=[]){let n;switch(t){case"Browser":n=tN(Lt());break;case"Worker":n=`${tN(Lt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.7/${e.length?e.join(","):"FirebaseCore-web"}`}class sQ{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lN(this),this.idTokenSubscription=new lN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ra.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(j(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield jc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function B9(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?wr(e):null;return r&&j(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&j(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Mi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ri("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Mi(e)||n._popupRedirectResolver;j(r,n,"argument-error"),n.redirectPersistenceManager=yield Ra.create(n,[Mi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return j(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}function $n(t){return wr(t)}class lN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function t6(t,e){const n=new n6(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class fN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}function Ni(t,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=g(function*(t,e){return Ri(t,"POST","/v1/accounts:signInWithIdp",At(t,e))})).apply(this,arguments)}class ka extends fN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=uw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ka(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ni(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ni(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yN extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let TQ=(()=>{class t extends yN{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ka._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch(s){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Gs._fromIdTokenResponse(e,r,i),o=vN(r);return new Er({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=vN(r);return new Er({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function vN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Xh extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xh(e,n,r,i)}}function wN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Xh._fromErrorAndOperation(t,s,e,r):s})}function zw(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(t,e,n=!1){const r=yield ki(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Er._forOperation(t,"link",r)})).apply(this,arguments)}function Qw(){return(Qw=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ki(t,wN(r,i,e,t),n);j(s.idToken,r,"internal-error");const o=zh(s.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(t.uid===a,r,"user-mismatch"),Er._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Bn(r,"user-mismatch"),s}})).apply(this,arguments)}function Yw(){return(Yw=g(function*(t,e,n=!1){const r="signIn",i=yield wN(t,r,e),s=yield Er._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const tf="__sak";class DN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qQ=(()=>{class t extends DN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function BQ(){const t=Lt();return Tw(t)||Kh(t)}()&&function iQ(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=uN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function rQ(){return pk()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),CN=(()=>{class t extends DN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let zQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function GQ(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function nf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class WQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=nf("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xt(){return window}function DE(){return void 0!==xt().WorkerGlobalScope&&"function"==typeof xt().importScripts}function CE(){return(CE=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const SN="firebaseLocalStorageDb",rf="firebaseLocalStorage",AN="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function SE(){const t=indexedDB.open(SN,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rf,{keyPath:AN})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(rf)?e(r):(r.close(),yield function ZQ(){const t=indexedDB.deleteDatabase(SN);return new qc(t).toPromise()}(),e(yield SE()))}))})}function xN(t,e,n){return AE.apply(this,arguments)}function AE(){return(AE=g(function*(t,e,n){const r=sf(t,!0).put({[AN]:e,value:n});return new qc(r).toPromise()})).apply(this,arguments)}function xE(){return(xE=g(function*(t,e){const n=sf(t,!1).get(e),r=yield new qc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function MN(t,e){const n=sf(t,!0).delete(e);return new qc(n).toPromise()}const rY=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield SE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return DE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=zQ._getInstance(function JQ(){return DE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function QQ(){return CE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new WQ(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function YQ(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield SE();return yield xN(n,tf,"1"),yield MN(n,tf),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>xN(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function eY(t,e){return xE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>MN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=sf(o,!1).getAll();return new qc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function kN(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Ws(t,e){return e?Mi(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}kN("rcb"),new Uc(3e4,6e4);class VE extends fN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wY(t){return function bN(t,e){return Yw.apply(this,arguments)}(t.auth,new VE(t),t.bypassAuthState)}function EY(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),function IN(t,e){return Qw.apply(this,arguments)}(n,new VE(t),t.bypassAuthState)}function IY(t){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),zw(n,new VE(t),t.bypassAuthState)})).apply(this,arguments)}class ON{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wY;case"linkViaPopup":case"linkViaRedirect":return IY;case"reauthViaPopup":case"reauthViaRedirect":return EY;default:Bn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bY=new Uc(2e3,1e4);function TY(t,e,n){return BE.apply(this,arguments)}function BE(){return(BE=g(function*(t,e,n){const r=$n(t);Ma(t,e,ss);const i=Ws(r,n);return new qE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let qE=(()=>{class t extends ON{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return j(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){xi(1===n.filter.length,"Popup operations only handle one event");const r=nf();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(rr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,bY.get())};n()}}return t.currentPopupAction=null,t})();const af=new Map;class CY extends ON{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=af.get(n.auth._key());if(!r){try{const s=(yield function SY(t,e){return GE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}af.set(n.auth._key(),r)}return n.bypassAuthState||af.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function GE(){return(GE=g(function*(t,e){const n=FN(e),r=PN(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function PN(t){return Mi(t._redirectPersistence)}function FN(t){return Wh("pendingRedirect",t.config.apiKey,t.name)}function LN(t,e){return XE.apply(this,arguments)}function XE(){return(XE=g(function*(t,e,n=!1){const r=$n(t),i=Ws(r,e),o=yield new CY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class kY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function NY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jN(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(VN(e))}saveEventToCache(e){this.cachedEventUids.add(VN(e)),this.lastProcessedEventTime=Date.now()}}function VN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jN({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function OY(t){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e={}){return Vt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const PY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FY=/^https?/;function tI(){return(tI=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield OY(t);for(const n of e)try{if(UY(n))return}catch(r){}Bn(t,"unauthorized-domain")})).apply(this,arguments)}function UY(t){const e=Lc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!FY.test(n))return!1;if(PY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const VY=new Uc(3e4,6e4);function BN(){const t=xt().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let uf=null;function BY(t){return uf=uf||function jY(t){return new Promise((e,n)=>{var r,i,s;function o(){BN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BN(),n(rr(t,"network-request-failed"))},timeout:VY.get()})}if(null===(i=null===(r=xt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=xt().gapi)||void 0===s?void 0:s.load)){const a=kN("iframefcb");return xt()[a]=()=>{gapi.load?o():n(rr(t,"network-request-failed"))},function RN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function aY(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw uf=null,e})}(t),uf}const $Y=new Uc(5e3,15e3),GY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WY(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dw(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:ba},i=zY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mc(r).slice(1)}`}function nI(){return nI=g(function*(t){const e=yield BY(t),n=xt().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:WY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GY,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=rr(t,"network-request-failed"),u=xt().setTimeout(()=>{o(a)},$Y.get());function c(){xt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),nI.apply(this,arguments)}const QY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $N{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function HN(t,e,n,r,i,s){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ba,eventId:i};if(e instanceof ss){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function e6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof yN){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function iJ({config:t}){return t.emulator?dw(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Mc(a).slice(1)}`}const rI="webStorageSupport",oJ=class sJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CN,this._completeRedirectFn=LN}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;xi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=HN(e,n,r,Lc(),i);return function eJ(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},QY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Lt().toLowerCase();n&&(a=rN(c)?"_blank":n),nN(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function nQ(t=Lt()){var e;return Kh(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function tJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new $N(null);const d=window.open(e||"",a,l);j(d,t,"popup-blocked");try{d.focus()}catch(h){}return new $N(d)}(e,a,nf())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function KQ(t){xt().location.href=t}(HN(e,n,r,Lc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function KY(t){return nI.apply(this,arguments)}(e),i=new kY(e);return r.register("authEvent",s=>(j(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rI,{type:rI},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[rI];void 0!==o&&n(!!o),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function LY(t){return tI.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uN()||Tw()||Kh()}};var GN="@firebase/auth";class aJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lJ(t=u_()){const e=Ia(t,"auth");return e.isInitialized()?e.getImmediate():function U9(t,e){const n=Ia(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Sh(n.getOptions(),null!=e?e:{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:oJ,persistence:[rY,qQ,CN]})}!function cJ(t){Vn(new An("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{j(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),j(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cN(t)},u=new sQ(o,a);return function V9(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vn(new An("auth-internal",e=>{const n=$n(e.getProvider("auth").getImmediate());return new aJ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(GN,"0.19.9",function uJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),st(GN,"0.19.9","esm2017")}("Browser");class cf{constructor(e){return e}}class KN{constructor(){return jv("auth")}}const iI=new we("angularfire2.auth-instances");function hJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new cf(r)}}const fJ={provide:KN,deps:[[new ct,iI]]},pJ={provide:cf,useFactory:function dJ(t,e){const n=Vv("auth",t,e);return n&&new cf(n)},deps:[[new ct,iI],xa]};let gJ=(()=>{class t{constructor(){st("angularfire",Ph.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:[pJ,fJ]}),t})();function mJ(t,...e){return{ngModule:gJ,providers:[{provide:iI,useFactory:hJ(t),multi:!0,deps:[Je,Dt,Bv,$v,[new ct,sw],...e]}]}}const yJ=qs(lJ,!0),_J=qs(TY,!0);let vJ=(()=>{class t{constructor(n){this.auth=n,this.auth.onAuthStateChanged(r=>{r?""===localStorage.getItem("user")&&(localStorage.setItem("user",JSON.stringify(r)),window.location.reload()):localStorage.setItem("user","")})}login(){var n=this;return g(function*(){_J(n.auth,new TQ)})()}logout(){var n=this;return g(function*(){yield n.auth.signOut()})()}}return t.\u0275fac=function(n){return new(n||t)(Q(cf))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var W,wJ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oi={},sI=sI||{},ce=wJ||self;function lf(){}function oI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var aI="closure_uid_"+(1e9*Math.random()>>>0),IJ=0;function bJ(t,e,n){return t.call.apply(t.bind,arguments)}function TJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bJ:TJ).apply(null,arguments)}function df(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function os(){this.s=this.s,this.o=this.o}var CJ={};os.prototype.s=!1,os.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function EJ(t){return Object.prototype.hasOwnProperty.call(t,aI)&&t[aI]||(t[aI]=++IJ)}(this);delete CJ[t]}},os.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},YN=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function JN(t){return Array.prototype.concat.apply([],arguments)}function uI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hf(t){return/^[\s\xa0]*$/.test(t)}var Rn,XN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Mn(t,e){return-1!=t.indexOf(e)}function cI(t,e){return t<e?-1:t>e?1:0}e:{var ZN=ce.navigator;if(ZN){var eO=ZN.userAgent;if(eO){Rn=eO;break e}}Rn=""}function lI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tO(t){const e={};for(const n in t)e[n]=t[n];return e}var nO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<nO.length;s++)n=nO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dI(t){return dI[" "](t),t}dI[" "]=lf;var ff,t,xJ=Mn(Rn,"Opera"),Na=Mn(Rn,"Trident")||Mn(Rn,"MSIE"),iO=Mn(Rn,"Edge"),hI=iO||Na,sO=Mn(Rn,"Gecko")&&!(Mn(Rn.toLowerCase(),"webkit")&&!Mn(Rn,"Edge"))&&!(Mn(Rn,"Trident")||Mn(Rn,"MSIE"))&&!Mn(Rn,"Edge"),MJ=Mn(Rn.toLowerCase(),"webkit")&&!Mn(Rn,"Edge");function oO(){var t=ce.document;return t?t.documentMode:void 0}e:{var fI="",pI=(t=Rn,sO?/rv:([^\);]+)(\)|;)/.exec(t):iO?/Edge\/([\d\.]+)/.exec(t):Na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):MJ?/WebKit\/(\S+)/.exec(t):xJ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(pI&&(fI=pI?pI[1]:""),Na){var gI=oO();if(null!=gI&&gI>parseFloat(fI)){ff=String(gI);break e}}ff=fI}var RJ={};var NJ=ce.document&&Na&&(oO()||parseInt(ff,10))||void 0,OJ=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",lf,e),ce.removeEventListener("test",lf,e)}catch(n){}return t}();function mn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function zc(t,e){if(mn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sO){e:{try{dI(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:PJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zc.Z.h.call(this)}}mn.prototype.h=function(){this.defaultPrevented=!0},nn(zc,mn);var PJ={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wc="closure_listenable_"+(1e6*Math.random()|0),FJ=0;function LJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++FJ,this.ca=this.fa=!1}function pf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function gf(t){this.src=t,this.g={},this.h=0}function yI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=QN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function _I(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}gf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=_I(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new LJ(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var vI="closure_lm_"+(1e6*Math.random()|0),wI={};function uO(t,e,n,r,i){if(r&&r.once)return lO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uO(t,e[s],n,r,i);return null}return n=TI(n),t&&t[Wc]?t.N(e,n,Gc(r)?!!r.capture:!!r,i):cO(t,e,n,!1,r,i)}function cO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gc(i)?!!i.capture:!!i,a=II(t);if(a||(t[vI]=a=new gf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function UJ(){var e=VJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OJ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function lO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lO(t,e[s],n,r,i);return null}return n=TI(n),t&&t[Wc]?t.O(e,n,Gc(r)?!!r.capture:!!r,i):cO(t,e,n,!0,r,i)}function dO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dO(t,e[s],n,r,i);else r=Gc(r)?!!r.capture:!!r,n=TI(n),t&&t[Wc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=_I(s=t.g[e],n,r,i))&&(pf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=II(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_I(e,n,r,i)),(n=-1<t?e[t]:null)&&EI(n))}function EI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Wc])yI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=II(e))?(yI(n,t),0==n.h&&(n.src=null,e[vI]=null)):pf(t)}}}function hO(t){return t in wI?wI[t]:wI[t]="on"+t}function VJ(t,e){if(t.ca)t=!0;else{e=new zc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&EI(t),t=n.call(r,e)}return t}function II(t){return(t=t[vI])instanceof gf?t:null}var bI="__closure_events_fn_"+(1e9*Math.random()>>>0);function TI(t){return"function"==typeof t?t:(t[bI]||(t[bI]=function(e){return t.handleEvent(e)}),t[bI])}function jt(){os.call(this),this.i=new gf(this),this.P=this,this.I=null}function rn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new mn(e,t);else if(e instanceof mn)e.target=e.target||t;else{var i=e;rO(e=new mn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=mf(o,r,!0,e)&&i}if(i=mf(o=e.g=t,r,!0,e)&&i,i=mf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=mf(o=e.g=n[s],r,!1,e)&&i}function mf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&yI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}nn(jt,os),jt.prototype[Wc]=!0,jt.prototype.removeEventListener=function(t,e,n,r){dO(this,t,e,n,r)},jt.prototype.M=function(){if(jt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pf(n[r]);delete t.g[e],t.h--}}this.I=null},jt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var DI=ce.JSON.stringify;function jJ(){var t=pO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var SI,fO=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $J,t=>t.reset());class $J{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function HJ(t){ce.setTimeout(()=>{throw t},0)}function CI(t,e){SI||function qJ(){var t=ce.Promise.resolve(void 0);SI=function(){t.then(GJ)}}(),AI||(SI(),AI=!0),pO.add(t,e)}var AI=!1,pO=new class BJ{constructor(){this.h=this.g=null}add(e,n){const r=fO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function GJ(){for(var t;t=jJ();){try{t.h.call(t.g)}catch(n){HJ(n)}var e=fO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}AI=!1}function yf(t,e){jt.call(this),this.h=t||1,this.g=e||ce,this.j=tn(this.kb,this),this.l=Date.now()}function xI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function MI(t,e,n){if("function"==typeof t)n&&(t=tn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function gO(t){t.g=MI(()=>{t.g=null,t.i&&(t.i=!1,gO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}nn(yf,jt),(W=yf.prototype).da=!1,W.S=null,W.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rn(this,"tick"),this.da&&(xI(this),this.start()))}},W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.M=function(){yf.Z.M.call(this),xI(this),delete this.g};class zJ extends os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gO(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kc(t){os.call(this),this.h=t,this.g={}}nn(Kc,os);var mO=[];function yO(t,e,n,r){Array.isArray(n)||(n&&(mO[0]=n.toString()),n=mO);for(var i=0;i<n.length;i++){var s=uO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _O(t){lI(t.g,function(e,n){this.g.hasOwnProperty(n)&&EI(e)},t),t.g={}}function _f(){this.g=!0}function Oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function YJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return DI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Kc.prototype.M=function(){Kc.Z.M.call(this),_O(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_f.prototype.Aa=function(){this.g=!1},_f.prototype.info=function(){};var Ks={},vO=null;function vf(){return vO=vO||new jt}function wO(t){mn.call(this,Ks.Ma,t)}function Qc(t){const e=vf();rn(e,new wO(e,t))}function EO(t,e){mn.call(this,Ks.STAT_EVENT,t),this.stat=e}function kn(t){const e=vf();rn(e,new EO(e,t))}function IO(t,e){mn.call(this,Ks.Na,t),this.size=e}function Yc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}Ks.Ma="serverreachability",nn(wO,mn),Ks.STAT_EVENT="statevent",nn(EO,mn),Ks.Na="timingevent",nn(IO,mn);var wf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function RI(){}function DO(){}RI.prototype.h=null;var OI,Jc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kI(){mn.call(this,"d")}function NI(){mn.call(this,"c")}function Ef(){}function Xc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Kc(this),this.P=JJ,this.W=new yf(t=hI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new CO}function CO(){this.i=null,this.g="",this.h=!1}nn(kI,mn),nn(NI,mn),nn(Ef,RI),Ef.prototype.g=function(){return new XMLHttpRequest},Ef.prototype.i=function(){return{}},OI=new Ef;var JJ=45e3,PI={},If={};function FI(t,e,n){t.K=1,t.v=Sf(Pi(e)),t.s=n,t.U=!0,SO(t,null)}function SO(t,e){t.F=Date.now(),Zc(t),t.A=Pi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),FO(n.h,"t",r),t.C=0,n=t.l.H,t.h=new CO,t.g=sP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new zJ(tn(t.Ia,t,t.g),t.O)),yO(t.V,t.g,"readystatechange",t.gb),e=t.H?tO(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Qc(1),function WJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function AO(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function xO(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=XJ(t,n),i==If){4==e&&(t.o=4,kn(14),r=!1),Oa(t.j,t.m,null,"[Incomplete Response]");break}if(i==PI){t.o=4,kn(15),Oa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Oa(t.j,t.m,i,null),LI(t,i)}AO(t)&&i!=If&&i!=PI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,kn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),KI(e),e.L=!0,kn(11))):(Oa(t.j,t.m,n,"[Invalid Chunked Response]"),Qs(t),el(t))}function XJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?If:(n=Number(e.substring(n,r)),isNaN(n)?PI:(r+=1)+n>e.length?If:(e=e.substr(r,n),t.C=r+n,e))}function Zc(t){t.Y=Date.now()+t.P,MO(t,t.P)}function MO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Yc(tn(t.eb,t),e)}function bf(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}function el(t){0==t.l.G||t.I||tP(t.l,t)}function Qs(t){bf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,xI(t.W),_O(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function LI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||jI(n.i,t)))if(n.I=t.N,!t.J&&jI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Yc(tn(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Nf(n),Rf(n)}WI(n),kn(18)}if(1>=VO(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Xs(n,11)}else if((t.J||n.g==t)&&Nf(n),!hf(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Mn(p,"spdy")||Mn(p,"quic")||Mn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(BI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ke(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=iP(r,r.H?r.la:null,r.W),o.J){jO(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(bf(a),Zc(a)),r.g=o}else ZO(r);0<n.l.length&&kf(n)}else"stop"!=c[0]&&"close"!=c[0]||Xs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xs(n,7):GI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Qc(4)}catch(c){}}function UI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(oI(t)||"string"==typeof t)YN(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(oI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function ZJ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(oI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Pa(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pa)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function VI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ys(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ys(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ys(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(W=Xc.prototype).setTimeout=function(t){this.P=t},W.gb=function(t){t=t.target;const e=this.L;e&&3==Fi(t)?e.l():this.Ia(t)},W.Ia=function(t){try{if(t==this.g)e:{const l=Fi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||hI||this.g&&(this.h.h||this.g.ga()||KO(this.g)))){this.I||4!=l||7==e||Qc(8==e||0>=d?3:2),bf(this);var n=this.g.ba();this.N=n;t:if(AO(this)){var r=KO(this.g);t="";var i=r.length,s=4==Fi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qs(this),el(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function KJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,kn(12),Qs(this),el(this);break e}Oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,LI(this,n)}this.U?(xO(this,l,o),hI&&this.i&&3==l&&(yO(this.V,this.W,"tick",this.fb),this.W.start())):(Oa(this.j,this.m,o,null),LI(this,o)),4==l&&Qs(this),this.i&&!this.I&&(4==l?tP(this.l,this):(this.i=!1,Zc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),Qs(this),el(this)}}}catch(l){}},W.fb=function(){if(this.g){var t=Fi(this.g),e=this.g.ga();this.C<e.length&&(bf(this),xO(this,t,e),this.i&&4!=t&&Zc(this))}},W.cancel=function(){this.I=!0,Qs(this)},W.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function QJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qc(3),kn(17)),Qs(this),this.o=2,el(this)):MO(this,this.Y-t)},(W=Pa.prototype).R=function(){VI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},W.T=function(){return VI(this),this.g.concat()},W.get=function(t,e){return Ys(this.h,t)?this.h[t]:e},W.set=function(t,e){Ys(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},W.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var RO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Js(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Js){this.g=void 0!==e?e:t.g,Tf(this,t.j),this.s=t.s,Df(this,t.i),Cf(this,t.m),this.l=t.l,e=t.h;var n=new rl;n.i=e.i,e.g&&(n.g=new Pa(e.g),n.h=e.h),kO(this,n),this.o=t.o}else t&&(n=String(t).match(RO))?(this.g=!!e,Tf(this,n[1]||"",!0),this.s=tl(n[2]||""),Df(this,n[3]||"",!0),Cf(this,n[4]),this.l=tl(n[5]||"",!0),kO(this,n[6]||"",!0),this.o=tl(n[7]||"")):(this.g=!!e,this.h=new rl(null,this.g))}function Pi(t){return new Js(t)}function Tf(t,e,n){t.j=n?tl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Df(t,e,n){t.i=n?tl(e,!0):e}function Cf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kO(t,e,n){e instanceof rl?(t.h=e,function uX(t,e){e&&!t.j&&(as(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OO(this,r),FO(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=nl(e,oX)),t.h=new rl(e,t.g))}function Ke(t,e,n){t.h.set(e,n)}function Sf(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rX(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nl(e,NO,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nl(e,NO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(nl(n,"/"==n.charAt(0)?sX:iX,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nl(n,aX)),t.join("")};var NO=/[#\/\?@]/g,iX=/[#\?:]/g,sX=/[#\?]/g,oX=/[#\?@]/g,aX=/#/g;function rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function as(t){t.g||(t.g=new Pa,t.h=0,t.i&&function eX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function OO(t,e){as(t),e=Fa(t,e),Ys(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ys((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&VI(t)))}function PO(t,e){return as(t),e=Fa(t,e),Ys(t.g.h,e)}function FO(t,e,n){OO(t,e),0<n.length&&(t.i=null,t.g.set(Fa(t,e),uI(n)),t.h+=n.length)}function Fa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LO(t){this.l=t||lX,t=ce.PerformanceNavigationTiming?0<(t=ce.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=rl.prototype).add=function(t,e){as(this),this.i=null,t=Fa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},W.forEach=function(t,e){as(this),this.g.forEach(function(n,r){YN(n,function(i){t.call(e,i,r,this)},this)},this)},W.T=function(){as(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},W.R=function(t){as(this);var e=[];if("string"==typeof t)PO(this,t)&&(e=JN(e,this.g.get(Fa(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=JN(e,t[n])}return e},W.set=function(t,e){return as(this),this.i=null,PO(this,t=Fa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},W.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var lX=10;function UO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function VO(t){return t.h?1:t.g?t.g.size:0}function jI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function BI(t,e){t.g?t.g.add(e):t.h=e}function jO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function BO(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return uI(t.i)}function $I(){}function dX(){this.g=new $I}function hX(t,e,n){const r=n||"";try{UI(t,function(i,s){let o=i;Gc(i)&&(o=DI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Af(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function il(t){this.l=t.$b||null,this.j=t.ib||!1}function xf(t,e){jt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=HI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LO.prototype.cancel=function(){if(this.i=BO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},$I.prototype.stringify=function(t){return ce.JSON.stringify(t,void 0)},$I.prototype.parse=function(t){return ce.JSON.parse(t,void 0)},nn(il,RI),il.prototype.g=function(){return new xf(this.l,this.j)},il.prototype.i=function(t){return function(){return t}}({}),nn(xf,jt);var HI=0;function $O(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function sl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ol(t)}function ol(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(W=xf.prototype).open=function(t,e){if(this.readyState!=HI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ol(this)},W.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sl(this)),this.readyState=HI},W.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ce.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$O(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},W.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sl(this):ol(this),3==this.readyState&&$O(this)}},W.Ua=function(t){this.g&&(this.response=this.responseText=t,sl(this))},W.Ta=function(t){this.g&&(this.response=t,sl(this))},W.ha=function(){this.g&&sl(this)},W.setRequestHeader=function(t,e){this.v.append(t,e)},W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var pX=ce.JSON.parse;function yt(t){jt.call(this),this.headers=new Pa,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HO,this.K=this.L=!1}nn(yt,jt);var HO="",gX=/^https?$/i,mX=["POST","PUT"];function _X(t){return"content-type"==t.toLowerCase()}function qO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,GO(t),Mf(t)}function GO(t){t.D||(t.D=!0,rn(t,"complete"),rn(t,"error"))}function zO(t){if(t.h&&void 0!==sI&&(!t.C[1]||4!=Fi(t)||2!=t.ba()))if(t.v&&4==Fi(t))MI(t.Fa,0,t);else if(rn(t,"readystatechange"),4==Fi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(RO)[1]||null;if(!i&&ce.self&&ce.self.location){var s=ce.self.location.protocol;i=s.substr(0,s.length-1)}r=!gX.test(i?i.toLowerCase():"")}n=r}if(n)rn(t,"complete"),rn(t,"success");else{t.m=6;try{var o=2<Fi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",GO(t)}}finally{Mf(t)}}}function Mf(t,e){if(t.g){WO(t);const n=t.g,r=t.C[0]?lf:null;t.g=null,t.C=null,e||rn(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function WO(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}function Fi(t){return t.g?t.g.readyState:0}function KO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case HO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function qI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function vX(t){let e="";return lI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ke(t,e,n))}function al(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QO(t){this.za=0,this.l=[],this.h=new _f,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=al("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=al("baseRetryDelayMs",5e3,t),this.$a=al("retryDelaySeedMs",1e4,t),this.Ya=al("forwardChannelMaxRetries",2,t),this.ra=al("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new LO(t&&t.concurrentRequestLimit),this.Ca=new dX,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function GI(t){if(YO(t),3==t.G){var e=t.V++,n=Pi(t.F);Ke(n,"SID",t.J),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),ul(t,n),(e=new Xc(t,t.h,e,void 0)).K=2,e.v=Sf(Pi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(e.v.toString(),"")),!n&&ce.Image&&((new Image).src=e.v,n=!0),n||(e.g=sP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Zc(e)}rP(t)}function Rf(t){t.g&&(KI(t),t.g.cancel(),t.g=null)}function YO(t){Rf(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Nf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ce.clearTimeout(t.m),t.m=null)}function zI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&kf(t)}function kf(t){UO(t.i)||t.m||(t.m=!0,CI(t.Ha,t),t.C=0)}function JO(t,e){var n;n=e?e.m:t.V++;const r=Pi(t.F);Ke(r,"SID",t.J),Ke(r,"RID",n),Ke(r,"AID",t.U),ul(t,r),t.o&&t.s&&qI(r,t.o,t.s),n=new Xc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=XO(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),BI(t.i,n),FI(n,r,e)}function ul(t,e){t.j&&UI({},function(n,r){Ke(e,r,n)})}function XO(t,e,n){n=Math.min(t.l.length,n);var r=t.j?tn(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{hX(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function ZO(t){t.g||t.u||(t.Y=1,CI(t.Ga,t),t.A=0)}function WI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Yc(tn(t.Ga,t),nP(t,t.A)),t.A++,0))}function KI(t){null!=t.B&&(ce.clearTimeout(t.B),t.B=null)}function eP(t){t.g=new Xc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Pi(t.oa);Ke(e,"RID","rpc"),Ke(e,"SID",t.J),Ke(e,"CI",t.N?"0":"1"),Ke(e,"AID",t.U),ul(t,e),Ke(e,"TYPE","xmlhttp"),t.o&&t.s&&qI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Sf(Pi(e)),n.s=null,n.U=!0,SO(n,t)}function Nf(t){null!=t.v&&(ce.clearTimeout(t.v),t.v=null)}function tP(t,e){var n=null;if(t.g==e){Nf(t),KI(t),t.g=null;var r=2}else{if(!jI(t.i,e))return;n=e.D,jO(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;rn(r=vf(),new IO(r,n,e,i)),kf(t)}else ZO(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function wX(t,e){return!(VO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Yc(tn(t.Ha,t,e),nP(t,t.C)),t.C++,0)))}(t,e)||2==r&&WI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xs(t,5);break;case 4:Xs(t,10);break;case 3:Xs(t,6);break;default:Xs(t,2)}}function nP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Xs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=tn(t.jb,t);n||(n=new Js("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||Tf(n,"https"),Sf(n)),function fX(t,e){const n=new _f;if(ce.Image){const r=new Image;r.onload=df(Af,n,r,"TestLoadImage: loaded",!0,e),r.onerror=df(Af,n,r,"TestLoadImage: error",!1,e),r.onabort=df(Af,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=df(Af,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else kn(2);t.G=0,t.j&&t.j.va(e),rP(t),YO(t)}function rP(t){t.G=0,t.I=-1,t.j&&((0!=BO(t.i).length||0!=t.l.length)&&(t.i.i.length=0,uI(t.l),t.l.length=0),t.j.ua())}function iP(t,e,n){let r=function tX(t){return t instanceof Js?Pi(t):new Js(t,void 0)}(n);if(""!=r.i)e&&Df(r,e+"."+r.i),Cf(r,r.m);else{const i=ce.location;r=function nX(t,e,n,r){var i=new Js(null,void 0);return t&&Tf(i,t),e&&Df(i,e),n&&Cf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&lI(t.aa,function(i,s){Ke(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ke(r,e,n),Ke(r,"VER",t.ma),ul(t,r),r}function sP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yt(n&&t.Ba&&!t.qa?new il({ib:!0}):t.qa)).L=t.H,e}function oP(){}function Of(){if(Na&&!(10<=Number(NJ)))throw Error("Environmental error: no available transport.")}function ir(t,e){jt.call(this),this.g=new QO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!hf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new La(this)}function aP(t){kI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uP(){NI.call(this),this.status=1}function La(t){this.g=t}(W=yt.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OI.g(),this.C=function TO(t){return t.h||(t.h=t.i())}(this.u?this.u:OI),this.g.onreadystatechange=tn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void qO(this,s)}t=n||"";const i=new Pa(this.headers);r&&UI(r,function(s,o){i.set(o,s)}),r=function SJ(t){e:{var e=_X;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=ce.FormData&&t instanceof ce.FormData,!(0<=QN(mX,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{WO(this),0<this.B&&((this.K=function yX(t){return Na&&function kJ(){return function AJ(t){var e=RJ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=XN(String(ff)).split("."),n=XN("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=cI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||cI(0==i[2].length,0==s[2].length)||cI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.pa,this)):this.A=MI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qO(this,s)}},W.pa=function(){void 0!==sI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rn(this,"complete"),rn(this,"abort"),Mf(this))},W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mf(this,!0)),yt.Z.M.call(this)},W.Fa=function(){this.s||(this.F||this.v||this.l?zO(this):this.cb())},W.cb=function(){zO(this)},W.ba=function(){try{return 2<Fi(this)?this.g.status:-1}catch(t){return-1}},W.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},W.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pX(e)}},W.Da=function(){return this.m},W.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=QO.prototype).ma=8,W.G=1,W.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},W.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Xc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=tO(s),rO(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XO(this,i,e),Ke(n=Pi(this.F),"RID",t),Ke(n,"CVER",22),this.D&&Ke(n,"X-HTTP-Session-Id",this.D),ul(this,n),this.o&&s&&qI(n,this.o,s),BI(this.i,i),this.Ra&&Ke(n,"TYPE","init"),this.ja?(Ke(n,"$req",e),Ke(n,"SID","null"),i.$=!0,FI(i,n,null)):FI(i,n,e),this.G=2}}else 3==this.G&&(t?JO(this,t):0==this.l.length||UO(this.i)||JO(this))},W.Ga=function(){if(this.u=null,eP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Yc(tn(this.bb,this),t)}},W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),Rf(this),eP(this))},W.ab=function(){null!=this.v&&(this.v=null,Rf(this),WI(this),kn(19))},W.jb=function(t){t?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(W=oP.prototype).xa=function(){},W.wa=function(){},W.va=function(){},W.ua=function(){},W.Oa=function(){},Of.prototype.g=function(t,e){return new ir(t,e)},nn(ir,jt),ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),CI(tn(t.hb,t,e))),kn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=iP(t,null,t.W),kf(t)},ir.prototype.close=function(){GI(this.g)},ir.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,zI(this.g,e)}else this.v?((e={}).__data__=DI(t),zI(this.g,e)):zI(this.g,t)},ir.prototype.M=function(){this.g.j=null,delete this.j,GI(this.g),delete this.g,ir.Z.M.call(this)},nn(aP,kI),nn(uP,NI),nn(La,oP),La.prototype.xa=function(){rn(this.g,"a")},La.prototype.wa=function(t){rn(this.g,new aP(t))},La.prototype.va=function(t){rn(this.g,new uP(t))},La.prototype.ua=function(){rn(this.g,"b")},Of.prototype.createWebChannel=Of.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,wf.NO_ERROR=0,wf.TIMEOUT=8,wf.HTTP_ERROR=6,bO.COMPLETE="complete",DO.EventType=Jc,Jc.OPEN="a",Jc.CLOSE="b",Jc.ERROR="c",Jc.MESSAGE="d",jt.prototype.listen=jt.prototype.N,yt.prototype.listenOnce=yt.prototype.O,yt.prototype.getLastError=yt.prototype.La,yt.prototype.getLastErrorCode=yt.prototype.Da,yt.prototype.getStatus=yt.prototype.ba,yt.prototype.getResponseJson=yt.prototype.Qa,yt.prototype.getResponseText=yt.prototype.ga,yt.prototype.send=yt.prototype.ea;var EX=Oi.createWebChannelTransport=function(){return new Of},IX=Oi.getStatEventTarget=function(){return vf()},QI=Oi.ErrorCode=wf,bX=Oi.EventType=bO,TX=Oi.Event=Ks,cP=Oi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},DX=Oi.FetchXmlHttpFactory=il,Pf=Oi.WebChannel=DO,CX=Oi.XhrIo=yt;const lP="@firebase/firestore";class sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Ua="9.6.7";const us=new Ea("@firebase/firestore");function YI(){return us.logLevel}function N(t,...e){if(us.logLevel<=Re.DEBUG){const n=e.map(JI);us.debug(`Firestore (${Ua}): ${t}`,...n)}}function _t(t,...e){if(us.logLevel<=Re.ERROR){const n=e.map(JI);us.error(`Firestore (${Ua}): ${t}`,...n)}}function Ff(t,...e){if(us.logLevel<=Re.WARN){const n=e.map(JI);us.warn(`Firestore (${Ua}): ${t}`,...n)}}function JI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function X(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw _t(e),new Error(e)}function oe(t,e){t||X()}function B(t,e){return t}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class xX{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken),new dP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e),new sn(e)}}class MX{constructor(e,n,r){this.type="FirstParty",this.user=sn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class RX{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new MX(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kX{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe("string"==typeof n.token),this.p=n.token,new hP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class sr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function NX(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}sr.A=-1;class fP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=NX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class on{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new on(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new on(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function gP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class cl{constructor(e,n,r){void 0===n?n=0:n>e.length&&X(),void 0===r?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===cl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends cl{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const OX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends cl{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return OX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new k(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new k(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new k(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class ja{constructor(e){this.fields=e,e.sort(an.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const PX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(oe(!!t),"string"==typeof t){let e=0;const n=PX.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function eo(t){return"string"==typeof t?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function XI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yP(t){const e=t.mapValue.fields.__previous_value__;return XI(e)?yP(e):e}function ll(t){const e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}class FX{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ba{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}function to(t){return null==t}function dl(t){return 0===t&&1/t==-1/0}class G{constructor(e){this.path=e}static fromPath(e){return new G(Oe.fromString(e))}static fromName(e){return new G(Oe.fromString(e).popFirst(5))}static empty(){return new G(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Oe(e.slice()))}}const LX={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function no(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?XI(t)?4:10:X()}function Br(t,e){if(t===e)return!0;const n=no(t);if(n!==no(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=cs(r.timestampValue),o=cs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,eo(t.bytesValue).isEqual(eo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ot(r.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ot(r.integerValue)===ot(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ot(r.doubleValue),o=ot(i.doubleValue);return s===o?dl(s)===dl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gP(s)!==gP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Br(s[a],o[a])))return!1;return!0}(t,e);default:return X()}var i}function hl(t,e){return void 0!==(t.values||[]).find(n=>Br(n,e))}function $a(t,e){if(t===e)return 0;const n=no(t),r=no(e);if(n!==r)return xe(n,r);switch(n){case 0:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ot(i.integerValue||i.doubleValue),a=ot(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return vP(t.timestampValue,e.timestampValue);case 4:return vP(ll(t),ll(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=eo(i),a=eo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=xe(o[u],a[u]);if(0!==c)return c}return xe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=xe(ot(i.latitude),ot(s.latitude));return 0!==o?o:xe(ot(i.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=$a(o[u],a[u]);if(c)return c}return xe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=xe(a[l],c[l]);if(0!==d)return d;const h=$a(o[a[l]],u[c[l]]);if(0!==h)return h}return xe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function vP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xe(t,e);const n=cs(t),r=cs(e),i=xe(n.seconds,r.seconds);return 0!==i?i:xe(n.nanos,r.nanos)}function Ha(t){return ZI(t)}function ZI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=cs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?eo(t.bytesValue).toBase64():"referenceValue"in t?G.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ZI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ZI(r.fields[a])}`;return s+"}"}(t.mapValue):X();var e}function eb(t){return!!t&&"integerValue"in t}function Uf(t){return!!t&&"arrayValue"in t}function wP(t){return!!t&&"nullValue"in t}function EP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=an.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yn(fl(this.value))}}function IP(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new an([n]);if(Vf(r)){const s=IP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ja(e)}class Ze{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ze(e,0,re.min(),re.min(),yn.empty(),0)}static newFoundDocument(e,n,r){return new Ze(e,1,n,re.min(),r,0)}static newNoDocument(e,n){return new Ze(e,2,n,re.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ze(e,3,n,re.min(),yn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class UX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function bP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UX(t,e,n,r,i,s,o)}function gl(t){const e=B(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ha(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),to(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ha(r)).join(",")),e.P=n}return e.P}function $f(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!WX(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Br(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CP(t.startAt,e.startAt)&&CP(t.endAt,e.endAt)}function Hf(t){return G.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Nn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.v(e,n,r):new jX(e,n,r):"array-contains"===n?new HX(e,r):"in"===n?new qX(e,r):"not-in"===n?new GX(e,r):"array-contains-any"===n?new zX(e,r):new Nn(e,n,r)}static v(e,n,r){return"in"===n?new BX(e,r):new $X(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.V($a(n,this.value)):null!==n&&no(this.value)===no(n)&&this.V($a(n,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return X()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jX extends Nn{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.V(n)}}class BX extends Nn{constructor(e,n){super(e,"in",n),this.keys=TP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $X extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=TP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class HX extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uf(n)&&hl(n.arrayValue,this.value)}}class qX extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&hl(this.value.arrayValue,n)}}class GX extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!hl(this.value.arrayValue,n)}}class zX extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hl(this.value.arrayValue,r))}}class qa{constructor(e,n){this.position=e,this.inclusive=n}}class Ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function WX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function DP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?G.comparator(G.fromName(o.referenceValue),n.key):$a(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function CP(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}class Li{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function za(t){return new Li(t)}function qf(t){return!to(t.limit)&&"F"===t.limitType}function Gf(t){return!to(t.limit)&&"L"===t.limitType}function Wa(t){const e=B(t);if(null===e.D){e.D=[];const n=function rb(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function nb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new Ga(n)),e.D.push(new Ga(an.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ga(an.keyField(),s))}}}return e.D}function Ir(t){const e=B(t);if(!e.C)if("F"===e.limitType)e.C=bP(e.path,e.collectionGroup,Wa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Wa(e))n.push(new Ga(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new qa(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new qa(e.startAt.position,!e.startAt.inclusive):null;e.C=bP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function ml(t,e){return $f(Ir(t),Ir(e))&&t.limitType===e.limitType}function xP(t){return`${gl(Ir(t))}|lt:${t.limitType}`}function sb(t){return`Query(target=${function VX(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ha(r.value)}`;var r}).join(", ")}]`),to(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ha(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ha(n)).join(",")),`Target(${e})`}(Ir(t))}; limitType=${t.limitType})`}function ob(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):G.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=DP(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Wa(n),r)||n.endAt&&!function(i,s,o){const a=DP(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Wa(n),r)));var n,r}function MP(t){return(e,n)=>{let r=!1;for(const i of Wa(t)){const s=KX(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function KX(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?$a(a,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}function RP(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function kP(t){return{integerValue:""+t}}function NP(t,e){return function _P(t){return"number"==typeof t&&Number.isInteger(t)&&!dl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?kP(e):RP(t,e)}class zf{constructor(){this._=void 0}}function QX(t,e,n){return t instanceof Ka?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ro?PP(t,e):t instanceof io?FP(t,e):function(r,i){const s=OP(r,i),o=LP(s)+LP(r.k);return eb(s)&&eb(r.k)?kP(o):RP(r.O,o)}(t,e)}function YX(t,e,n){return t instanceof ro?PP(t,e):t instanceof io?FP(t,e):n}function OP(t,e){return t instanceof Qa?eb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ka extends zf{}class ro extends zf{constructor(e){super(),this.elements=e}}function PP(t,e){const n=UP(e);for(const r of t.elements)n.some(i=>Br(i,r))||n.push(r);return{arrayValue:{values:n}}}class io extends zf{constructor(e){super(),this.elements=e}}function FP(t,e){let n=UP(e);for(const r of t.elements)n=n.filter(i=>!Br(i,r));return{arrayValue:{values:n}}}class Qa extends zf{constructor(e,n){super(),this.O=e,this.k=n}}function LP(t){return ot(t.integerValue||t.doubleValue)}function UP(t){return Uf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class XX{constructor(e,n){this.version=e,this.transformResults=n}}class vt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vt}static exists(e){return new vt(void 0,e)}static updateTime(e){return new vt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Kf{}function ZX(t,e,n){t instanceof _l?function(r,i,s){const o=r.value.clone(),a=$P(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof so?function(r,i,s){if(!Wf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=$P(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(BP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ab(t,e,n){var i;t instanceof _l?function(r,i,s){if(!Wf(r.precondition,i))return;const o=r.value.clone(),a=HP(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(jP(i),o).setHasLocalMutations()}(t,e,n):t instanceof so?function(r,i,s){if(!Wf(r.precondition,i))return;const o=HP(r.fieldTransforms,s,i),a=i.data;a.setAll(BP(r)),a.setAll(o),i.convertToFoundDocument(jP(i),a).setHasLocalMutations()}(t,e,n):Wf(t.precondition,i=e)&&i.convertToNoDocument(re.min())}function eZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OP(r.transform,i||null);null!=s&&(null==n&&(n=yn.empty()),n.set(r.field,s))}return n||null}function VP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Va(n,r,(i,s)=>function JX(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ro&&r instanceof ro||n instanceof io&&r instanceof io?Va(n.elements,r.elements,Br):n instanceof Qa&&r instanceof Qa?Br(n.k,r.k):n instanceof Ka&&r instanceof Ka);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function jP(t){return t.isFoundDocument()?t.version:re.min()}class _l extends Kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class so extends Kf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function BP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $P(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,YX(o,a,n[i]))}return r}function HP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QX(s,o,e))}return r}class vl extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class ub extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class tZ{constructor(e){this.count=e}}var wt,ke;function qP(t){switch(t){default:return X();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function GP(t){if(void 0===t)return _t("GRPC error has no .code"),b.UNKNOWN;switch(t){case wt.OK:return b.OK;case wt.CANCELLED:return b.CANCELLED;case wt.UNKNOWN:return b.UNKNOWN;case wt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case wt.INTERNAL:return b.INTERNAL;case wt.UNAVAILABLE:return b.UNAVAILABLE;case wt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case wt.NOT_FOUND:return b.NOT_FOUND;case wt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case wt.ABORTED:return b.ABORTED;case wt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case wt.DATA_LOSS:return b.DATA_LOSS;default:return X()}}(ke=wt||(wt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";class dt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qf(this.root,e,this.comparator,!0)}}class Qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:un.RED,this.left=null!=i?i:un.EMPTY,this.right=null!=s?s:un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1,un.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(t,e,n,r,i){return this}insert(t,e,n){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zP(this.data.getIterator())}getIteratorFrom(e){return new zP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class zP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const nZ=new dt(G.comparator);function br(){return nZ}const rZ=new dt(G.comparator);function cb(){return rZ}const iZ=new dt(G.comparator),sZ=new Qe(G.comparator);function Ue(...t){let e=sZ;for(const n of t)e=e.add(n);return e}const oZ=new Qe(xe);function Yf(){return oZ}class wl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,n)),new wl(re.min(),r,Yf(),br(),Ue())}}class El{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new El(Mt.EMPTY_BYTE_STRING,n,Ue(),Ue(),Ue())}}class Jf{constructor(e,n,r,i){this.M=e,this.removedTargetIds=n,this.key=r,this.$=i}}class WP{constructor(e,n){this.targetId=e,this.F=n}}class KP{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QP{constructor(){this.B=0,this.L=JP(),this.U=Mt.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Ue(),n=Ue(),r=Ue();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new El(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=JP()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class aZ{constructor(e){this.nt=e,this.st=new Map,this.it=br(),this.rt=YP(),this.ot=new Qe(xe)}ct(e){for(const n of e.M)e.$&&e.$.isFoundDocument()?this.ut(n,e.$):this.at(n,e.key,e.$);for(const n of e.removedTargetIds)this.at(n,e.key,e.$)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.F.count,i=this.wt(n);if(i){const s=i.target;if(Hf(s))if(0===r){const o=new G(s.path);this.at(n,o,Ze.newNoDocument(o,re.min()))}else oe(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Hf(a.target)){const u=new G(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.at(o,u,Ze.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=Ue();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new wl(e,n,this.ot,this.it,r);return this.it=br(),this.rt=YP(),this.ot=new Qe(xe),i}ut(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Et(n.key).add(e))}at(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Et(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new QP,this.st.set(e,n)),n}Et(e){let n=this.rt.get(e);return n||(n=new Qe(xe),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||N("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new QP),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function YP(){return new dt(G.comparator)}function JP(){return new dt(G.comparator)}const uZ={asc:"ASCENDING",desc:"DESCENDING"},cZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lZ{constructor(e,n){this.databaseId=e,this.N=n}}function Il(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XP(t,e){return t.N?e.toBase64():e.toUint8Array()}function dZ(t,e){return Il(t,e.toTimestamp())}function $t(t){return oe(!!t),re.fromTimestamp(function(e){const n=cs(e);return new on(n.seconds,n.nanos)}(t))}function lb(t,e){return(n=t,new Oe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function ZP(t){const e=Oe.fromString(t);return oe(uF(e)),e}function bl(t,e){return lb(t.databaseId,e.path)}function si(t,e){const n=ZP(e);if(n.get(1)!==t.databaseId.projectId)throw new k(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(tF(n))}function db(t,e){return lb(t.databaseId,e)}function Tl(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tF(t){return oe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function nF(t,e,n){return{name:bl(t,e),fields:n.value.mapValue.fields}}function iF(t,e){return{documents:[db(t,e.path)]}}function sF(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=db(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=db(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(EP(d.value))return{unaryFilter:{field:Ja(d.field),op:"IS_NAN"}};if(wP(d.value))return{unaryFilter:{field:Ja(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(EP(d.value))return{unaryFilter:{field:Ja(d.field),op:"IS_NOT_NAN"}};if(wP(d.value))return{unaryFilter:{field:Ja(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(d.field),op:yZ(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ja((l=c).field),direction:mZ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||to(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function oF(t){let e=function eF(t){const e=ZP(t);return 4===e.length?Oe.emptyPath():tF(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=aF(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ga(Xa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,to(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new qa((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new qa(l.values||[],!l.before)}(n.endAt)),function SP(t,e,n,r,i,s,o,a){return new Li(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function aF(t){return t?void 0!==t.unaryFilter?[vZ(t)]:void 0!==t.fieldFilter?[_Z(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>aF(e)).reduce((e,n)=>e.concat(n)):X():[]}function mZ(t){return uZ[t]}function yZ(t){return cZ[t]}function Ja(t){return{fieldPath:t.canonicalString()}}function Xa(t){return an.fromServerFormat(t.fieldPath)}function _Z(t){return Nn.create(Xa(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}function vZ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Xa(t.unaryFilter.field);return Nn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Xa(t.unaryFilter.field);return Nn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xa(t.unaryFilter.field);return Nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xa(t.unaryFilter.field);return Nn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return X()}}function wZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ht(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cF(e)),e=EZ(t.get(n),e);return cF(e)}function EZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function cF(t){return t+"\x01\x01"}class or{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}or.store="owner",or.key="owner";class ls{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}ls.store="mutationQueues",ls.keyPath="userId";class ze{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];class _n{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Ht(n)]}static key(e,n,r){return[e,Ht(n),r]}}_n.store="documentMutations",_n.PLACEHOLDER=new _n;class at{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}at.store="remoteDocuments",at.readTimeIndex="readTimeIndex",at.readTimeIndexPath="readTime",at.collectionReadTimeIndex="collectionReadTimeIndex",at.collectionReadTimeIndexPath=["parentPath","readTime"];class ai{constructor(e){this.byteSize=e}}ai.store="remoteDocumentGlobal",ai.key="remoteDocumentGlobalKey";class Hn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Hn.store="targets",Hn.keyPath="targetId",Hn.queryTargetsIndexName="queryTargetsIndex",Hn.queryTargetsKeyPath=["canonicalId","targetId"];class cn{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}cn.store="targetDocuments",cn.keyPath=["targetId","path"],cn.documentTargetsIndex="documentTargetsIndex",cn.documentTargetsKeyPath=["path","targetId"];class ar{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}ar.key="targetGlobalKey",ar.store="targetGlobal";class oo{constructor(e,n){this.collectionId=e,this.parent=n}}oo.store="collectionParents",oo.keyPath=["collectionId","parent"];class Ui{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}Ui.store="clientMetadata",Ui.keyPath="clientId";class Za{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Za.store="bundles",Za.keyPath="bundleId";class eu{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}eu.store="namedQueries",eu.keyPath="name";class ur{constructor(e,n,r){this.indexId=e,this.collectionGroup=n,this.fields=r}}ur.store="indexConfiguration",ur.keyPath="indexId",ur.collectionGroupIndex="collectionGroupIndex",ur.collectionGroupIndexPath="collectionGroup";class Tr{constructor(e,n,r,i,s,o){this.indexId=e,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=s,this.largestBatchId=o}}Tr.store="indexState",Tr.keyPath=["indexId","uid"],Tr.sequenceNumberIndex="sequenceNumberIndex",Tr.sequenceNumberIndexPath=["uid","sequenceNumber"];class Dr{constructor(e,n,r,i,s){this.indexId=e,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=s}}Dr.store="indexEntries",Dr.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Dr.documentKeyIndex="documentKeyIndex",Dr.documentKeyIndexPath=["indexId","uid","documentKey"];class qt{constructor(e,n,r,i,s,o){this.userId=e,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=s,this.overlayMutation=o}}qt.store="documentOverlays",qt.keyPath=["userId","collectionPath","documentId"],qt.collectionPathOverlayIndex="collectionPathOverlayIndex",qt.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],qt.collectionGroupOverlayIndex="collectionGroupOverlayIndex",qt.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const hF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function ao(t){return"IndexedDbTransactionError"===t.name}class pb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZX(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&ab(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&ab(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(re.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>VP(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>VP(n,r))}}class gb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=iZ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gb(e,n,r,i)}}class mb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ds{constructor(e,n,r,i,s=re.min(),o=re.min(),a=Mt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gF{constructor(e){this.Ht=e}}function vb(t){const e=oF({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function AP(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Zf{constructor(){}Xt(e,n){this.Zt(e,n),n.te()}Zt(e,n){if("nullValue"in e)this.ee(n,5);else if("booleanValue"in e)this.ee(n,10),n.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(n,15),n.ne(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.ee(n,13):(this.ee(n,15),dl(r)?n.ne(0):n.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(n,20),"string"==typeof r?n.se(r):(n.se(`${r.seconds||""}`),n.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,n),this.re(n);else if("bytesValue"in e)this.ee(n,30),n.oe(eo(e.bytesValue)),this.re(n);else if("referenceValue"in e)this.ce(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(n,45),n.ne(r.latitude||0),n.ne(r.longitude||0)}else"mapValue"in e?Br(e,LX)?this.ee(n,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,n),this.re(n)):"arrayValue"in e?(this.ae(e.arrayValue,n),this.re(n)):X()}ie(e,n){this.ee(n,25),this.he(e,n)}he(e,n){n.se(e)}ue(e,n){const r=e.fields||{};this.ee(n,55);for(const i of Object.keys(r))this.ie(i,n),this.Zt(r[i],n)}ae(e,n){const r=e.values||[];this.ee(n,50);for(const i of r)this.Zt(i,n)}ce(e,n){this.ee(n,37),G.fromName(e).path.forEach(r=>{this.ee(n,60),this.he(r,n)})}ee(e,n){e.ne(n)}re(e){e.ne(2)}}Zf.le=new Zf;class OZ{constructor(){this.xe=new Tb}addToCollectionParentIndex(e,n){return this.xe.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.xe.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n,r){return T.resolve(Ue())}getFieldIndex(e,n){return T.resolve(null)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class Tb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Oe.comparator)).toArray()}}class qn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class ho{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new ho(0)}static Je(){return new ho(-1)}}function fo(t){return Cb.apply(this,arguments)}function Cb(){return Cb=g(function*(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==hF)throw t;N("LocalStore","Unexpectedly lost primary lease")}),Cb.apply(this,arguments)}class iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mP(this.inner)}}class zZ{constructor(e,n,r){this.qn=e,this.gs=n,this.indexManager=r}ys(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.ps(e,n,r))}ps(e,n,r){return this.qn.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Is(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Es(e,n){return this.qn.getEntries(e,n).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,n){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Is(n,r))}As(e,n,r){return G.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Rs(e,n.path):function ib(t){return null!==t.collectionGroup}(n)?this.Ps(e,n,r):this.bs(e,n,r);var i}Rs(e,n){return this.ys(e,new G(n)).next(r=>{let i=cb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,n,r){const i=n.collectionGroup;let s=cb();return this.indexManager.getCollectionParents(e,i).next(o=>T.forEach(o,a=>{const u=(c=n,l=a.child(i),new Li(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.bs(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}bs(e,n,r){let i;return this.qn.getAll(e,n.path,r).next(s=>(i=s,this.gs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=Ze.newInvalidDocument(u),i=i.insert(u,c)),ab(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{ob(n,o)||(i=i.remove(s))}),i))}}class Mb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.vs=r,this.Vs=i}static Ss(e,n){let r=Ue(),i=Ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Mb(e,n.fromCache,r,i)}}class OF{Ds(e){this.Cs=e}As(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(re.min())?this.Ns(e,n):this.Cs.Es(e,i).next(s=>{const o=this.xs(n,s);return(qf(n)||Gf(n))&&this.ks(n.limitType,o,i,r)?this.Ns(e,n):(YI()<=Re.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sb(n)),this.Cs.As(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}xs(e,n){let r=new Qe(MP(e));return n.forEach((i,s)=>{ob(e,s)&&(r=r.add(s))}),r}ks(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ns(e,n){return YI()<=Re.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",sb(n)),this.Cs.As(e,n,re.min())}}class WZ{constructor(e,n,r,i){this.persistence=e,this.Os=n,this.O=i,this.Ms=new dt(xe),this.$s=new iu(s=>gl(s),$f),this.Fs=re.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new zZ(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function FF(t,e){return Rb.apply(this,arguments)}function Rb(){return Rb=g(function*(t,e){const n=B(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.gs.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.gs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.Us.Es(r,u).next(c=>({qs:c,removedBatchIds:o,addedBatchIds:a}))})})}),Rb.apply(this,arguments)}function KZ(t,e){const n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=T.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);oe(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.gs.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.gs.performConsistencyCheck(r)).next(()=>n.Us.Es(r,i))})}function LF(t){const e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Un.getLastRemoteSnapshotVersion(n))}function QZ(t,e){const n=B(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.Un.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.Un.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(Mt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Un.updateTargetData(s,h))});let u=br();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function UF(t,e,n){let r=Ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=br();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(re.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):N("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(re.min())){const c=n.Un.getLastRemoteSnapshotVersion(s).next(l=>n.Un.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.Us.Ts(s,u)).next(()=>u)}).then(s=>(n.Ms=i,s))}function YZ(t,e){const n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.gs.getNextMutationBatchAfterBatchId(r,e)))}function su(t,e){const n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Un.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.Un.allocateTargetId(r).next(o=>(i=new ds(e,o,0,r.currentSequenceNumber),n.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.$s.set(e,r.targetId)),r})}function ou(t,e,n){return kb.apply(this,arguments)}function kb(){return kb=g(function*(t,e,n){const r=B(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ao(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}),kb.apply(this,arguments)}function ap(t,e,n){const r=B(t);let i=re.min(),s=Ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=B(a),d=l.$s.get(c);return void 0!==d?T.resolve(l.Ms.get(d)):l.Un.getTargetData(u,c)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Os.As(o,e,n?i:re.min(),n?s:Ue())).next(a=>({documents:a,Ks:s})))}class eee{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,n){return T.resolve(this.Ws.get(n))}saveBundleMetadata(e,n){var r;return this.Ws.set(n.id,{id:(r=n).id,version:r.version,createTime:$t(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.zs.get(n))}saveNamedQuery(e,n){return this.zs.set(n.name,{name:(r=n).name,query:vb(r.bundledQuery),readTime:$t(r.readTime)}),T.resolve();var r}}class tee{constructor(){this.overlays=new dt(G.comparator),this.Hs=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach(i=>{this.Yt(e,n,i)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Hs.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Hs.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=new Map,s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dt((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=new Map,s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=new Map,u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(l,c)),!(a.size>=i)););return T.resolve(a)}Yt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);null!==i&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new mb(n,r));let s=this.Hs.get(n);void 0===s&&(s=new Set,this.Hs.set(n,s)),s.add(r.key)}}class Fb{constructor(){this.Js=new Qe(zt.Ys),this.Xs=new Qe(zt.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ei(new zt(e,n))}ni(e,n){e.forEach(r=>this.removeReference(r,n))}si(e){const n=new G(new Oe([])),r=new zt(n,e),i=new zt(n,e+1),s=[];return this.Xs.forEachInRange([r,i],o=>{this.ei(o),s.push(o.key)}),s}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const n=new G(new Oe([])),r=new zt(n,e),i=new zt(n,e+1);let s=Ue();return this.Xs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new zt(e,0),r=this.Js.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.oi=n}static Ys(e,n){return G.comparator(e.key,n.key)||xe(e.oi,n.oi)}static Zs(e,n){return xe(e.oi,n.oi)||G.comparator(e.key,n.key)}}class nee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Qe(zt.Ys)}checkEmpty(e){return T.resolve(0===this.gs.length)}addMutationBatch(e,n,r,i){const s=this.ci;this.ci++;const o=new pb(s,n,r,i);this.gs.push(o);for(const a of i)this.ui=this.ui.add(new zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.ai(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.hi(n+1),s=i<0?0:i;return T.resolve(this.gs.length>s?this.gs[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return T.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),s=[];return this.ui.forEachInRange([r,i],o=>{const a=this.ai(o.oi);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(xe);return n.forEach(i=>{const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([s,o],a=>{r=r.add(a.oi)})}),T.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new zt(new G(s),0);let a=new Qe(xe);return this.ui.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.oi)),!0)},o),T.resolve(this.li(a))}li(e){const n=[];return e.forEach(r=>{const i=this.ai(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){oe(0===this.fi(n.batchId,"removed")),this.gs.shift();let r=this.ui;return T.forEach(n.mutations,i=>{const s=new zt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,n){const r=new zt(n,0),i=this.ui.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return T.resolve()}fi(e,n){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const n=this.hi(e);return n<0||n>=this.gs.length?null:this.gs[n]}}class ree{constructor(e){this.di=e,this.docs=new dt(G.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.di(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ze.newInvalidDocument(i))}),T.resolve(r)}getAll(e,n,r){let i=br();const s=new G(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||u.readTime.compareTo(r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return T.resolve(i)}_i(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iee(this)}getSize(e){return T.resolve(this.size)}}class iee extends class BZ{constructor(){this.changes=new iu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Tn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.Tn.getEntry(e,n)}getAllFromCache(e,n){return this.Tn.getEntries(e,n)}}class see{constructor(e){this.persistence=e,this.wi=new iu(n=>gl(n),$f),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.mi=0,this.gi=new Fb,this.targetCount=0,this.yi=ho.He()}forEachTarget(e,n){return this.wi.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.mi&&(this.mi=n),T.resolve()}Ze(e){this.wi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.yi=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,n){return this.Ze(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Ze(n),T.resolve()}removeTargetData(e,n){return this.wi.delete(n.target),this.gi.si(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.wi.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.wi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.wi.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.gi.ti(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.gi.ni(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.gi.si(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.gi.ri(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.gi.containsKey(n))}}class oee{constructor(e,n){this.pi={},this.overlays={},this.Nn=new sr(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new see(this),this.indexManager=new OZ,this.qn=new ree(r=>this.referenceDelegate.Ii(r)),this.O=new gF(n),this.Kn=new eee(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.pi[e.toKey()];return r||(r=new nee(n,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new aee(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.Ti(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return T.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,n)))}}class aee extends class CZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Lb{constructor(e){this.persistence=e,this.Ri=new Fb,this.Pi=null}static bi(e){return new Lb(e)}get vi(){if(this.Pi)return this.Pi;throw X()}addReference(e,n,r){return this.Ri.addReference(r,n),this.vi.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.vi.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.vi.add(n.toString()),T.resolve()}removeTarget(e,n){this.Ri.si(n.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.vi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Pi=new Set}Ti(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.vi,r=>{const i=G.fromPath(r);return this.Vi(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Pi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Vi(e,n).next(r=>{r?this.vi.delete(n.toString()):this.vi.add(n.toString())})}Ii(e){return 0}Vi(e,n){return T.or([()=>T.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jb{constructor(){this.activeTargetIds=Yf()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HF{constructor(){this._r=new jb,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,n,r){this.wr[e]=n}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new jb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class uee{mr(e){}shutdown(){}}class qF{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class lee{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class dee extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,n,r,i,s){const o=this.$r(e,n);N("RestConnection","Sending: ",o,r);const a={};return this.Fr(a,i,s),this.Br(e,o,a,r).then(u=>(N("RestConnection","Received: ",u),u),u=>{throw Ff("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}Lr(e,n,r,i,s){return this.Mr(e,n,r,i,s)}Fr(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ua,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$r(e,n){return`${this.kr}/v1/${n}:${cee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,n,r,i){return new Promise((s,o)=>{const a=new CX;a.listenOnce(bX.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case QI.NO_ERROR:const c=a.getResponseJson();N("Connection","XHR received:",JSON.stringify(c)),s(c);break;case QI.TIMEOUT:N("Connection",'RPC "'+e+'" timed out'),o(new k(b.DEADLINE_EXCEEDED,"Request time out"));break;case QI.HTTP_ERROR:const l=a.getStatus();if(N("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(p)>=0?p:b.UNKNOWN}(d.status);o(new k(h,d.message))}else o(new k(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new k(b.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{N("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Ur(e,n,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=EX(),o=IX(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new DX({})),this.Fr(a.initMessageHeaders,n,r),hk()||fk()||function Q8(){return Lt().indexOf("Electron/")>=0}()||pk()||function Y8(){return Lt().indexOf("MSAppHost/")>=0}()||Th()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");N("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new lee({Ar:p=>{d?N("Connection","Not sending because WebChannel is closed:",p):(l||(N("Connection","Opening WebChannel transport."),c.open(),l=!0),N("Connection","WebChannel sending:",p),c.send(p))},Rr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,I=>{try{_(I)}catch(v){setTimeout(()=>{throw v},0)}})};return f(c,Pf.EventType.OPEN,()=>{d||N("Connection","WebChannel transport opened.")}),f(c,Pf.EventType.CLOSE,()=>{d||(d=!0,N("Connection","WebChannel transport closed"),h.Cr())}),f(c,Pf.EventType.ERROR,p=>{d||(d=!0,Ff("Connection","WebChannel transport errored:",p),h.Cr(new k(b.UNAVAILABLE,"The operation could not be completed")))}),f(c,Pf.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];oe(!!_);const I=_,v=I.error||(null===(m=I[0])||void 0===m?void 0:m.error);if(v){N("Connection","WebChannel received error:",v);const U=v.status;let Y=function(kt){const cr=wt[kt];if(void 0!==cr)return GP(cr)}(U),pe=v.message;void 0===Y&&(Y=b.INTERNAL,pe="Unknown error status: "+U+" with message "+v.message),d=!0,h.Cr(new k(Y,pe)),c.close()}else N("Connection","WebChannel received:",_),h.Nr(_)}}),f(o,TX.STAT_EVENT,p=>{p.stat===cP.PROXY?N("Connection","Detected buffering proxy"):p.stat===cP.NOPROXY&&N("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Dr()},0),h}}function lp(){return"undefined"!=typeof document?document:null}function Rl(t){return new lZ(t,!0)}class $b{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Sn=e,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=s,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class zF{constructor(e,n,r,i,s,o,a,u){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new $b(e,n)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return g(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return g(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,n){var r=this;return g(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(_t(n.toString()),_t("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):n&&n.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(n)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===n&&this.po(r,i)},r=>{e(()=>{const i=new k(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,n){const r=this.yo(this.no);this.stream=this.Eo(e,n),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){var e=this;this.state=5,this.ro.Hr(g(function*(){e.state=0,e.start()}))}Io(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return n=>{this.Sn.enqueueAndForget(()=>this.no===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hee extends zF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.O=s}Eo(e,n){return this.eo.Ur("Listen",e,n)}onMessage(e){this.ro.reset();const n=function fZ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:X(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(oe(void 0===c||"string"==typeof c),Mt.fromBase64String(c||"")):(oe(void 0===c||c instanceof Uint8Array),Mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?b.UNKNOWN:GP(u.code);return new k(c,u.message||"")}(o);n=new KP(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=si(t,r.document.name),s=$t(r.document.updateTime),o=new yn({mapValue:{fields:r.document.fields}}),a=Ze.newFoundDocument(i,s,o);n=new Jf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=si(t,r.document),s=r.readTime?$t(r.readTime):re.min(),o=Ze.newNoDocument(i,s);n=new Jf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=si(t,r.document);n=new Jf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return X();{const r=e.filter,s=new tZ(r.count||0);n=new WP(r.targetId,s)}}var u;return n}(this.O,e),r=function(i){if(!("targetChange"in i))return re.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?$t(s.readTime):re.min()}(e);return this.listener.To(n,r)}Ao(e){const n={};n.database=Tl(this.O),n.addTarget=function(i,s){let o;const a=s.target;return o=Hf(a)?{documents:iF(i,a)}:{query:sF(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=XP(i,s.resumeToken):s.snapshotVersion.compareTo(re.min())>0&&(o.readTime=Il(i,s.snapshotVersion.toTimestamp())),o}(this.O,e);const r=function gZ(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return X()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.fo(n)}Ro(e){const n={};n.database=Tl(this.O),n.removeTarget=e,this.fo(n)}}class fee extends zF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.O=s,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,n){return this.eo.Ur("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const n=function pZ(t,e){return t&&t.length>0?(oe(void 0!==e),t.map(n=>function(r,i){let s=$t(r.updateTime?r.updateTime:i);return s.isEqual(re.min())&&(s=$t(i)),new XX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=$t(e.commitTime);return this.listener.Vo(r,n)}return oe(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Tl(this.O),this.fo(e)}vo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Dl(t,e){let n;if(e instanceof _l)n={update:nF(t,e.key,e.value)};else if(e instanceof vl)n={delete:bl(t,e.key)};else if(e instanceof so)n={update:nF(t,e.key,e.data),updateMask:wZ(e.fieldMask)};else{if(!(e instanceof ub))return X();n={verify:bl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ka)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Qa)return{fieldPath:s.field.canonicalString(),increment:o.k};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:dZ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:X()),n;var i}(this.O,r))};this.fo(n)}}class pee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new k(b.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Mr(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(b.UNKNOWN,i.toString())})}Lr(e,n,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Lr(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(b.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class gee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(_t(n),this.Oo=!1):N("OnlineStateTracker",n)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class mee{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=s,this.jo.mr(a=>{r.enqueueAndForget(g(function*(){var u;gs(o)&&(N("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=B(c);l.Ko.add(4),yield au(l),l.Qo.set("Unknown"),l.Ko.delete(4),yield kl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Qo=new gee(r,i)}}function kl(t){return Hb.apply(this,arguments)}function Hb(){return Hb=g(function*(t){if(gs(t))for(const e of t.Go)yield e(!0)}),Hb.apply(this,arguments)}function au(t){return qb.apply(this,arguments)}function qb(){return qb=g(function*(t){for(const e of t.Go)yield e(!1)}),qb.apply(this,arguments)}function dp(t,e){const n=B(t);n.qo.has(e.targetId)||(n.qo.set(e.targetId,e),Wb(n)?zb(n):cu(n).co()&&Gb(n,e))}function Nl(t,e){const n=B(t),r=cu(n);n.qo.delete(e),r.co()&&WF(n,e),0===n.qo.size&&(r.co()?r.ho():gs(n)&&n.Qo.set("Unknown"))}function Gb(t,e){t.Wo.Z(e.targetId),cu(t).Ao(e)}function WF(t,e){t.Wo.Z(e),cu(t).Ro(e)}function zb(t){t.Wo=new aZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qo.get(e)||null}),cu(t).start(),t.Qo.Mo()}function Wb(t){return gs(t)&&!cu(t).oo()&&t.qo.size>0}function gs(t){return 0===B(t).Ko.size}function KF(t){t.Wo=void 0}function yee(t){return Kb.apply(this,arguments)}function Kb(){return Kb=g(function*(t){t.qo.forEach((e,n)=>{Gb(t,e)})}),Kb.apply(this,arguments)}function _ee(t,e){return Qb.apply(this,arguments)}function Qb(){return Qb=g(function*(t,e){KF(t),Wb(t)?(t.Qo.Bo(e),zb(t)):t.Qo.set("Unknown")}),Qb.apply(this,arguments)}function vee(t,e,n){return Yb.apply(this,arguments)}function Yb(){return Yb=g(function*(t,e,n){if(t.Qo.set("Online"),e instanceof KP&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.qo.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.qo.delete(a),i.Wo.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hp(t,r)}else if(e instanceof Jf?t.Wo.ct(e):e instanceof WP?t.Wo._t(e):t.Wo.ht(e),!n.isEqual(re.min()))try{const r=yield LF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Wo.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.qo.get(u);c&&i.qo.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.qo.get(a);if(!u)return;i.qo.set(a,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),WF(i,a);const c=new ds(u.target,a,1,u.sequenceNumber);Gb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){N("RemoteStore","Failed to raise snapshot:",r),yield hp(t,r)}var r}),Yb.apply(this,arguments)}function hp(t,e,n){return Jb.apply(this,arguments)}function Jb(){return Jb=g(function*(t,e,n){if(!ao(e))throw e;t.Ko.add(1),yield au(t),t.Qo.set("Offline"),n||(n=()=>LF(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){N("RemoteStore","Retrying IndexedDB access"),yield n(),t.Ko.delete(1),yield kl(t)}))}),Jb.apply(this,arguments)}function QF(t,e){return e().catch(n=>hp(t,n,e))}function uu(t){return Xb.apply(this,arguments)}function Xb(){return Xb=g(function*(t){const e=B(t),n=ms(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;wee(e);)try{const i=yield YZ(e.localStore,r);if(null===i){0===e.Uo.length&&n.ho();break}r=i.batchId,Eee(e,i)}catch(i){yield hp(e,i)}YF(e)&&JF(e)}),Xb.apply(this,arguments)}function wee(t){return gs(t)&&t.Uo.length<10}function Eee(t,e){t.Uo.push(e);const n=ms(t);n.co()&&n.bo&&n.vo(e.mutations)}function YF(t){return gs(t)&&!ms(t).oo()&&t.Uo.length>0}function JF(t){ms(t).start()}function Iee(t){return Zb.apply(this,arguments)}function Zb(){return Zb=g(function*(t){ms(t).Do()}),Zb.apply(this,arguments)}function bee(t){return eT.apply(this,arguments)}function eT(){return eT=g(function*(t){const e=ms(t);for(const n of t.Uo)e.vo(n.mutations)}),eT.apply(this,arguments)}function Tee(t,e,n){return tT.apply(this,arguments)}function tT(){return tT=g(function*(t,e,n){const r=t.Uo.shift(),i=gb.from(r,e,n);yield QF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield uu(t)}),tT.apply(this,arguments)}function Dee(t,e){return nT.apply(this,arguments)}function nT(){return nT=g(function*(t,e){var n;e&&ms(t).bo&&(yield(n=g(function*(r,i){if(qP(s=i.code)&&s!==b.ABORTED){const o=r.Uo.shift();ms(r).ao(),yield QF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield uu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),YF(t)&&JF(t)}),nT.apply(this,arguments)}function XF(t,e){return rT.apply(this,arguments)}function rT(){return rT=g(function*(t,e){const n=B(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.Ko.add(3),yield au(n),r&&n.Qo.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ko.delete(3),yield kl(n)}),rT.apply(this,arguments)}function sT(){return sT=g(function*(t,e){const n=B(t);e?(n.Ko.delete(2),yield kl(n)):e||(n.Ko.add(2),yield au(n),n.Qo.set("Unknown"))}),sT.apply(this,arguments)}function cu(t){return t.zo||(t.zo=function(e,n,r){const i=B(e);return i.No(),new hee(n,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(t.datastore,t.asyncQueue,{Pr:yee.bind(null,t),vr:_ee.bind(null,t),To:vee.bind(null,t)}),t.Go.push(function(){var e=g(function*(n){n?(t.zo.ao(),Wb(t)?zb(t):t.Qo.set("Unknown")):(yield t.zo.stop(),KF(t))});return function(n){return e.apply(this,arguments)}}())),t.zo}function ms(t){return t.Ho||(t.Ho=function(e,n,r){const i=B(e);return i.No(),new fee(n,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(t.datastore,t.asyncQueue,{Pr:Iee.bind(null,t),vr:Dee.bind(null,t),So:bee.bind(null,t),Vo:Tee.bind(null,t)}),t.Go.push(function(){var e=g(function*(n){n?(t.Ho.ao(),yield uu(t)):(yield t.Ho.stop(),t.Uo.length>0&&(N("RemoteStore",`Stopping write stream with ${t.Uo.length} pending writes`),t.Uo=[]))});return function(n){return e.apply(this,arguments)}}())),t.Ho}class oT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new oT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(t,e){if(_t("AsyncQueue",`${e}: ${t}`),ao(t))return new k(b.UNAVAILABLE,`${e}: ${t}`);throw t}class du{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=cb(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new du(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ZF{constructor(){this.Jo=new dt(G.comparator)}track(e){const n=e.doc.key,r=this.Jo.get(n);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(n,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(n):1===e.type&&2===r.type?this.Jo=this.Jo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(n,{type:2,doc:e.doc}):X():this.Jo=this.Jo.insert(n,e)}Yo(){const e=[];return this.Jo.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new hu(e,n,du.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Cee{constructor(){this.Xo=void 0,this.listeners=[]}}class See{constructor(){this.queries=new iu(e=>xP(e),ml),this.onlineState="Unknown",this.Zo=new Set}}function uT(){return uT=g(function*(t,e){const n=B(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Cee),i)try{s.Xo=yield n.onListen(r)}catch(o){const a=lu(o,`Initialization of query '${sb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.tc(n.onlineState),s.Xo&&e.ec(s.Xo)&&dT(n)}),uT.apply(this,arguments)}function lT(){return lT=g(function*(t,e){const n=B(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),lT.apply(this,arguments)}function Aee(t,e){const n=B(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.ec(i)&&(r=!0);o.Xo=i}}r&&dT(n)}function xee(t,e,n){const r=B(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function dT(t){t.Zo.forEach(e=>{e.next()})}class hT{constructor(e,n,r){this.query=e,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.sc?this.rc(e)&&(this.nc.next(e),n=!0):this.oc(e,this.onlineState)&&(this.cc(e),n=!0),this.ic=e,n}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let n=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),n=!0),n}oc(e,n){return!e.fromCache||!(this.options.uc&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class nL{constructor(e){this.key=e}}class rL{constructor(e){this.key=e}}class iL{constructor(e,n){this.query=e,this.dc=n,this._c=null,this.current=!1,this.wc=Ue(),this.mutatedKeys=Ue(),this.mc=MP(e),this.gc=new du(this.mc)}get yc(){return this.dc}Ic(e,n){const r=n?n.Ec:new ZF,i=n?n.gc:this.gc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=qf(this.query)&&i.size===this.query.limit?i.last():null,c=Gf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=ob(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Tc(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.mc(f,u)>0||c&&this.mc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),qf(this.query)||Gf(this.query))for(;o.size>this.query.limit;){const l=qf(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:a,mutatedKeys:s}}Tc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const s=e.Ec.Yo();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return f(d)-f(h)}(c.type,l.type)||this.mc(c.doc,l.doc)),this.Ac(r);const o=n?this.Rc():[],a=0===this.wc.size&&this.current?1:0,u=a!==this._c;return this._c=a,0!==s.length||u?{snapshot:new hu(this.query,e.gc,i,s,e.mutatedKeys,0===a,u,!1),Pc:o}:{Pc:o}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new ZF,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(n=>this.dc=this.dc.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.dc=this.dc.delete(n)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Ue(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const n=[];return e.forEach(r=>{this.wc.has(r)||n.push(new rL(r))}),this.wc.forEach(r=>{e.has(r)||n.push(new nL(r))}),n}vc(e){this.dc=e.Ks,this.wc=Ue();const n=this.Ic(e.documents);return this.applyChanges(n,!0)}Vc(){return hu.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class kee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nee{constructor(e){this.key=e,this.Sc=!1}}class Oee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new iu(a=>xP(a),ml),this.Nc=new Map,this.xc=new Set,this.kc=new dt(G.comparator),this.Oc=new Map,this.Mc=new Fb,this.$c={},this.Fc=new Map,this.Bc=ho.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function Pee(t,e){return fT.apply(this,arguments)}function fT(){return fT=g(function*(t,e){const n=FT(t);let r,i;const s=n.Cc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Vc();else{const o=yield su(n.localStore,Ir(e));n.isPrimaryClient&&dp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield pT(n,e,r,"current"===a)}return i}),fT.apply(this,arguments)}function pT(t,e,n,r){return gT.apply(this,arguments)}function gT(){return gT=g(function*(t,e,n,r){t.Uc=(l,d,h)=>{return(f=g(function*(p,m,_,I){let v=m.view.Ic(_);v.ks&&(v=yield ap(p.localStore,m.query,!1).then(({documents:pe})=>m.view.Ic(pe,v)));const U=I&&I.targetChanges.get(m.targetId),Y=m.view.applyChanges(v,p.isPrimaryClient,U);return DT(p,m.targetId,Y.Pc),Y.snapshot}),function(p,m,_,I){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield ap(t.localStore,e,!0),s=new iL(e,i.Ks),o=s.Ic(i.documents),a=El.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);DT(t,n,u.Pc);const c=new kee(e,n,s);return t.Cc.set(e,c),t.Nc.has(n)?t.Nc.get(n).push(e):t.Nc.set(n,[e]),u.snapshot}),gT.apply(this,arguments)}function Fee(t,e){return mT.apply(this,arguments)}function mT(){return mT=g(function*(t,e){const n=B(t),r=n.Cc.get(e),i=n.Nc.get(r.targetId);if(i.length>1)return n.Nc.set(r.targetId,i.filter(s=>!ml(s,e))),void n.Cc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ou(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Nl(n.remoteStore,r.targetId),fu(n,r.targetId)}).catch(fo))):(fu(n,r.targetId),yield ou(n.localStore,r.targetId,!0))}),mT.apply(this,arguments)}function yT(){return yT=g(function*(t,e,n){const r=LT(t);try{const i=yield function(s,o){const a=B(s),u=on.now(),c=o.reduce((d,h)=>d.add(h.key),Ue());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Us.Es(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=eZ(p,l.get(p.key));null!=m&&f.push(new so(p.key,m,IP(m.value.mapValue),vt.exists(!0)))}return a.gs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.$c[s.currentUser.toKey()];u||(u=new dt(xe)),u=u.insert(o,a),s.$c[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Vi(r,i.changes),yield uu(r.remoteStore)}catch(i){const s=lu(i,"Failed to persist write");n.reject(s)}}),yT.apply(this,arguments)}function sL(t,e){return _T.apply(this,arguments)}function _T(){return _T=g(function*(t,e){const n=B(t);try{const r=yield QZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oc.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Sc=!0:i.modifiedDocuments.size>0?oe(o.Sc):i.removedDocuments.size>0&&(oe(o.Sc),o.Sc=!1))}),yield Vi(n,r,e)}catch(r){yield fo(r)}}),_T.apply(this,arguments)}function oL(t,e,n){const r=B(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Cc.forEach((s,o)=>{const a=o.view.tc(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=B(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.tc(o)&&(u=!0)}),u&&dT(a)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uee(t,e,n){return vT.apply(this,arguments)}function vT(){return vT=g(function*(t,e,n){const r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oc.get(e),s=i&&i.key;if(s){let o=new dt(G.comparator);o=o.insert(s,Ze.newNoDocument(s,re.min()));const a=Ue().add(s),u=new wl(re.min(),new Map,new Qe(xe),o,a);yield sL(r,u),r.kc=r.kc.remove(s),r.Oc.delete(e),CT(r)}else yield ou(r.localStore,e,!1).then(()=>fu(r,e,n)).catch(fo)}),vT.apply(this,arguments)}function Vee(t,e){return wT.apply(this,arguments)}function wT(){return wT=g(function*(t,e){const n=B(t),r=e.batch.batchId;try{const i=yield KZ(n.localStore,e);TT(n,r,null),bT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Vi(n,i)}catch(i){yield fo(i)}}),wT.apply(this,arguments)}function jee(t,e,n){return ET.apply(this,arguments)}function ET(){return ET=g(function*(t,e,n){const r=B(t);try{const i=yield function(s,o){const a=B(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.gs.lookupMutationBatch(u,o).next(l=>(oe(null!==l),c=l.keys(),a.gs.removeMutationBatch(u,l))).next(()=>a.gs.performConsistencyCheck(u)).next(()=>a.Us.Es(u,c))})}(r.localStore,e);TT(r,e,n),bT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Vi(r,i)}catch(i){yield fo(i)}}),ET.apply(this,arguments)}function bT(t,e){(t.Fc.get(e)||[]).forEach(n=>{n.resolve()}),t.Fc.delete(e)}function TT(t,e,n){const r=B(t);let i=r.$c[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$c[r.currentUser.toKey()]=i}}function fu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Nc.get(e))t.Cc.delete(r),n&&t.Dc.qc(r,n);t.Nc.delete(e),t.isPrimaryClient&&t.Mc.si(e).forEach(r=>{t.Mc.containsKey(r)||aL(t,r)})}function aL(t,e){t.xc.delete(e.path.canonicalString());const n=t.kc.get(e);null!==n&&(Nl(t.remoteStore,n),t.kc=t.kc.remove(e),t.Oc.delete(n),CT(t))}function DT(t,e,n){for(const r of n)r instanceof nL?(t.Mc.addReference(r.key,e),$ee(t,r)):r instanceof rL?(N("SyncEngine","Document no longer in limbo: "+r.key),t.Mc.removeReference(r.key,e),t.Mc.containsKey(r.key)||aL(t,r.key)):X()}function $ee(t,e){const n=e.key,r=n.path.canonicalString();t.kc.get(n)||t.xc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.xc.add(r),CT(t))}function CT(t){for(;t.xc.size>0&&t.kc.size<t.maxConcurrentLimboResolutions;){const e=t.xc.values().next().value;t.xc.delete(e);const n=new G(Oe.fromString(e)),r=t.Bc.next();t.Oc.set(r,new Nee(n)),t.kc=t.kc.insert(n,r),dp(t.remoteStore,new ds(Ir(za(n.path)),r,2,sr.A))}}function Vi(t,e,n){return ST.apply(this,arguments)}function ST(){return ST=g(function*(t,e,n){const r=B(t),i=[],s=[],o=[];var a;r.Cc.isEmpty()||(r.Cc.forEach((a,u)=>{o.push(r.Uc(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=Mb.Ss(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Dc.To(i),yield(a=g(function*(u,c){const l=B(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>T.forEach(c,h=>T.forEach(h.vs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>T.forEach(h.Vs,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ao(d))throw d;N("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ms.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ms=l.Ms.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),ST.apply(this,arguments)}function Hee(t,e){return AT.apply(this,arguments)}function AT(){return AT=g(function*(t,e){const n=B(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=yield FF(n.localStore,e);n.currentUser=e,(i=n).Fc.forEach(o=>{o.forEach(a=>{a.reject(new k(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Fc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vi(n,r.qs)}var i}),AT.apply(this,arguments)}function qee(t,e){const n=B(t),r=n.Oc.get(e);if(r&&r.Sc)return Ue().add(r.key);{let i=Ue();const s=n.Nc.get(e);if(!s)return i;for(const o of s){const a=n.Cc.get(o);i=i.unionWith(a.view.yc)}return i}}function FT(t){const e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uee.bind(null,e),e.Dc.To=Aee.bind(null,e.eventManager),e.Dc.qc=xee.bind(null,e.eventManager),e}function LT(t){const e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jee.bind(null,e),e}class Zee{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.O=Rl(e.databaseInfo.databaseId),n.sharedClientState=n.Gc(e),n.persistence=n.jc(e),yield n.persistence.start(),n.gcScheduler=n.Qc(e),n.localStore=n.Wc(e)})()}Qc(e){return null}Wc(e){return function PF(t,e,n,r){return new WZ(t,e,n,r)}(this.persistence,new OF,e.initialUser,this.O)}jc(e){return new oee(Lb.bi,this.O)}Gc(e){return new HF}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class UT{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>oL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Hee.bind(null,r.syncEngine),yield function iT(t,e){return sT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new See}createDatastore(e){const n=Rl(e.databaseInfo.databaseId),r=new dee(e.databaseInfo);return new pee(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>oL(this.syncEngine,a,0),o=qF.Vt()?new qF:new uee,new mee(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Oee(r,i,s,o,a,u);return c&&(l.Lc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=B(n);N("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield au(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ste{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=fP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){N("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=lu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function dL(t,e){return VT.apply(this,arguments)}function VT(){return VT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield FF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),VT.apply(this,arguments)}function hL(t,e){return jT.apply(this,arguments)}function jT(){return jT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield BT(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>XF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>XF(e.remoteStore,s)),t.onlineComponents=e}),jT.apply(this,arguments)}function BT(t){return $T.apply(this,arguments)}function $T(){return $T=g(function*(t){return t.offlineComponents||(N("FirestoreClient","Using default OfflineComponentProvider"),yield dL(t,new Zee)),t.offlineComponents}),$T.apply(this,arguments)}function pp(t){return HT.apply(this,arguments)}function HT(){return HT=g(function*(t){return t.onlineComponents||(N("FirestoreClient","Using default OnlineComponentProvider"),yield hL(t,new UT)),t.onlineComponents}),HT.apply(this,arguments)}function pu(t){return zT.apply(this,arguments)}function zT(){return zT=g(function*(t){const e=yield pp(t),n=e.eventManager;return n.onListen=Pee.bind(null,e.syncEngine),n.onUnlisten=Fee.bind(null,e.syncEngine),n}),zT.apply(this,arguments)}const yL=new Map;function WT(t,e,n){if(!n)throw new k(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _L(t){if(!G.isDocumentKey(t))throw new k(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vL(t){if(G.isDocumentKey(t))throw new k(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":X()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gp(t);throw new k(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class EL{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new k(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new k(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function pte(t,e,n,r){if(!0===e&&!0===r)throw new k(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ol{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EL({}),this._settingsFrozen=!1,e instanceof Ba?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new k(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(i.options.projectId)}(e))}get app(){if(!this._app)throw new k(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new k(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EL(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new SX;switch(n.type){case"gapi":const r=n.client;return oe(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new RX(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new k(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=yL.get(e);n&&(N("ComponentProvider","Removing Datastore"),yL.delete(e),n.terminate())}(this),Promise.resolve()}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}}class vn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vn(this.firestore,e,this._query)}}class ui extends vn{constructor(e,n,r){super(e,n,za(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new G(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function gte(t,e,...n){if(t=wr(t),WT("collection","path",e),t instanceof Ol){const r=Oe.fromString(e,...n);return vL(r),new ui(t,null,r)}{if(!(t instanceof ht||t instanceof ui))throw new k(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return vL(r),new ui(t.firestore,null,r)}}function IL(t,e,...n){if(t=wr(t),1===arguments.length&&(e=fP.R()),WT("doc","path",e),t instanceof Ol){const r=Oe.fromString(e,...n);return _L(r),new ht(t,null,new G(r))}{if(!(t instanceof ht||t instanceof ui))throw new k(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return _L(r),new ht(t.firestore,t instanceof ui?t.converter:null,new G(r))}}class yte{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new $b(this,"async_queue_retry"),this.yu=()=>{const n=lp();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ro.Yr()};const e=lp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const n=lp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const n=new Bt;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return g(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(n){if(!ao(n))throw n;N("AsyncQueue","Operation failed with retryable error: "+n)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const n=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,_t("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.gu.indexOf(e)>-1&&(n=0);const i=oT.createAndSchedule(this,e,n,r,s=>this.Tu(s));return this.du.push(i),i}pu(){this._u&&X()}verifyOperationInProgress(){}Au(){var e=this;return g(function*(){let n;do{n=e.hu,yield n}while(n!==e.hu)})()}Ru(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function KT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ye extends Ol{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new yte,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||bL(this),this._firestoreClient.terminate()}}function vte(t=u_()){return Ia(t,"firestore").getImmediate()}function Rt(t){return t._firestoreClient||bL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bL(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new FX(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new ste(t._authCredentials,t._appCheckCredentials,t._queue,r)}class gu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new k(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Mt.fromBase64String(e))}catch(n){throw new k(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class CL{constructor(e){this._methodName=e}}class QT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}const wte=/^__.*__$/;class Ete{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new _l(e,this.data,n,this.fieldTransforms)}}function AL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class mp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Su({path:r,Cu:!1});return i.Nu(e),i}xu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Su({path:r,Cu:!1});return i.vu(),i}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return _p(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(AL(this.Vu)&&wte.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class Ite{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.O=r||Rl(e)}Fu(e,n,r,i=!1){return new mp({Vu:e,methodName:n,$u:r,path:an.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function mu(t){const e=t._freezeSettings(),n=Rl(t._databaseId);return new Ite(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YT(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);XT("Data must be an object, but it was:",o,r);const a=NL(r,o);let u,c;if(s.merge)u=new ja(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=ZT(e,d,n);if(!o.contains(h))throw new k(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PL(l,h)||l.push(h)}u=new ja(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Ete(new yn(a),u,c)}function go(t,e){if(OL(t=wr(t)))return XT("Unsupported field value:",e,t),NL(t,e);if(t instanceof CL)return function(n,r){if(!AL(r.Vu))throw r.Ou(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=go(o,r.ku(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=wr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return NP(r.O,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=on.fromDate(n);return{timestampValue:Il(r.O,i)}}if(n instanceof on){const i=new on(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Il(r.O,i)}}if(n instanceof QT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof po)return{bytesValue:XP(r.O,n._byteString)};if(n instanceof ht){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Ou(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ou(`Unsupported field value: ${gp(n)}`)}(t,e)}function NL(t,e){const n={};return mP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const s=go(i,e.Du(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function OL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof on||t instanceof QT||t instanceof po||t instanceof ht||t instanceof CL)}function XT(t,e,n){if(!OL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gp(n);throw e.Ou("an object"===r?t+" a custom object":t+" "+r)}var r}function ZT(t,e,n){if((e=wr(e))instanceof gu)return e._internalPath;if("string"==typeof e)return yp(t,e);throw _p("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cte=new RegExp("[~\\*/\\[\\]]");function yp(t,e,n){if(e.search(Cte)>=0)throw _p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gu(...e.split("."))._internalPath}catch(r){throw _p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _p(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new k(b.INVALID_ARGUMENT,a+t+u)}function PL(t,e){return t.some(n=>n.isEqual(e))}class eD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ste(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ste extends eD{data(){return super.data()}}function vp(t,e){return"string"==typeof e?yp(t,e):e instanceof gu?e._internalPath:e._delegate._internalPath}class mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yu extends eD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wp extends yu{data(e={}){return super.data(e)}}class _u{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wp(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new wp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new mo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new wp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new mo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Ate(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ate(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class yo extends class Rte{convertValue(e,n="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){const r={};return Zs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new QT(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=cs(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);oe(uF(r));const i=new Ba(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||_t(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function Nte(t){return Fl(Ne(t.firestore,Ye),[new vl(t._key,vt.none())])}function Ote(t,e){const n=Ne(t.firestore,Ye),r=IL(t),i=function tD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Fl(n,[YT(mu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,vt.exists(!1))]).then(()=>r)}function Fl(t,e){return function(n,r){const i=new Bt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Lee(t,e,n){return yT.apply(this,arguments)}(yield function GT(t){return pp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Rt(t),e)}!function(t,e=!0){Ua="9.6.7",Vn(new An("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ye(i,new xX(n.getProvider("auth-internal")),new kX(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),st(lP,"3.4.5",t),st(lP,"3.4.5","esm2017")}();class Ip{constructor(e){return e}}const GL="firestore",rD=new we("angularfire2.firestore-instances");function Vte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ip(r)}}const jte={provide:class Lte{constructor(){return jv(GL)}},deps:[[new ct,rD]]},Bte={provide:Ip,useFactory:function Ute(t,e){const n=Vv(GL,t,e);return n&&new Ip(n)},deps:[[new ct,rD],xa]};let $te=(()=>{class t{constructor(){st("angularfire",Ph.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:[Bte,jte]}),t})();function Hte(t,...e){return{ngModule:$te,providers:[{provide:rD,useFactory:Vte(t),multi:!0,deps:[Je,Dt,Bv,$v,[new ct,KN],[new ct,sw],...e]}]}}const qte=qs(Ote,!0),Gte=qs(gte,!0),zte=qs(Nte,!0),Wte=qs(vte,!0);var Kte={includeMetadataChanges:!1};function iD(t,e){return void 0===e&&(e=Kte),new Se(function(n){var r=function Pte(t,...e){var n,r,i;t=wr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||KT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(KT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ht)c=Ne(t.firestore,Ye),l=za(t._key.path),u={next:d=>{e[o]&&e[o](function nD(t,e,n){const r=n.docs.get(e._key),i=new yo(t);return new yu(t,i,e._key,r,new mo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ne(t,vn);c=Ne(d.firestore,Ye),l=d._query;const h=new yo(c);u={next:f=>{e[o]&&e[o](new _u(c,h,d,f))},error:e[o+1],complete:e[o+2]},function FL(t){if(Gf(t)&&0===t.explicitOrderBy.length)throw new k(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new fp(p),_=new hT(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function aT(t,e){return uT.apply(this,arguments)}(yield pu(d),_)})),()=>{m.Jc(),d.asyncQueue.enqueueAndForget(g(function*(){return function cT(t,e){return lT.apply(this,arguments)}(yield pu(d),_)}))}}(Rt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}let nne=(()=>{class t{constructor(n){this.store=n,this.components=null,this.collection=null,this.dbPath=""}getAll(){if(!this.components){const n=localStorage.getItem("user");if(!n)return;const r=JSON.parse(n).uid;this.dbPath=`/users/${r}/components`,this.collection=Gte(this.store,this.dbPath),this.components=function tne(t,e){return void 0===e&&(e={}),function ene(t){return iD(t,{includeMetadataChanges:!0}).pipe(Pe(function(e){return e.docs}))}(t).pipe(Pe(function(n){return n.map(function(r){return function zL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}(this.collection,{idField:"fireID"})}return this.components}addComponent(n){this.collection&&qte(this.collection,n)}deleteComponent(n){if(this.collection){const r=IL(this.store,`${this.dbPath}/${n.fireID}`);zte(r)}}}return t.\u0275fac=function(n){return new(n||t)(Q(Ip))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class YL{}class JL{}class ji{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ji?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ji;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ji?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class rne{encodeKey(e){return XL(e)}encodeValue(e){return XL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sne=/%(\d[a-f0-9])/gi,one={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function XL(t){return encodeURIComponent(t).replace(sne,(e,n)=>{var r;return null!==(r=one[n])&&void 0!==r?r:e})}function ZL(t){return`${t}`}class ys{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rne,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ine(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ys({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(ZL(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ZL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ane{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function eU(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function tU(t){return"undefined"!=typeof Blob&&t instanceof Blob}function nU(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ll{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function une(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ji),this.context||(this.context=new ane),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ys,this.urlWithParams=n}serializeBody(){return null===this.body?null:eU(this.body)||tU(this.body)||nU(this.body)||function cne(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ys?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nU(this.body)?null:tU(this.body)?this.body.type||null:eU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ys?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new Ll(r,i,o,{params:l,headers:c,context:d,reportProgress:u,responseType:s,withCredentials:a})}}var Et=(()=>((Et=Et||{})[Et.Sent=0]="Sent",Et[Et.UploadProgress=1]="UploadProgress",Et[Et.ResponseHeader=2]="ResponseHeader",Et[Et.DownloadProgress=3]="DownloadProgress",Et[Et.Response=4]="Response",Et[Et.User=5]="User",Et))();class aD{constructor(e,n=200,r="OK"){this.headers=e.headers||new ji,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class uD extends aD{constructor(e={}){super(e),this.type=Et.ResponseHeader}clone(e={}){return new uD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bp extends aD{constructor(e={}){super(e),this.type=Et.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rU extends aD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function cD(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let lD=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Ll)s=n;else{let u,c;u=i.headers instanceof ji?i.headers:new ji(i.headers),i.params&&(c=i.params instanceof ys?i.params:new ys({fromObject:i.params})),s=new Ll(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ge(s).pipe(pa(u=>this.handler.handle(u)));if(n instanceof Ll||"events"===i.observe)return o;const a=o.pipe(Rs(u=>u instanceof bp));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ys).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,cD(i,r))}post(n,r,i={}){return this.request("POST",n,cD(i,r))}put(n,r,i={}){return this.request("PUT",n,cD(i,r))}}return t.\u0275fac=function(n){return new(n||t)(Q(YL))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();class iU{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const sU=new we("HTTP_INTERCEPTORS");let lne=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const dne=/^\)\]\}',?\n/;let oU=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Se(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",m=new ji(i.getAllResponseHeaders()),_=function hne(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new uD({headers:m,status:f,statusText:p,url:_}),o},u=()=>{let{headers:f,status:p,statusText:m,url:_}=a(),I=null;204!==p&&(I=void 0===i.response?i.responseText:i.response),0===p&&(p=I?200:0);let v=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof I){const U=I;I=I.replace(dne,"");try{I=""!==I?JSON.parse(I):null}catch(Y){I=U,v&&(v=!1,I={error:Y,text:I})}}v?(r.next(new bp({body:I,headers:f,status:p,statusText:m,url:_||void 0})),r.complete()):r.error(new rU({error:I,headers:f,status:p,statusText:m,url:_||void 0}))},c=f=>{const{url:p}=a(),m=new rU({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:Et.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Et.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Et.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(Q(qM))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})();const dD=new we("XSRF_COOKIE_NAME"),hD=new we("XSRF_HEADER_NAME");class aU{}let fne=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=LM(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(Q(er),Q(da),Q(dD))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),fD=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(aU),Q(hD))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),pne=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(sU,[]);this.chain=r.reduceRight((i,s)=>new iU(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(Q(JL),Q(Dt))},t.\u0275prov=he({token:t,factory:t.\u0275fac}),t})(),gne=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:fD,useClass:lne}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:dD,useValue:n.cookieName}:[],n.headerName?{provide:hD,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:[fD,{provide:sU,useExisting:fD,multi:!0},{provide:aU,useClass:fne},{provide:dD,useValue:"XSRF-TOKEN"},{provide:hD,useValue:"X-XSRF-TOKEN"}]}),t})(),mne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({providers:[lD,{provide:YL,useClass:pne},oU,{provide:JL,useExisting:oU}],imports:[[gne.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function yne(t,e){if(1&t&&(Ee(0,"div",14),Ee(1,"div",15),Jt(2),Ie(),Ee(3,"div",16),Tn(4,"img",17),Ie(),Ee(5,"div",18),Jt(6),Ie(),Ee(7,"div",9),Jt(8,"/"),Ie(),Ee(9,"div",19),Jt(10),Ie(),Ie()),2&t){const n=e.$implicit;Le(2),Yi(n.weekday),Le(2),Zu("src","../../../assets/img/weather/",n.weather_icon,".svg",Lo),Le(2),Ji("",n.min,"\xb0"),Le(4),Ji("",n.max,"\xb0")}}let _ne=(()=>{class t{constructor(n){this.http=n,this.WEATHER_API_KEY="9a48ea7d19a72a24440fbb791b7f0a55",this.LATITUDE=47.398577,this.LONGITUDE=8.599249,this.NUM_DAYS=5,this.updateWeather()}updateWeather(){this.weatherData=this.http.get(`https://api.open-meteo.com/v1/forecast?latitude=${this.LATITUDE}&longitude=${this.LONGITUDE}&daily=apparent_temperature_max,apparent_temperature_min,precipitation_sum,weathercode&current_weather=true&timezone=Europe%2FBerlin`).pipe(LD()),this.weatherData.subscribe(this.parseWeatherData.bind(this))}ngAfterViewInit(){var n=this;return g(function*(){setInterval(()=>{n.updateWeather()},36e5)})()}toDayString(n){switch(n%7){case 0:return"So";case 1:return"Mo";case 2:return"Di";case 3:return"Mi";case 4:return"Do";case 5:return"Fr";default:return"Sa"}}toSVGPath(n){return`src/img/weather/${n=n.replace("n","d")}.svg`}parseWeatherData(n){console.log(n),this.temperature=Math.round(n.current_weather.temperature),this.wind=Math.round(n.current_weather.windspeed),this.weather_icon=n.current_weather.weathercode,this.rain=Math.round(n.daily.precipitation_sum[0]),this.forecast=[];for(let r=1;r<=this.NUM_DAYS;r++){const i=new Date,s=this.toDayString(i.getDay()+r),o=Math.round(n.daily.apparent_temperature_min[r]),a=Math.round(n.daily.apparent_temperature_max[r]);this.forecast.push({min:o,max:a,weekday:s,weather_icon:n.daily.weathercode[r]})}}}return t.\u0275fac=function(n){return new(n||t)(Z(lD))},t.\u0275cmp=qr({type:t,selectors:[["app-weather"]],inputs:{latitude:"latitude"},decls:18,vars:5,consts:[[1,"grid","grid-cols-1","grid-rows-2","gap-2","h-screen","border-r-2",2,"padding-top","120px"],[1,"grid","grid-cols-2","gap-2","p-4"],["alt","","srcset","",3,"src"],[1,"text-8xl","font-bold","text-right"],[1,"grid","grid-cols-2","h-10","pt-2"],[1,""],["src","../../../assets/img/weather/raindrop.svg","width","29px"],[1,"text-xl","text-center"],[1,"grid","grid-cols-2","h-10","pt-2","justify-items-center"],[1,"text-center"],["src","../../../assets/img/weather/wind.svg","width","29px"],["id","wind",1,"text-xl","text-center"],[1,"place-content-evenly","col-span-2","pl-2","pr-4",2,"padding-top","120px"],["class","grid grid-cols-7 gap-4 text-xl pb-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-7","gap-4","text-xl","pb-2"],["id","weekday-0",1,"col-span-2"],[1,"col-span-2","justify-self-center"],["width","29px",3,"src"],["id","min-temp-0",1,"text-right"],["id","max-temp-0"]],template:function(n,r){1&n&&(Ee(0,"div",0),Ee(1,"div",1),Ee(2,"div"),Tn(3,"img",2),Ie(),Ee(4,"div",3),Jt(5),Ie(),Ee(6,"div",4),Ee(7,"div",5),Tn(8,"img",6),Ie(),Ee(9,"div",7),Jt(10),Ie(),Ie(),Ee(11,"div",8),Ee(12,"div",9),Tn(13,"img",10),Ie(),Ee(14,"div",11),Jt(15),Ie(),Ie(),Ie(),Ee(16,"div",12),Zn(17,yne,11,4,"div",13),Ie(),Ie()),2&n&&(Le(3),Zu("src","../../../assets/img/weather/",r.weather_icon,".svg",Lo),Le(2),Ji("",r.temperature,"\xb0"),Le(5),Ji("",r.rain," mm"),Le(5),Ji("",r.wind," km/h"),Le(2),gn("ngForOf",r.forecast))},directives:[mc],styles:[""]}),t})(),vne=(()=>{class t{constructor(){this.type=""}ngAfterViewInit(){this.refreshTime(),setInterval(()=>{this.refreshTime()},1e3)}refreshTime(){const n=new Date;this.hours=n.getHours().toString(),this.minutes=n.getMinutes().toString(),1==this.minutes.length&&(this.minutes="0"+this.minutes)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qr({type:t,selectors:[["app-clock"]],inputs:{type:"type"},decls:2,vars:2,consts:[[1,"text-8xl","font-bold","place-items-center","flex","justify-center","items-center","m-4",2,"padding-top","120px"]],template:function(n,r){1&n&&(Ee(0,"div",0),Jt(1),Ie()),2&n&&(Le(1),vm("",r.hours,":",r.minutes,""))},styles:[""]}),t})();function wne(t,e){if(1&t&&(Ee(0,"div",9),Jt(1),Ie()),2&t){const n=vi().$implicit;Le(1),Yi(n.delay)}}function Ene(t,e){if(1&t&&(Ee(0,"div",3),Ee(1,"div",4),Jt(2),Ie(),Zn(3,wne,2,1,"div",5),Ee(4,"div",6),Jt(5),Ie(),Ee(6,"div",7),Jt(7),Ie(),Tn(8,"img",8),Ie()),2&t){const n=e.$implicit;Le(2),Yi(n.departure),Le(1),gn("ngIf",n.delay>0),Le(2),Yi(n.destination),Le(2),Yi(n.arrival)}}let Ine=(()=>{class t{constructor(){this.connections=[]}ngOnInit(){var n=this;return g(function*(){n.updateSbbDepartures()})()}ngAfterViewInit(){var n=this;return g(function*(){setInterval(()=>{n.updateSbbDepartures()},3e5)})()}updateSbbDepartures(){var n=this;return g(function*(){for(let r=0;r<n.destinations.length;r++){let i={},s=yield n.getSbbDepartures(n.destinations[r]);i.departure=s[0],i.arrival=s[1],i.delay=s[2],i.destination=n.destinations[r],n.connections.push(i)}})()}formatTimeString(n){return n=(n=(n=n.replace(/-/g,"/")).replace(/T/g," ")).substring(0,n.length-5),new Date(Date.parse(n)).toLocaleString("de-CH",{hour:"2-digit",minute:"2-digit"})}getDelay(n,r){const i=Date.parse(n),s=Date.parse(r),o=Math.round((s-i)/1e3/60);return o>0?`+${o}`:`${o}`}getSbbDepartures(n){var r=this;return g(function*(){const i=`https://transport.opendata.ch/v1/connections?from=${r.start}&to=${n}`,a=(yield(yield fetch(i)).json()).connections[0],u=a.from.departure,c=a.to.arrival,l=a.from.prognosis.departure;return new Array(r.formatTimeString(u),r.formatTimeString(c),r.getDelay(u,l))})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qr({type:t,selectors:[["app-sbb"]],inputs:{start:"start",destinations:"destinations"},decls:4,vars:1,consts:[[1,""],["id","verbindungen-titel",1,"text-6xl","font-bold","justify-items-center","text-left"],["class","grid grid-cols-12 gap-y-2 ",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-y-2"],["id","eth-dep"],["id","eth-delay","class","bg-red-700 rounded-full h-5 w-5 place-self-start text-center text-xs",4,"ngIf"],[1,"col-start-10","col-span-2"],["id","eth-arr",1,"col-start-12","text-right"],["src","../../../assets/img/trains/trainline.svg",1,"col-span-12"],["id","eth-delay",1,"bg-red-700","rounded-full","h-5","w-5","place-self-start","text-center","text-xs"]],template:function(n,r){1&n&&(Ee(0,"div",0),Ee(1,"div",1),Jt(2,"Verbindungen"),Ie(),Zn(3,Ene,9,4,"div",2),Ie()),2&n&&(Le(3),gn("ngForOf",r.connections))},directives:[mc,gy],styles:[""]}),t})();var bne=D(482);let Tne=(()=>{class t{constructor(){}ngOnInit(){var n=this;return g(function*(){n.displayMeme()})()}ngAfterViewInit(){this.displayMeme(),setInterval(()=>{this.displayMeme()},3e5)}displayMeme(){var n=this;return g(function*(){let r=yield n.getMemes();n.memeUrl=r[0].image})()}getMemes(){return g(function*(){const n=yield bne.fetch({type:"meme"});return console.log(n),n})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qr({type:t,selectors:[["app-memes"]],decls:2,vars:1,consts:[[1,"text-center","p-4"],["alt","",1,"object-scale-down",3,"src"]],template:function(n,r){1&n&&(Ee(0,"div",0),Tn(1,"img",1),Ie()),2&n&&(Le(1),Xu("src",r.memeUrl,Lo))},styles:[""]}),t})();function Dne(t,e){if(1&t&&(Ee(0,"li"),Jt(1),Ie()),2&t){const n=e.$implicit;Le(1),Yi(n)}}let Cne=(()=>{class t{constructor(){this.entries=[]}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qr({type:t,selectors:[["app-todo"]],inputs:{entries:"entries"},decls:5,vars:1,consts:[[1,"p-2"],[1,"font-bold","text-6xl","pb-8"],[1,"list-disc","list-inside"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(Ee(0,"div",0),Ee(1,"div",1),Jt(2,"To Do's"),Ie(),Ee(3,"ul",2),Zn(4,Dne,2,1,"li",3),Ie(),Ie()),2&n&&(Le(4),gn("ngForOf",r.entries))},directives:[mc],styles:[""]}),t})();function Sne(t,e){1&t&&Tn(0,"div"),2&t&&wm("flex items-center justify-center ",vi().$implicit.classes,"")}function Ane(t,e){if(1&t&&(Ee(0,"div"),Tn(1,"app-weather",4),Ie()),2&t){const n=vi().$implicit;ec(n.classes),Le(1),Xu("latitude",n.properties.latitude)}}function xne(t,e){1&t&&(Ee(0,"div"),Tn(1,"app-clock"),Ie()),2&t&&ec(vi().$implicit.classes)}function Mne(t,e){if(1&t&&(Ee(0,"div"),Tn(1,"app-sbb",5),Ie()),2&t){const n=vi().$implicit;wm("",n.classes," flex items-end h-full justify-items-end pb-12"),Le(1),Xu("start",n.properties.start),gn("destinations",n.properties.destinations)}}function Rne(t,e){1&t&&(Ee(0,"div"),Tn(1,"app-memes"),Ie()),2&t&&ec(vi().$implicit.classes)}function kne(t,e){if(1&t&&(Ee(0,"div"),Tn(1,"app-todo",6),Ie()),2&t){const n=vi().$implicit;ec(n.classes),Le(1),gn("entries",n.properties.entries)}}function Nne(t,e){if(1&t&&(function gm(t,e,n){const r=M(),i=Me(),s=t+20,o=i.firstCreatePass?function w$(t,e,n,r,i){const s=e.consts,o=qi(s,r),a=Bo(e,t,8,"ng-container",o);return null!==o&&Sd(a,o,!0),Wg(e,n,a,qi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];zr(o,!0);const a=r[s]=r[11].createComment("");wd(i,r,a,o),fn(a,r),Yl(o)&&(Gg(i,r,o),HC(i,o,r)),null!=n&&zg(r,o)}(0),Zn(1,Sne,1,3,"div",3),Zn(2,Ane,2,4,"div",3),Zn(3,xne,2,3,"div",3),Zn(4,Mne,2,5,"div",3),Zn(5,Rne,2,3,"div",3),Zn(6,kne,2,4,"div",3),function mm(){let t=bt();const e=Me();zp()?Wp():(t=t.parent,zr(t,!1)),e.firstCreatePass&&(nd(e,t),Up(t)&&e.queries.elementEnd(t))}()),2&t){const n=e.$implicit;Le(1),gn("ngIf","empty"==n.id),Le(1),gn("ngIf","weather"==n.id),Le(1),gn("ngIf","clock"==n.id),Le(1),gn("ngIf","sbb"==n.id),Le(1),gn("ngIf","meme"==n.id),Le(1),gn("ngIf","todo"==n.id)}}function One(t,e){if(1&t){const n=function zS(){return M()}();Ee(0,"button",7),Ju("click",function(){return function s0(t){return ae.lFrame.contextLView=t,t[8]}(n),vi().login()}),Jt(1,"Login"),Ie()}}const Pne=[{path:"",component:(()=>{class t{constructor(n,r){this.authService=n,this.firestoreService=r,this.userComponents=[]}augmentComponentClasses(){for(const n of this.userComponents){let r;switch(+n.position){case 1:r="col-start-1 row-start-1";break;case 2:r="col-start-2 row-start-1";break;case 3:r="col-start-3 row-start-1";break;case 4:r="col-start-1 row-start-2";break;case 5:r="col-start-2 row-start-2";break;case 6:r="col-start-3 row-start-2"}r+=` row-span-${n.height} col-span-${n.width}`,n.classes=r}this.emptyPositions=Array(6-this.userComponents.length).fill(0)}ngAfterContentInit(){var n=this;return g(function*(){n.signedOut=!0,localStorage.getItem("user")&&(n.subscribe(),n.signedOut=!1)})()}login(){var n=this;return g(function*(){n.authService.login()})()}subscribe(){var n;null===(n=this.firestoreService.getAll())||void 0===n||n.subscribe(r=>{this.userComponents=r,this.augmentComponentClasses()})}}return t.\u0275fac=function(n){return new(n||t)(Z(vJ),Z(nne))},t.\u0275cmp=qr({type:t,selectors:[["app-display"]],decls:3,vars:2,consts:[[1,"grid","grid-cols-3","grid-rows-2","gap-4","pl-4","overflow-hidden","pr-4","h-screen","max-h-screen","w-screen","bg-black","text-white"],[4,"ngFor","ngForOf"],["class","bg-green-800",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],[3,"latitude"],[3,"start","destinations"],[3,"entries"],[1,"bg-green-800",3,"click"]],template:function(n,r){1&n&&(Ee(0,"div",0),Zn(1,Nne,7,6,"ng-container",1),Zn(2,One,2,0,"button",2),Ie()),2&n&&(Le(1),gn("ngForOf",r.userComponents),Le(1),gn("ngIf",r.signedOut))},directives:[mc,gy,_ne,vne,Ine,Tne,Cne],styles:[""]}),t})()}];let Fne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=Wn({imports:[[sk.forRoot(Pne)],sk]}),t})(),Lne=(()=>{class t{constructor(){this.title="smart-mirror-display"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Tn(0,"router-outlet")},directives:[By],styles:[""]}),t})();const uU_firebase={projectId:"smartmirror-339017",appId:"1:661778699910:web:dbc8203725b2549943a307",storageBucket:"smartmirror-339017.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAZZi5_oJPdyujGe1CRpQymlv6bptkg-5M",authDomain:"smartmirror-339017.firebaseapp.com",messagingSenderId:"661778699910"};let Vne=(()=>{class t{constructor(n){this.http=n}getWeatherData(){return this.http.get("https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&daily=weathercode,temperature_2m_max,temperature_2m_min&current_weather=true&timezone=Europe%2FBerlin")}}return t.\u0275fac=function(n){return new(n||t)(Q(lD))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jne=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t,bootstrap:[Lne]}),t.\u0275inj=Wn({providers:[Vne],imports:[[cW,Fne,$7(()=>H7(uU_firebase)),mJ(()=>yJ()),Hte(()=>Wte()),mne]]}),t})();(function VG(){dM=!1})(),aW().bootstrapModule(jne).catch(t=>console.error(t))},14:(V,ue,D)=>{V.exports=D(114)},729:(V,ue,D)=>{"use strict";var E=D(701),P=D(858),R=D(738),C=D(625),S=D(215),L=D(99),w=D(100),F=D(593);V.exports=function(y){return new Promise(function(J,ie){var z=y.data,K=y.headers,et=y.responseType;E.isFormData(z)&&delete K["Content-Type"];var A=new XMLHttpRequest;if(y.auth){var se=y.auth.username||"",be=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";K.Authorization="Basic "+btoa(se+":"+be)}var me=S(y.baseURL,y.url);function ee(){if(A){var Nt="getAllResponseHeaders"in A?L(A.getAllResponseHeaders()):null;P(J,ie,{data:et&&"text"!==et&&"json"!==et?A.response:A.responseText,status:A.status,statusText:A.statusText,headers:Nt,config:y,request:A}),A=null}}if(A.open(y.method.toUpperCase(),C(me,y.params,y.paramsSerializer),!0),A.timeout=y.timeout,"onloadend"in A?A.onloadend=ee:A.onreadystatechange=function(){!A||4!==A.readyState||0===A.status&&(!A.responseURL||0!==A.responseURL.indexOf("file:"))||setTimeout(ee)},A.onabort=function(){!A||(ie(F("Request aborted",y,"ECONNABORTED",A)),A=null)},A.onerror=function(){ie(F("Network Error",y,null,A)),A=null},A.ontimeout=function(){var On="timeout of "+y.timeout+"ms exceeded";y.timeoutErrorMessage&&(On=y.timeoutErrorMessage),ie(F(On,y,y.transitional&&y.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",A)),A=null},E.isStandardBrowserEnv()){var tt=(y.withCredentials||w(me))&&y.xsrfCookieName?R.read(y.xsrfCookieName):void 0;tt&&(K[y.xsrfHeaderName]=tt)}"setRequestHeader"in A&&E.forEach(K,function(On,O){void 0===z&&"content-type"===O.toLowerCase()?delete K[O]:A.setRequestHeader(O,On)}),E.isUndefined(y.withCredentials)||(A.withCredentials=!!y.withCredentials),et&&"json"!==et&&(A.responseType=y.responseType),"function"==typeof y.onDownloadProgress&&A.addEventListener("progress",y.onDownloadProgress),"function"==typeof y.onUploadProgress&&A.upload&&A.upload.addEventListener("progress",y.onUploadProgress),y.cancelToken&&y.cancelToken.promise.then(function(On){!A||(A.abort(),ie(On),A=null)}),z||(z=null),A.send(z)})}},114:(V,ue,D)=>{"use strict";var E=D(701),P=D(414),R=D(490),C=D(971);function L(F){var x=new R(F),y=P(R.prototype.request,x);return E.extend(y,R.prototype,x),E.extend(y,x),y}var w=L(D(324));w.Axios=R,w.create=function(x){return L(C(w.defaults,x))},w.Cancel=D(413),w.CancelToken=D(56),w.isCancel=D(827),w.all=function(x){return Promise.all(x)},w.spread=D(936),w.isAxiosError=D(603),V.exports=w,V.exports.default=w},413:V=>{"use strict";function ue(D){this.message=D}ue.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ue.prototype.__CANCEL__=!0,V.exports=ue},56:(V,ue,D)=>{"use strict";var E=D(413);function P(R){if("function"!=typeof R)throw new TypeError("executor must be a function.");var C;this.promise=new Promise(function(w){C=w});var S=this;R(function(w){S.reason||(S.reason=new E(w),C(S.reason))})}P.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},P.source=function(){var C;return{token:new P(function(w){C=w}),cancel:C}},V.exports=P},827:V=>{"use strict";V.exports=function(D){return!(!D||!D.__CANCEL__)}},490:(V,ue,D)=>{"use strict";var E=D(701),P=D(625),R=D(607),C=D(957),S=D(971),L=D(828),w=L.validators;function F(x){this.defaults=x,this.interceptors={request:new R,response:new R}}F.prototype.request=function(y){"string"==typeof y?(y=arguments[1]||{}).url=arguments[0]:y=y||{},(y=S(this.defaults,y)).method=y.method?y.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var q=y.transitional;void 0!==q&&L.assertOptions(q,{silentJSONParsing:w.transitional(w.boolean,"1.0.0"),forcedJSONParsing:w.transitional(w.boolean,"1.0.0"),clarifyTimeoutError:w.transitional(w.boolean,"1.0.0")},!1);var J=[],ie=!0;this.interceptors.request.forEach(function(ee){"function"==typeof ee.runWhen&&!1===ee.runWhen(y)||(ie=ie&&ee.synchronous,J.unshift(ee.fulfilled,ee.rejected))});var K,z=[];if(this.interceptors.response.forEach(function(ee){z.push(ee.fulfilled,ee.rejected)}),!ie){var et=[C,void 0];for(Array.prototype.unshift.apply(et,J),et=et.concat(z),K=Promise.resolve(y);et.length;)K=K.then(et.shift(),et.shift());return K}for(var A=y;J.length;){var se=J.shift(),be=J.shift();try{A=se(A)}catch(me){be(me);break}}try{K=C(A)}catch(me){return Promise.reject(me)}for(;z.length;)K=K.then(z.shift(),z.shift());return K},F.prototype.getUri=function(y){return y=S(this.defaults,y),P(y.url,y.params,y.paramsSerializer).replace(/^\?/,"")},E.forEach(["delete","get","head","options"],function(y){F.prototype[y]=function(q,J){return this.request(S(J||{},{method:y,url:q,data:(J||{}).data}))}}),E.forEach(["post","put","patch"],function(y){F.prototype[y]=function(q,J,ie){return this.request(S(ie||{},{method:y,url:q,data:J}))}}),V.exports=F},607:(V,ue,D)=>{"use strict";var E=D(701);function P(){this.handlers=[]}P.prototype.use=function(C,S,L){return this.handlers.push({fulfilled:C,rejected:S,synchronous:!!L&&L.synchronous,runWhen:L?L.runWhen:null}),this.handlers.length-1},P.prototype.eject=function(C){this.handlers[C]&&(this.handlers[C]=null)},P.prototype.forEach=function(C){E.forEach(this.handlers,function(L){null!==L&&C(L)})},V.exports=P},215:(V,ue,D)=>{"use strict";var E=D(692),P=D(554);V.exports=function(C,S){return C&&!E(S)?P(C,S):S}},593:(V,ue,D)=>{"use strict";var E=D(124);V.exports=function(R,C,S,L,w){var F=new Error(R);return E(F,C,S,L,w)}},957:(V,ue,D)=>{"use strict";var E=D(701),P=D(134),R=D(827),C=D(324);function S(L){L.cancelToken&&L.cancelToken.throwIfRequested()}V.exports=function(w){return S(w),w.headers=w.headers||{},w.data=P.call(w,w.data,w.headers,w.transformRequest),w.headers=E.merge(w.headers.common||{},w.headers[w.method]||{},w.headers),E.forEach(["delete","get","head","post","put","patch","common"],function(y){delete w.headers[y]}),(w.adapter||C.adapter)(w).then(function(y){return S(w),y.data=P.call(w,y.data,y.headers,w.transformResponse),y},function(y){return R(y)||(S(w),y&&y.response&&(y.response.data=P.call(w,y.response.data,y.response.headers,w.transformResponse))),Promise.reject(y)})}},124:V=>{"use strict";V.exports=function(D,E,P,R,C){return D.config=E,P&&(D.code=P),D.request=R,D.response=C,D.isAxiosError=!0,D.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},D}},971:(V,ue,D)=>{"use strict";var E=D(701);V.exports=function(R,C){C=C||{};var S={},L=["url","method","data"],w=["headers","auth","proxy","params"],F=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],x=["validateStatus"];function y(z,K){return E.isPlainObject(z)&&E.isPlainObject(K)?E.merge(z,K):E.isPlainObject(K)?E.merge({},K):E.isArray(K)?K.slice():K}function q(z){E.isUndefined(C[z])?E.isUndefined(R[z])||(S[z]=y(void 0,R[z])):S[z]=y(R[z],C[z])}E.forEach(L,function(K){E.isUndefined(C[K])||(S[K]=y(void 0,C[K]))}),E.forEach(w,q),E.forEach(F,function(K){E.isUndefined(C[K])?E.isUndefined(R[K])||(S[K]=y(void 0,R[K])):S[K]=y(void 0,C[K])}),E.forEach(x,function(K){K in C?S[K]=y(R[K],C[K]):K in R&&(S[K]=y(void 0,R[K]))});var J=L.concat(w).concat(F).concat(x),ie=Object.keys(R).concat(Object.keys(C)).filter(function(K){return-1===J.indexOf(K)});return E.forEach(ie,q),S}},858:(V,ue,D)=>{"use strict";var E=D(593);V.exports=function(R,C,S){var L=S.config.validateStatus;S.status&&L&&!L(S.status)?C(E("Request failed with status code "+S.status,S.config,null,S.request,S)):R(S)}},134:(V,ue,D)=>{"use strict";var E=D(701),P=D(324);V.exports=function(C,S,L){var w=this||P;return E.forEach(L,function(x){C=x.call(w,C,S)}),C}},324:(V,ue,D)=>{"use strict";var E=D(701),P=D(620),R=D(124),C={"Content-Type":"application/x-www-form-urlencoded"};function S(x,y){!E.isUndefined(x)&&E.isUndefined(x["Content-Type"])&&(x["Content-Type"]=y)}var F={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function L(){var x;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(x=D(729)),x}(),transformRequest:[function(y,q){return P(q,"Accept"),P(q,"Content-Type"),E.isFormData(y)||E.isArrayBuffer(y)||E.isBuffer(y)||E.isStream(y)||E.isFile(y)||E.isBlob(y)?y:E.isArrayBufferView(y)?y.buffer:E.isURLSearchParams(y)?(S(q,"application/x-www-form-urlencoded;charset=utf-8"),y.toString()):E.isObject(y)||q&&"application/json"===q["Content-Type"]?(S(q,"application/json"),function w(x,y,q){if(E.isString(x))try{return(y||JSON.parse)(x),E.trim(x)}catch(J){if("SyntaxError"!==J.name)throw J}return(q||JSON.stringify)(x)}(y)):y}],transformResponse:[function(y){var q=this.transitional,z=!(q&&q.silentJSONParsing)&&"json"===this.responseType;if(z||q&&q.forcedJSONParsing&&E.isString(y)&&y.length)try{return JSON.parse(y)}catch(K){if(z)throw"SyntaxError"===K.name?R(K,this,"E_JSON_PARSE"):K}return y}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(y){return y>=200&&y<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(y){F.headers[y]={}}),E.forEach(["post","put","patch"],function(y){F.headers[y]=E.merge(C)}),V.exports=F},414:V=>{"use strict";V.exports=function(D,E){return function(){for(var R=new Array(arguments.length),C=0;C<R.length;C++)R[C]=arguments[C];return D.apply(E,R)}}},625:(V,ue,D)=>{"use strict";var E=D(701);function P(R){return encodeURIComponent(R).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}V.exports=function(C,S,L){if(!S)return C;var w;if(L)w=L(S);else if(E.isURLSearchParams(S))w=S.toString();else{var F=[];E.forEach(S,function(q,J){null==q||(E.isArray(q)?J+="[]":q=[q],E.forEach(q,function(z){E.isDate(z)?z=z.toISOString():E.isObject(z)&&(z=JSON.stringify(z)),F.push(P(J)+"="+P(z))}))}),w=F.join("&")}if(w){var x=C.indexOf("#");-1!==x&&(C=C.slice(0,x)),C+=(-1===C.indexOf("?")?"?":"&")+w}return C}},554:V=>{"use strict";V.exports=function(D,E){return E?D.replace(/\/+$/,"")+"/"+E.replace(/^\/+/,""):D}},738:(V,ue,D)=>{"use strict";var E=D(701);V.exports=E.isStandardBrowserEnv()?{write:function(C,S,L,w,F,x){var y=[];y.push(C+"="+encodeURIComponent(S)),E.isNumber(L)&&y.push("expires="+new Date(L).toGMTString()),E.isString(w)&&y.push("path="+w),E.isString(F)&&y.push("domain="+F),!0===x&&y.push("secure"),document.cookie=y.join("; ")},read:function(C){var S=document.cookie.match(new RegExp("(^|;\\s*)("+C+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove:function(C){this.write(C,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},692:V=>{"use strict";V.exports=function(D){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(D)}},603:V=>{"use strict";V.exports=function(D){return"object"==typeof D&&!0===D.isAxiosError}},100:(V,ue,D)=>{"use strict";var E=D(701);V.exports=E.isStandardBrowserEnv()?function(){var S,R=/(msie|trident)/i.test(navigator.userAgent),C=document.createElement("a");function L(w){var F=w;return R&&(C.setAttribute("href",F),F=C.href),C.setAttribute("href",F),{href:C.href,protocol:C.protocol?C.protocol.replace(/:$/,""):"",host:C.host,search:C.search?C.search.replace(/^\?/,""):"",hash:C.hash?C.hash.replace(/^#/,""):"",hostname:C.hostname,port:C.port,pathname:"/"===C.pathname.charAt(0)?C.pathname:"/"+C.pathname}}return S=L(window.location.href),function(F){var x=E.isString(F)?L(F):F;return x.protocol===S.protocol&&x.host===S.host}}():function(){return!0}},620:(V,ue,D)=>{"use strict";var E=D(701);V.exports=function(R,C){E.forEach(R,function(L,w){w!==C&&w.toUpperCase()===C.toUpperCase()&&(R[C]=L,delete R[w])})}},99:(V,ue,D)=>{"use strict";var E=D(701),P=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];V.exports=function(C){var L,w,F,S={};return C&&E.forEach(C.split("\n"),function(y){if(F=y.indexOf(":"),L=E.trim(y.substr(0,F)).toLowerCase(),w=E.trim(y.substr(F+1)),L){if(S[L]&&P.indexOf(L)>=0)return;S[L]="set-cookie"===L?(S[L]?S[L]:[]).concat([w]):S[L]?S[L]+", "+w:w}}),S}},936:V=>{"use strict";V.exports=function(D){return function(P){return D.apply(null,P)}}},828:(V,ue,D)=>{"use strict";var E=D(50),P={};["object","boolean","number","function","string","symbol"].forEach(function(w,F){P[w]=function(y){return typeof y===w||"a"+(F<1?"n ":" ")+w}});var R={},C=E.version.split(".");function S(w,F){for(var x=F?F.split("."):C,y=w.split("."),q=0;q<3;q++){if(x[q]>y[q])return!0;if(x[q]<y[q])return!1}return!1}P.transitional=function(F,x,y){var q=x&&S(x);function J(ie,z){return"[Axios v"+E.version+"] Transitional option '"+ie+"'"+z+(y?". "+y:"")}return function(ie,z,K){if(!1===F)throw new Error(J(z," has been removed in "+x));return q&&!R[z]&&(R[z]=!0,console.warn(J(z," has been deprecated since v"+x+" and will be removed in the near future"))),!F||F(ie,z,K)}},V.exports={isOlderVersion:S,assertOptions:function L(w,F,x){if("object"!=typeof w)throw new TypeError("options must be an object");for(var y=Object.keys(w),q=y.length;q-- >0;){var J=y[q],ie=F[J];if(ie){var z=w[J],K=void 0===z||ie(z,J,w);if(!0!==K)throw new TypeError("option "+J+" must be "+K)}else if(!0!==x)throw Error("Unknown option "+J)}},validators:P}},701:(V,ue,D)=>{"use strict";var E=D(414),P=Object.prototype.toString;function R(O){return"[object Array]"===P.call(O)}function C(O){return void 0===O}function q(O){return null!==O&&"object"==typeof O}function J(O){if("[object Object]"!==P.call(O))return!1;var Wt=Object.getPrototypeOf(O);return null===Wt||Wt===Object.prototype}function et(O){return"[object Function]"===P.call(O)}function ee(O,Wt){if(null!=O)if("object"!=typeof O&&(O=[O]),R(O))for(var It=0,vu=O.length;It<vu;It++)Wt.call(null,O[It],It,O);else for(var Ot in O)Object.prototype.hasOwnProperty.call(O,Ot)&&Wt.call(null,O[Ot],Ot,O)}V.exports={isArray:R,isArrayBuffer:function L(O){return"[object ArrayBuffer]"===P.call(O)},isBuffer:function S(O){return null!==O&&!C(O)&&null!==O.constructor&&!C(O.constructor)&&"function"==typeof O.constructor.isBuffer&&O.constructor.isBuffer(O)},isFormData:function w(O){return"undefined"!=typeof FormData&&O instanceof FormData},isArrayBufferView:function F(O){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(O):O&&O.buffer&&O.buffer instanceof ArrayBuffer},isString:function x(O){return"string"==typeof O},isNumber:function y(O){return"number"==typeof O},isObject:q,isPlainObject:J,isUndefined:C,isDate:function ie(O){return"[object Date]"===P.call(O)},isFile:function z(O){return"[object File]"===P.call(O)},isBlob:function K(O){return"[object Blob]"===P.call(O)},isFunction:et,isStream:function A(O){return q(O)&&et(O.pipe)},isURLSearchParams:function se(O){return"undefined"!=typeof URLSearchParams&&O instanceof URLSearchParams},isStandardBrowserEnv:function me(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:ee,merge:function tt(){var O={};function Wt(Ot,Se){O[Se]=J(O[Se])&&J(Ot)?tt(O[Se],Ot):J(Ot)?tt({},Ot):R(Ot)?Ot.slice():Ot}for(var It=0,vu=arguments.length;It<vu;It++)ee(arguments[It],Wt);return O},extend:function Nt(O,Wt,It){return ee(Wt,function(Ot,Se){O[Se]=It&&"function"==typeof Ot?E(Ot,It):Ot}),O},trim:function be(O){return O.trim?O.trim():O.replace(/^\s+|\s+$/g,"")},stripBOM:function On(O){return 65279===O.charCodeAt(0)&&(O=O.slice(1)),O}}},940:function(V,ue){!function(D){"use strict";function E(A){return Array.prototype.slice.call(A)}function P(A){return new Promise(function(se,be){A.onsuccess=function(){se(A.result)},A.onerror=function(){be(A.error)}})}function R(A,se,be){var me,ee=new Promise(function(tt,Nt){P(me=A[se].apply(A,be)).then(tt,Nt)});return ee.request=me,ee}function C(A,se,be){var me=R(A,se,be);return me.then(function(ee){if(ee)return new y(ee,me.request)})}function S(A,se,be){be.forEach(function(me){Object.defineProperty(A.prototype,me,{get:function(){return this[se][me]},set:function(ee){this[se][me]=ee}})})}function L(A,se,be,me){me.forEach(function(ee){ee in be.prototype&&(A.prototype[ee]=function(){return R(this[se],ee,arguments)})})}function w(A,se,be,me){me.forEach(function(ee){ee in be.prototype&&(A.prototype[ee]=function(){return this[se][ee].apply(this[se],arguments)})})}function F(A,se,be,me){me.forEach(function(ee){ee in be.prototype&&(A.prototype[ee]=function(){return C(this[se],ee,arguments)})})}function x(A){this._index=A}function y(A,se){this._cursor=A,this._request=se}function q(A){this._store=A}function J(A){this._tx=A,this.complete=new Promise(function(se,be){A.oncomplete=function(){se()},A.onerror=function(){be(A.error)},A.onabort=function(){be(A.error)}})}function ie(A,se,be){this._db=A,this.oldVersion=se,this.transaction=new J(be)}function z(A){this._db=A}S(x,"_index",["name","keyPath","multiEntry","unique"]),L(x,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),F(x,"_index",IDBIndex,["openCursor","openKeyCursor"]),S(y,"_cursor",["direction","key","primaryKey","value"]),L(y,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(A){A in IDBCursor.prototype&&(y.prototype[A]=function(){var se=this,be=arguments;return Promise.resolve().then(function(){return se._cursor[A].apply(se._cursor,be),P(se._request).then(function(me){if(me)return new y(me,se._request)})})})}),q.prototype.createIndex=function(){return new x(this._store.createIndex.apply(this._store,arguments))},q.prototype.index=function(){return new x(this._store.index.apply(this._store,arguments))},S(q,"_store",["name","keyPath","indexNames","autoIncrement"]),L(q,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),F(q,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),w(q,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new q(this._tx.objectStore.apply(this._tx,arguments))},S(J,"_tx",["objectStoreNames","mode"]),w(J,"_tx",IDBTransaction,["abort"]),ie.prototype.createObjectStore=function(){return new q(this._db.createObjectStore.apply(this._db,arguments))},S(ie,"_db",["name","version","objectStoreNames"]),w(ie,"_db",IDBDatabase,["deleteObjectStore","close"]),z.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},S(z,"_db",["name","version","objectStoreNames"]),w(z,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(A){[q,x].forEach(function(se){A in se.prototype&&(se.prototype[A.replace("open","iterate")]=function(){var be=E(arguments),me=be[be.length-1],ee=this._store||this._index,tt=ee[A].apply(ee,be.slice(0,-1));tt.onsuccess=function(){me(tt.result)}})})}),[x,q].forEach(function(A){A.prototype.getAll||(A.prototype.getAll=function(se,be){var me=this,ee=[];return new Promise(function(tt){me.iterateCursor(se,function(Nt){Nt?(ee.push(Nt.value),void 0===be||ee.length!=be?Nt.continue():tt(ee)):tt(ee)})})})}),D.openDb=function K(A,se,be){var me=R(indexedDB,"open",[A,se]),ee=me.request;return ee&&(ee.onupgradeneeded=function(tt){be&&be(new ie(ee.result,tt.oldVersion,ee.transaction))}),me.then(function(tt){return new z(tt)})},D.deleteDb=function et(A){return R(indexedDB,"deleteDatabase",[A])},Object.defineProperty(D,"__esModule",{value:!0})}(ue)},143:V=>{V.exports.searchType=["hot","top","rising"],V.exports.memeSubreddit=["memes","AdviceAnimals","AdviceAnimals+funny+memes","funny","PrequelMemes","SequelMemes","MemeEconomy","ComedyCemetery","dankmemes","terriblefacebookmemes","shittyadviceanimals","wholesomememes","me_irl","2meirl4meirl","i_irl","meirl","BikiniBottomTwitter","trippinthroughtime","boottoobig","HistoryMemes","OTMemes","starterpacks","gifs","rickandmorty","FellowKids","Memes_Of_The_Dank","raimimemes","comedyhomicide","lotrmemes","freefolk","GameOfThronesMemes","howyoudoin","HolUp","meme","memeswithoutmods","dankmeme","suicidebywords","puns","PerfectTiming"],V.exports.wallpaperSubreddit=["wallpaper","wallpapers","iWallpaper","earthporn","SkyPorn","Beachporn","multiwall","ImaginaryStarscapes","ImaginaryLandscapes","ImaginaryFuturism","ExposurePorn","phonewallpapers","MobileWallpaper","iphonewallpapers","iphonexwallpapers","ImaginaryBestOf","ReasonableFantasy","BirdsForScale","SympatheticMonsters","EpicMounts","ImaginaryBehemoths","mtgporn","ImaginaryLeviathans","ImaginaryColorscapes","ImaginaryCityscapes","ImaginaryMindscapes","Cyberpunk","ImaginaryCyberpunk","ImaginaryFeels","ImaginaryTechnology","wallpaperengine"]},482:(V,ue,D)=>{var E=D(926).default;const P=D(689),R=D(848),C=D(143),L=function(){var F=E(function*(x={}){try{let y=75,q=1,J="meme",ie=C.memeSubreddit;if("object"==typeof x&&void 0!==x.type&&("wallpaper"===x.type?(J="wallpaper",ie=C.wallpaperSubreddit):"custom"===x.type&&(J="custom",ie=[])),"object"==typeof x){if(void 0!==x.total){if(x.total>50)throw Error("max value of total is 50");if(x.total<1)throw Error("min value of total is 1");q=x.total}void 0!==x.addSubreddit&&(ie=ie.concat(x.addSubreddit)),void 0!==x.removeSubreddit&&x.removeSubreddit.forEach(z=>{let K=ie.indexOf(z);-1!==K&&ie.splice(K,1)}),"custom"===J&&void 0!==x.subreddit&&(ie=x.subreddit)}if(!ie.length)throw Error("Can not fetch from empty subreddit library");return yield w(parseInt(q),J,ie,y)}catch(y){return console.error(y),[]}});return function(){return F.apply(this,arguments)}}(),w=function(){var F=E(function*(x,y,q,J,ie=0,z=[]){if(50==++ie)throw Error("Maximum retry limit exceeded");let K;try{let A=R.randomNumber(0,q.length);K=yield R.getRequest("https://api.reddit.com/r/"+q[A]+"/"+P.pick(C.searchType,{picks:1})+"?limit="+J)}catch(A){return yield w(x,y,q,J,ie)}return K.data.data.children.forEach(A=>{let se=!0;"wallpaper"===y&&(se=!1),void 0!==A.data&&void 0!==A.data.url&&R.isImageUrl(A.data.url,se)&&z.push(R.formatPost(A.data,y))}),z.length<x&&(z=yield w(x,y,q,J,ie,z)),1===x?[P.pick(z,{picks:x})]:P.pick(z,{picks:x})});return function(y,q,J,ie){return F.apply(this,arguments)}}();V.exports.fetch=L},848:(V,ue,D)=>{var E=D(926).default;const P=D(14),S=function(){var w=E(function*(F){try{return P.get(F)}catch(x){throw Error(x)}});return function(x){return w.apply(this,arguments)}}();V.exports.randomNumber=(w,F)=>(w=Math.ceil(w),F=Math.floor(F),Math.floor(Math.random()*(F-w))+w),V.exports.isImageUrl=(w,F=!0)=>F?!w.includes(".gifv")&&(w.includes(".jpg")||w.includes(".png")||w.includes(".gif")||w.includes(".jpeg")):!w.includes(".gifv")&&(w.includes(".jpg")||w.includes(".png")||w.includes(".jpeg")),V.exports.getRequest=S,V.exports.formatPost=(w,F)=>({id:void 0!==w.id?w.id:null,type:F,title:void 0!==w.title?w.title:null,postLink:void 0!==w.id?"https://redd.it/"+w.id:null,image:void 0!==w.url?w.url:null,thumbnail:void 0!==w.thumbnail?w.thumbnail:null,subreddit:void 0!==w.subreddit?w.subreddit:null,NSFW:void 0!==w.over_18?w.over_18:null,spoiler:void 0!==w.spoiler?w.spoiler:null,createdUtc:void 0!==w.created_utc?w.created_utc:null,upvotes:void 0!==w.ups?w.ups:null,upvoteRatio:void 0!==w.upvote_ratio?w.upvote_ratio:null})},689:V=>{"use strict";function ue(D,E){if(!Array.isArray(D))throw new Error("shuffle expect an array as parameter.");var S,L,P=D,R=D.length,C=(E=E||{}).rng||Math.random;for(!0===E.copy&&(P=D.slice());R;)S=Math.floor(C()*R),L=P[R-=1],P[R]=P[S],P[S]=L;return P}ue.pick=function(D,E){if(!Array.isArray(D))throw new Error("shuffle.pick() expect an array as parameter.");var P=(E=E||{}).rng||Math.random,R=E.picks||1;if("number"==typeof R&&1!==R){for(var w,C=D.length,S=D.slice(),L=[];R&&C;)w=Math.floor(P()*C),L.push(S[w]),S.splice(w,1),C-=1,R-=1;return L}return D[Math.floor(P()*D.length)]},V.exports=ue},926:V=>{function ue(E,P,R,C,S,L,w){try{var F=E[L](w),x=F.value}catch(y){return void R(y)}F.done?P(x):Promise.resolve(x).then(C,S)}V.exports=function D(E){return function(){var P=this,R=arguments;return new Promise(function(C,S){var L=E.apply(P,R);function w(x){ue(L,C,S,w,F,"next",x)}function F(x){ue(L,C,S,w,F,"throw",x)}w(void 0)})}},V.exports.default=V.exports,V.exports.__esModule=!0},50:V=>{"use strict";V.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},V=>{V(V.s=211)}]);